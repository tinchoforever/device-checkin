/*1364864601,178142531*/

if (self.CavalryLogger) { CavalryLogger.start_js(["alKmg"]); }

__d("BrowseLogger",["Banzai","copyProperties","Run"],function(a,b,c,d,e,f){var g=b('Banzai'),h=b('copyProperties'),i=b('Run'),j='browse',k='browse_aggr',l=null,m={},n={};function o(){l=null;m={};n={};}function p(v){h(v,{clientSessionID:l});return v;}function q(v){g.post(j,p(v));}function r(){if(l===null)return;n.aggregated=m;g.post(k,p(n));o();}function s(v){m[v]=(m[v]||0)+1;}function t(v){h(n,v);}i.onUnload(r);var u={newSession:function(){r();l=Math.random().toString();},logResultClick:function(v,w,x,y,z,aa,ba,ca,da,ea){var fa={action:'result_click',click_type:w,id:x,path:v,rank:z,referrer:ba,result_type:y,session_id:aa,abtest_version:ca,abtest_params:da,typeahead_sid:ea};s('result_click_'+w);t({path:v,referrer:ba,result_type:y,session_id:aa,abtest_version:ca,abtest_params:da,typeahead_sid:ea});q(fa);},logControlsClick:function(v,w,x,y,z,aa){var ba={action:'controls_click',click_type:w,path:v,referrer:aa,session_id:y,snack_name:x,typeahead_sid:z};s(y,'controls_click_'+w);t({path:v,referrer:aa,session_id:y,typeahead_sid:z});q(ba);},logResultHover:function(v,w,x,y,z,aa){var ba={action:'result_hover',id:w,path:v,rank:x,session_id:z,time_elapsed:y,typeahead_sid:aa};s(z,'result_hover');t({path:v,session_id:z,typeahead_sid:aa});q(ba);},logNUXStep:function(v){var w={action:'nux_step',step:v};q(w);},logDisambiguationImpression:function(v,w,x,y,z){var aa={action:'disambiguation_imp',ids:y,name:v,path:x,type:w,typeahead_sid:z};q(aa);},logDisambiguationClick:function(v,w,x,y,z,aa){var ba={action:'disambiguation_clk',id:z,index:y,name:v,path:x,type:w,typeahead_sid:aa};q(ba);}};e.exports=u;});
__d("BrowseMouseSpeedTracker",["Event","removeFromArray"],function(a,b,c,d,e,f){var g=b('Event'),h=b('removeFromArray'),i=50,j=null,k=null,l=[],m={x:0,y:0},n=0,o=[{x:0,y:0},{x:0,y:0}];function p(){o[n].x=m.x;o[n].y=m.y;n=(n+1)%2;}function q(){var w=o[0].x-o[1].x,x=o[0].y-o[1].y;return Math.sqrt(w*w+x*x)*(1000/i);}function r(){if(j)return;k=g.listen(document.body,'mousemove',function(event){m.x=event.pageX||event.screenX;m.y=event.pageY||event.screenY;});j=window.setInterval(function(){p();t(q());},i);}function s(){if(j){window.clearInterval(j);k.remove();j=null;}}function t(w){l.forEach(function(x){if(w<x.velocity){x.callback(w);u(x);}});}function u(w){h(l,w);l.length||s();}var v={addTrigger:function(w,x){var y={velocity:w,callback:x};r();l.push(y);return {remove:u.curry(y)};}};e.exports=v;});
__d("BrowseMouse",["Event","BrowseMouseSpeedTracker","CSS","DOM","DataStore","Parent","Run","Toggler","cx","removeFromArray"],function(a,b,c,d,e,f){var g=b('Event'),h=b('BrowseMouseSpeedTracker'),i=b('CSS'),j=b('DOM'),k=b('DataStore'),l=b('Parent'),m=b('Run'),n=b('Toggler'),o=b('cx'),p=b('removeFromArray'),q=500,r="_3u0",s="_3u1",t=null,u=[];function v(da){return l.byClass(da,s);}function w(da){return 'browse-'+(da?'over':'out');}function x(da){return i.addClass(da,s);}function y(da,ea,fa,ga){var ha=v(ea);if(!ga)u.push({element:ea,callback:fa});if(ha){var ia=w(da),ja=k.get(ha,ia,[]);k.set(ha,ia,ja.concat(fa));return ha;}}function z(da,ea){if(da){i.conditionClass(da,r,ea);var fa=k.get(da,w(ea));fa&&fa.forEach(function(ga){ga();});}}function aa(da){var ea=da.element;['browse-over','browse-out'].forEach(function(fa){var ga=k.get(ea,fa);if(ga){p(ga,da.callback);ga.length||k.remove(ea,fa);}});}function ba(){var da=null;if(t)return;t=g.listen(document.body,'mouseover',function(ea){var fa=v(ea.getTarget());if(!fa||fa==da)return;var ga=null,ha=null,ia=false;da=fa;var ja=h.addTrigger(q,function(){z(fa,true);ia=true;}),ka=function(){ja.remove();ma.remove();ga&&ga.remove();ha&&ha.unsubscribe();},la=function(){ka();ia&&z(fa,false);da=null;},ma=g.listen(fa,'mouseleave',function(){var na=n.getActive();if(na&&j.contains(fa,na)){ha=n.subscribe('hide',la);ga=g.listen(fa,'mouseover',ka);}else la();});});m.onLeave(function(){while(u.length)aa(u.pop());});}var ca={init:ba,makeTarget:x,onMouseOver:y.curry(true),onMouseOut:y.curry(false),removeListeners:aa};e.exports=ca;});
__d("BrowseResultsAreSlow",["CSS"],function(a,b,c,d,e,f){var g=b('CSS'),h=1500,i={register:function(j,k){setTimeout(function(){if(j.firstChild===k)g.show(k);},h);}};e.exports=i;});
__d("FacebarStructuredFragment",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(j,k){if(j&&k){return j.toLowerCase()==k.toLowerCase();}else return !j&&!k;}function i(j){this._text=String(j.text);this._uid=j.uid?String(j.uid):null;this._type=j.type?String(j.type):null;this._typeParts=null;}g(i.prototype,{getText:function(){return this._text;},getUID:function(){return this._uid;},getType:function(){return this._type;},getTypePart:function(j){return this._getTypeParts()[j];},getLength:function(){return this._text.length;},isType:function(j){for(var k=0;k<arguments.length;k++)if(!h(arguments[k],this.getTypePart(k)))return false;return true;},isWhitespace:function(){return (/^\s*$/).test(this._text);},toStruct:function(){return {text:this._text,type:this._type,uid:this._uid};},getHash:function(j){var k=j!=null?this._getTypeParts().slice(0,j).join(':'):this._type;return k+'::'+this._text;},_getTypeParts:function(){if(this._typeParts===null)this._typeParts=this._type?this._type.split(':'):[];return this._typeParts;}});e.exports=i;});
__d("FacebarStructuredText",["copyProperties","createArrayFrom","FacebarStructuredFragment"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('createArrayFrom'),i=b('FacebarStructuredFragment'),j=/\s+$/;function k(o){if(!o){return [];}else if(o instanceof n){return o.toArray();}else return h(o).map(function(p){return new i(p);});}function l(o){return new i({text:o,type:'text'});}function m(o,p,q){var r=o.getText(),s=r.replace(p,q);if(r!=s){return new i({text:s,type:o.getType(),uid:o.getUID()});}else return o;}function n(o){this._fragments=o||[];this._hash=null;}g(n,{fromStruct:function(o){return new n(k(o));},fromString:function(o){return new n([l(o)]);}});g(n.prototype,{matches:function(o,p){if(o){var q=this._fragments,r=o._fragments;return q.length==r.length&&!q.some(function(s,t){if(!p&&s.getUID()){return s.getUID()!=r[t].getUID();}else return s.getText()!=r[t].getText()||s.getType()!=r[t].getType();});}return false;},trim:function(){var o=null,p=null;this.forEach(function(r,s){if(!r.isWhitespace()){if(o===null)o=s;p=s;}});if(p!==null){var q=this._fragments.slice(o,p+1);q.push(m(q.pop(),j,''));return new n(q);}else return new n([]);},pad:function(){var o=this.getFragment(-1);if(o&&!j.test(o.getText())){return new n(this._fragments.concat(l(' ')));}else return this;},forEach:function(o){this._fragments.forEach(o);return this;},isEmptyOrWhitespace:function(){return this.isEmpty()||!this._fragments.some(function(o){return !o.isWhitespace();});},isEmpty:function(){return this.getLength()===0;},getFragment:function(o){return this._fragments[o>=0?o:this._fragments.length+o];},getCount:function(){return this._fragments.length;},getLength:function(){var o=0;this.forEach(function(p){o+=p.getLength();});return o;},toStruct:function(){return this._fragments.map(function(o){return o.toStruct();});},toArray:function(){return this._fragments.slice();},toString:function(){return this._fragments.map(function(o){return o.getText();}).join('');},getHash:function(){if(this._hash===null)this._hash=this._fragments.map(function(o){if(o.getUID()){return '[['+o.getHash(1)+']]';}else return o.getText();}).join('');return this._hash;}});e.exports=n;});
__d("FacebarNavigation",["Arbiter","DOMQuery","FacebarStructuredText","Input","URI"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('DOMQuery'),i=b('FacebarStructuredText'),j=b('Input'),k=b('URI'),l=null,m=null,n=null,o=false,p=true,q=(function(){var v={},w=function(x){return 'uri-'+x.getQualifiedURI().toString();};return {set:function(x,y){v[w(x)]=y;},get:function(x){return v[w(x)];}};})();function r(v,w){n=v;o=w;p=false;s();}function s(){if(p){return;}else if(m){o&&m.pageTransition();m.setPageQuery(n);p=true;}else if(l&&!j.getValue(l))j.setValue(l,t()+' ');}function t(){return n?n.structure.map(function(v){return v.text;}).join(''):'';}g.subscribe('page_transition',function(v,w){r(q.get(w.uri),true);});var u={registerInput:function(v){l=h.scry(v,'.structuredText')[0];s();},registerBehavior:function(v){m=v;s();},setPageQuery:function(v){q.set(k.getNextURI(),v);v.structure=i.fromStruct(v.structure);r(v,false);}};e.exports=u;});