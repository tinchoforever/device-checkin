/*1364911460,173213727*/

if (self.CavalryLogger) { CavalryLogger.start_js(["XQzRx"]); }

__d("EmuController",["AsyncRequest","DataStore","URI","$","copyProperties","emptyFunction","ge","goURI"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('DataStore'),i=b('URI'),j=b('$'),k=b('copyProperties'),l=b('emptyFunction'),m=b('ge'),n=b('goURI');function o(p,q){this.impression=q;this.containerId=p;h.set(j(p),'emuController',this);return this;}k(o,{fromContainer:function(p){var q=m(p);if(!q)return null;return h.get(q,'emuController');},getEventClass:function(p){return "emuEvent"+String(p).trim();}});k(o.prototype,{EVENT_HANDLER_PATH:'/ajax/emu/end.php',CLICK:1,FAN:"fad_fan",FOLLOW:"fad_follow",event:function(p,q,r,s){var t={eid:this.impression,f:0,ui:this.containerId,en:p,a:1};if(q)t.ed=JSON.stringify(q);if(!s)s=l;var u=new g().setURI(this.EVENT_HANDLER_PATH).setData(t).setErrorHandler(s);if(r)u.setHandler(r);u.send();},redirect:function(){var p={eid:this.impression,f:0,ui:this.containerId,en:this.CLICK,a:0,sig:Math.floor(Math.random()*65535)+65536},q=new i(this.EVENT_HANDLER_PATH);q.setQueryData(p);n(q);}});e.exports=o;});
__d("legacy:ad-units-base-js",["EmuController"],function(a,b,c,d){a.EmuController=b('EmuController');},3);
__d("BassWhitespaceListener",["Bootloader","Event","Parent","copyProperties","goURI"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=b('Event'),i=b('Parent'),j=b('copyProperties'),k=b('goURI');function l(m,n){this.link=n;h.listen(m,'click',this.onclicked.bind(this));}j(l.prototype,{onclicked:function(m){if(i.byTag(m.getTarget(),'A'))return;switch(this.link.getAttribute('rel')){case 'async':g.loadModules(['AsyncRequest'],function(o){o.bootstrap(this.link.getAttribute('ajaxify'),this.link);}.bind(this));break;case 'theater':var n=i.byClass(m.getTarget(),'fbPhotoSnowlift');g.loadModules(['PhotoViewer'],function(o){o.bootstrap(this.link.getAttribute('ajaxify'),this.link);}.bind(this));if(n)return false;break;default:k(this.link.getAttribute('href'));}}});e.exports=l;});
__d("legacy:ad-units-stream-whitespace",["BassWhitespaceListener"],function(a,b,c,d){a.BassWhitespaceListener=b('BassWhitespaceListener');},3);
__d("AdblockDetector",[],function(a,b,c,d,e,f){var g='data-adblock-hash',h={},i=0;function j(k,l){var m=k.getAttribute(g);if(!m){m=++i;k.setAttribute(g,m);}else if(h[m]){clearTimeout(h[m]);h[m]=null;}h[m]=setTimeout(function(){h[m]=null;if(!k.offsetHeight){var n=k,o=document.getElementsByTagName('body')[0];while(n&&n!==o){if(n.style.display==='none'||n.style.height==='0px'||n.style.height===0||n.style.height==='0'||n.childNodes.length===0)return;n=n.parentNode;}if(n===o)l&&l(k);}},3000);}f.assertUnblocked=j;});
__d("AdblockDetectorLogging",["AdblockDetector","EagleEye"],function(a,b,c,d,e,f){var g=b('AdblockDetector'),h=b('EagleEye');function i(j){g.assertUnblocked(j,h.log.bind(h,'ads',{event:'ads_blocked'}));}f.assertUnblocked=i;});
__d("EgoAdsObjectSet",["copyProperties","csx","DOM"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('csx'),i=b('DOM');function j(){this._allEgoUnits=[];this._egoUnits=[];}g(j.prototype,{init:function(l){this._allEgoUnits=l;this._egoUnits=[];this._allEgoUnits.forEach(function(m){var n=k(m);if(!n||!n.holdout)this._egoUnits.push(m);},this);},getCount:function(){return this._egoUnits.length;},forEach:function(l,m){this._egoUnits.forEach(l,m);},getUnit:function(l){return this._egoUnits[l];},getHoldoutAdIDsForSpace:function(l,m){if(!l||!m)return [];var n=[];for(var o=0;l>0&&o<this._allEgoUnits.length;o++){var p=this._allEgoUnits[o],q=m(p),r=k(p);if(l>=q&&r&&r.holdout)n.push(r.adid);l-=q;}return n;},getHoldoutAdIDsForNumAds:function(l){l=Math.min(l,this._allEgoUnits.length);var m=[];for(var n=0;n<l;n++){var o=this._allEgoUnits[n],p=k(o);if(p&&p.holdout)m.push(p.adid);}return m;}});function k(l){var m=i.scry(l,"div._4u8")[0],n=m&&m.getAttribute('data-ad');return n&&JSON.parse(n)||undefined;}e.exports=j;});
__d("ChatConfig",["ChatConfigInitialData","copyProperties"],function(a,b,c,d,e,f){var g=b('ChatConfigInitialData'),h=b('copyProperties'),i={},j={get:function(k,l){return k in i?i[k]:l;},set:function(k){if(arguments.length>1){var l={};l[k]=arguments[1];k=l;}h(i,k);},getDebugInfo:function(){return i;}};j.set(g);e.exports=j;});
__d("Vector",["Event","DOMDimensions","DOMPosition","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DOMDimensions'),i=b('DOMPosition'),j=b('copyProperties');function k(l,m,n){j(this,{x:parseFloat(l),y:parseFloat(m),domain:n||'pure'});}j(k.prototype,{toString:function(){return '('+this.x+', '+this.y+')';},add:function(l,m){if(arguments.length==1){if(l.domain!='pure')l=l.convertTo(this.domain);return this.add(l.x,l.y);}var n=parseFloat(l),o=parseFloat(m);return new k(this.x+n,this.y+o,this.domain);},mul:function(l,m){if(typeof m=="undefined")m=l;return new k(this.x*l,this.y*m,this.domain);},sub:function(l,m){if(arguments.length==1){return this.add(l.mul(-1));}else return this.add(-l,-m);},distanceTo:function(l){return this.sub(l).magnitude();},magnitude:function(){return Math.sqrt((this.x*this.x)+(this.y*this.y));},convertTo:function(l){if(l!='pure'&&l!='viewport'&&l!='document')return new k(0,0);if(l==this.domain)return new k(this.x,this.y,this.domain);if(l=='pure')return new k(this.x,this.y);if(this.domain=='pure')return new k(0,0);var m=k.getScrollPosition('document'),n=this.x,o=this.y;if(this.domain=='document'){n-=m.x;o-=m.y;}else{n+=m.x;o+=m.y;}return new k(n,o,l);},setElementPosition:function(l){var m=this.convertTo('document');l.style.left=parseInt(m.x)+'px';l.style.top=parseInt(m.y)+'px';return this;},setElementDimensions:function(l){return this.setElementWidth(l).setElementHeight(l);},setElementWidth:function(l){l.style.width=parseInt(this.x,10)+'px';return this;},setElementHeight:function(l){l.style.height=parseInt(this.y,10)+'px';return this;},scrollElementBy:function(l){if(l==document.body){window.scrollBy(this.x,this.y);}else{l.scrollLeft+=this.x;l.scrollTop+=this.y;}return this;}});j(k,{getEventPosition:function(l,m){m=m||'document';var n=g.getPosition(l),o=new k(n.x,n.y,'document');return o.convertTo(m);},getScrollPosition:function(l){l=l||'document';var m=i.getScrollPosition();return new k(m.x,m.y,'document').convertTo(l);},getElementPosition:function(l,m){m=m||'document';var n=i.getElementPosition(l);return new k(n.x,n.y,'viewport').convertTo(m);},getElementDimensions:function(l){var m=h.getElementDimensions(l);return new k(m.width,m.height);},getViewportDimensions:function(){var l=h.getViewportDimensions();return new k(l.width,l.height,'viewport');},getDocumentDimensions:function(l){var m=h.getDocumentDimensions(l);return new k(m.width,m.height,'document');},deserialize:function(l){var m=l.split(',');return new k(m[0],m[1]);}});e.exports=k;});
__d("removeFromArray",[],function(a,b,c,d,e,f){function g(h,i){var j=h.indexOf(i);j!=-1&&h.splice(j,1);}e.exports=g;});
__d("ViewportBounds",["Style","emptyFunction","ge","removeFromArray"],function(a,b,c,d,e,f){var g=b('Style'),h=b('emptyFunction'),i=b('ge'),j=b('removeFromArray'),k={top:[],right:[],bottom:[],left:[]};function l(p){return function(){var q=0;k[p].forEach(function(r){q=Math.max(q,r.getSize());});return q;};}function m(p){return function(q){return new n(p,q);};}function n(p,q){this.getSide=h.thatReturns(p);this.getSize=function(){return typeof q==='function'?q():q;};k[p].push(this);}n.prototype.remove=function(){j(k[this.getSide()],this);};var o={getTop:l('top'),getRight:l('right'),getBottom:l('bottom'),getLeft:l('left'),addTop:m('top'),addRight:m('right'),addBottom:m('bottom'),addLeft:m('left')};o.addTop(function(){var p=i('blueBar');if(p&&g.isFixed(p))return i('blueBarHolder').offsetHeight;return 0;});e.exports=o;});
__d("isAsyncScrollQuery",["UserAgent"],function(a,b,c,d,e,f){var g=b('UserAgent'),h=null;function i(){if(h===null)h=g.osx()>=10.8&&g.webkit()>=536.25&&!g.chrome();return h;}e.exports=i;});
__d("ScrollAwareDOM",["ArbiterMixin","CSS","DOM","DOMDimensions","DOMPosition","DOMQuery","HTML","Vector","ViewportBounds","copyProperties","isAsyncScrollQuery"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('CSS'),i=b('DOM'),j=b('DOMDimensions'),k=b('DOMPosition'),l=b('DOMQuery'),m=b('HTML'),n=b('Vector'),o=b('ViewportBounds'),p=b('copyProperties'),q=b('isAsyncScrollQuery');function r(w,x){return function(){v.monitor(arguments[w],x.curry.apply(x,arguments));};}function s(w){if(!(w instanceof Array))w=[w];for(var x=0;x<w.length;x++){var y=m.replaceJSONWrapper(w[x]);if(y instanceof m){return y.getRootNode();}else if(i.isNode(y))return y;}return null;}function t(w){return k.getElementPosition(w).y>o.getTop();}function u(w){var x=k.getElementPosition(w).y+j.getElementDimensions(w).height,y=j.getViewportDimensions().height-o.getBottom();return x>=y;}var v=p({monitor:function(w,x){if(q())return x();var y=s(w);if(y){var z=!!y.offsetParent;if(z&&(t(y)||u(y)))return x();var aa=n.getDocumentDimensions(),ba=x();if(z||(y.offsetParent&&!t(y))){var ca=n.getDocumentDimensions().sub(aa),da={delta:ca,target:y};if(v.inform('scroll',da)!==false)ca.scrollElementBy(l.getDocumentScrollElement());}return ba;}else return x();},replace:function(w,x){var y=s(x);if(!y||h.hasClass(y,'hidden_elem'))y=w;return v.monitor(y,function(){i.replace(w,x);});},prependContent:r(1,i.prependContent),insertAfter:r(1,i.insertAfter),insertBefore:r(1,i.insertBefore),setContent:r(0,i.setContent),appendContent:r(1,i.appendContent),remove:r(0,i.remove),empty:r(0,i.empty)},g);e.exports=v;});
__d("legacy:ScrollAwareDOM",["ScrollAwareDOM"],function(a,b,c,d){a.ScrollAwareDOM=b('ScrollAwareDOM');},3);
__d("Base64",[],function(a,b,c,d,e,f){var g='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';function h(l){l=(l.charCodeAt(0)<<16)|(l.charCodeAt(1)<<8)|l.charCodeAt(2);return String.fromCharCode(g.charCodeAt(l>>>18),g.charCodeAt((l>>>12)&63),g.charCodeAt((l>>>6)&63),g.charCodeAt(l&63));}var i='>___?456789:;<=_______'+'\0\1\2\3\4\5\6\7\b\t\n\13\f\r\16\17\20\21\22\23\24\25\26\27\30\31'+'______\32\33\34\35\36\37 !"#$%&\'()*+,-./0123';function j(l){l=(i.charCodeAt(l.charCodeAt(0)-43)<<18)|(i.charCodeAt(l.charCodeAt(1)-43)<<12)|(i.charCodeAt(l.charCodeAt(2)-43)<<6)|i.charCodeAt(l.charCodeAt(3)-43);return String.fromCharCode(l>>>16,(l>>>8)&255,l&255);}var k={encode:function(l){l=unescape(encodeURI(l));var m=(l.length+2)%3;l=(l+'\0\0'.slice(m)).replace(/[\s\S]{3}/g,h);return l.slice(0,l.length+m-2)+'=='.slice(m);},decode:function(l){l=l.replace(/[^A-Za-z0-9+\/]/g,'');var m=(l.length+3)&3;l=(l+'AAA'.slice(m)).replace(/..../g,j);l=l.slice(0,l.length+m-3);try{return decodeURIComponent(escape(l));}catch(n){throw new Error('Not valid UTF-8');}},encodeObject:function(l){return k.encode(JSON.stringify(l));},decodeObject:function(l){return JSON.parse(k.decode(l));},encodeNums:function(l){return String.fromCharCode.apply(String,l.map(function(m){return g.charCodeAt((m|-(m>63))&-(m>0)&63);}));}};e.exports=k;});
__d("legacy:base64",["Base64"],function(a,b,c,d){a.Base64=b('Base64');},3);
__d("legacy:css",["CSS"],function(a,b,c,d){a.CSS=b('CSS');},3);
__d("legacy:dom-html",["HTML"],function(a,b,c,d){a.HTML=b('HTML');},3);
__d("legacy:dom",["DOM"],function(a,b,c,d){a.DOM=b('DOM');},3);
__d("legacy:ua",["UserAgent"],function(a,b,c,d){a.ua=b('UserAgent');},3);
__d("legacy:uri",["URI"],function(a,b,c,d){a.URI=b('URI');},3);
__d("legacy:vector",["Vector"],function(a,b,c,d){a.Vector2=b('Vector');},3);
__d("FBDesktopDetect",["UserAgent"],function(a,b,c,d,e,f){var g=b('UserAgent'),h='facebook.desktopplugin',i={mimeType:'application/x-facebook-desktop-1',isPluginInstalled:function(){if(g.osx())return false;var j=null;if(a.ActiveXObject){try{j=new a.ActiveXObject(h);if(j)return true;}catch(k){}}else if(a.navigator&&a.navigator.plugins){a.navigator.plugins.refresh(false);for(var l=0,m=a.navigator.plugins.length;l<m;l++){j=a.navigator.plugins[l];if(j.length&&j[0].type===this.mimeType)return true;}}return false;}};e.exports=i;});
__d("TypeaheadFacepile",["DOM"],function(a,b,c,d,e,f){var g=b('DOM');function h(){}h.render=function(i){var j=[g.create('span',{className:'splitpic leftpic'},[g.create('img',{alt:'',src:i[0]})]),g.create('span',{className:'splitpic'+(i[2]?' toppic':'')},[g.create('img',{alt:'',src:i[1]})])];if(i[2])j.push(g.create('span',{className:'splitpic bottompic'},[g.create('img',{alt:'',src:i[2]})]));return g.create('span',{className:'splitpics clearfix'},j);};e.exports=h;});
__d("NavigationMessage",[],function(a,b,c,d,e,f){var g={NAVIGATION_BEGIN:'NavigationMessage/navigationBegin',NAVIGATION_SELECT:'NavigationMessage/navigationSelect',NAVIGATION_FIRST_RESPONSE:'NavigationMessage/navigationFirstResponse',NAVIGATION_COMPLETED:'NavigationMessage/navigationCompleted',NAVIGATION_FAILED:'NavigationMessage/navigationFailed',NAVIGATION_COUNT_UPDATE:'NavigationMessage/navigationCount',NAVIGATION_FAVORITE_UPDATE:'NavigationMessage/navigationFavoriteUpdate',NAVIGATION_ITEM_REMOVED:'NavigationMessage/navigationItemRemoved',NAVIGATION_ITEM_HIDDEN:'NavigationMessage/navigationItemHidden',INTERNAL_LOADING_BEGIN:'NavigationMessage/internalLoadingBegin',INTERNAL_LOADING_COMPLETED:'NavigationMessage/internalLoadingCompleted'};e.exports=g;});
__d("SimpleDrag",["Event","ArbiterMixin","UserAgent","Vector","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('ArbiterMixin'),i=b('UserAgent'),j=b('Vector'),k=b('copyProperties'),l=b('emptyFunction');function m(n){this.minDragDistance=0;g.listen(n,'mousedown',this._start.bind(this));}k(m.prototype,h,{setMinDragDistance:function(n){this.minDragDistance=n;},_start:function(event){var n=false,o=true,p=null;if(this.inform('mousedown',event))o=false;if(this.minDragDistance){p=j.getEventPosition(event);}else{n=true;var q=this.inform('start',event);if(q===true){o=false;}else if(q===false){n=false;return;}}var r=i.ie()<9?document.documentElement:window,s=g.listen(r,{selectstart:o?g.prevent:l,mousemove:function(event){if(!n){var t=j.getEventPosition(event);if(p.distanceTo(t)<this.minDragDistance)return;n=true;if(this.inform('start',event)===false){n=false;return;}}this.inform('update',event);}.bind(this),mouseup:function(event){for(var t in s)s[t].remove();if(n){this.inform('end',event);}else this.inform('click',event);}.bind(this)});o&&event.prevent();}});e.exports=m;});
__d("event-extensions",["Event"],function(a,b,c,d,e,f){e.exports=b('Event');});
__d("legacy:event-extensions",["Event"],function(a,b,c,d){a.Event=b('Event');},3);
__d("legacy:async-signal",["AsyncSignal"],function(a,b,c,d){a.AsyncSignal=b('AsyncSignal');},3);
__d("FlipDirectionOnKeypress",["Event","DOM","Input","Style"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DOM'),i=b('Input'),j=b('Style');g.listen(document.documentElement,'keyup',function(event){var k=event.getTarget();if(!h.isNodeOfType(k,['input','textarea']))return;if(h.isNodeOfType(k,'input')&&k.type=='password')return;if(k.getAttribute('data-prevent-auto-flip'))return;var l=i.getValue(k),m=(k.style&&k.style.direction);if(!m){var n=0,o=true;for(var p=0;p<l.length;p++){var q=l.charCodeAt(p);if(q>=48){if(o){o=false;n++;}if(q>=1470&&q<=1920){j.set(k,'direction','rtl');return;}if(n==5){j.set(k,'direction','ltr');return;}}else o=true;}}else if(l.length===0)j.set(k,'direction','');});});
__d("PlaceholderOnsubmitFormListener",["Event","Input"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Input');g.listen(document.documentElement,'submit',function(i){var j=i.getTarget().getElementsByTagName('*');for(var k=0;k<j.length;k++)if(j[k].getAttribute('placeholder')&&h.isEmpty(j[k]))h.setValue(j[k],'');});});
__d("RequiredFormListener",["Event","Input"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Input');g.listen(document.documentElement,'submit',function(i){var j=i.getTarget().getElementsByTagName('*');for(var k=0;k<j.length;k++)if(j[k].getAttribute('required')&&h.isEmpty(j[k])){j[k].focus();return false;}},g.Priority.URGENT);});
__d("ARIA",["DOM","emptyFunction","ge"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('emptyFunction'),i=b('ge'),j,k,l=function(){j=i('ariaAssertiveAlert');if(!j){j=g.create('div',{id:'ariaAssertiveAlert',className:'accessible_elem','aria-live':'assertive'});g.appendContent(document.body,j);}k=i('ariaPoliteAlert');if(!k){k=j.cloneNode(false);k.setAttribute('id','ariaPoliteAlert');k.setAttribute('aria-live','polite');g.appendContent(document.body,k);}l=h;};function m(o,p){l();var q=p?j:k;g.setContent(q,o);}var n={owns:function(o,p){o.setAttribute('aria-owns',g.getID(p));},setPopup:function(o,p){var q=g.getID(p);o.setAttribute('aria-owns',q);o.setAttribute('aria-controls',q);o.setAttribute('aria-haspopup','true');if(o.tabIndex==-1)o.tabIndex=0;},announce:function(o){m(o,true);},notify:function(o){m(o);}};e.exports=n;});
__d("goOrReplace",["URI","UserAgent"],function(a,b,c,d,e,f){var g=b('URI'),h=b('UserAgent');function i(j,k,l){var m=new g(k),n=a.Quickling;if(j.pathname=='/'&&m.getPath()!='/'&&n&&n.isActive()&&n.isPageActive(m)){var o=j.search?{}:{q:''};m=new g().setPath('/').setQueryData(o).setFragment(m.getUnqualifiedURI()).toString();k=m.toString();}if(l&&!(h.ie()<8)){j.replace(k);}else if(j.href==k){j.reload();}else j.href=k;}e.exports=i;});
__d("AjaxPipeRequest",["Arbiter","AsyncRequest","BigPipe","CSS","DOM","Env","PageletSet","ScriptPathState","URI","copyProperties","goOrReplace","ge"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncRequest'),i=b('BigPipe'),j=b('CSS'),k=b('DOM'),l=b('Env'),m=b('PageletSet'),n=b('ScriptPathState'),o=b('URI'),p=b('copyProperties'),q=b('goOrReplace'),r=b('ge'),s;function t(w,x){var y=r(w);if(!y)return;if(!x)y.style.minHeight='600px';var z=m.getPageletIDs();for(var aa=0;aa<z.length;aa++){var ba=z[aa];if(k.contains(y,ba))m.removePagelet(ba);}k.empty(y);}function u(w,x){var y=r(w);if(y&&!x)y.style.minHeight='100px';}function v(w,x){this._uri=w;this._query_data=x;this._request=new h();this._canvas_id=null;this._allow_cross_page_transition=true;}p(v.prototype,{setCanvasId:function(w){this._canvas_id=w;return this;},setURI:function(w){this._uri=w;return this;},setData:function(w){this._query_data=w;return this;},getData:function(w){return this._query_data;},setAllowCrossPageTransition:function(w){this._allow_cross_page_transition=w;return this;},setAppend:function(w){this._append=w;return this;},send:function(){var w={ajaxpipe:1,ajaxpipe_token:l.ajaxpipe_token};p(w,n.getParams());n.reset();this._request.setOption('useIframeTransport',true).setURI(this._uri).setData(p(w,this._query_data)).setPreBootloadHandler(this._preBootloadHandler.bind(this)).setInitialHandler(this._onInitialResponse.bind(this)).setHandler(this._onResponse.bind(this)).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(this._allow_cross_page_transition);if(this._automatic){this._relevantRequest=s;}else s=this._request;this._request.send();return this;},_preBootloadFirstResponse:function(w){return false;},_fireDomContentCallback:function(){this._arbiter.inform('ajaxpipe/domcontent_callback',true,g.BEHAVIOR_STATE);},_fireOnloadCallback:function(){this._arbiter.inform('ajaxpipe/onload_callback',true,g.BEHAVIOR_STATE);},_isRelevant:function(w){return this._request==s||(this._automatic&&this._relevantRequest==s)||this._jsNonBlock;},_preBootloadHandler:function(w){var x=w.getPayload();if(!x||x.redirect||!this._isRelevant(w))return false;var y=false;if(w.is_first){!this._append&&!this._displayCallback&&t(this._canvas_id,this._constHeight);this._arbiter=new g();y=this._preBootloadFirstResponse(w);this.pipe=new i({arbiter:this._arbiter,rootNodeID:this._canvas_id,lid:this._request.lid,isAjax:true,domContentCallback:this._fireDomContentCallback.bind(this),onloadCallback:this._fireOnloadCallback.bind(this),domContentEvt:'ajaxpipe/domcontent_callback',onloadEvt:'ajaxpipe/onload_callback',jsNonBlock:this._jsNonBlock,automatic:this._automatic,displayCallback:this._displayCallback});}return y;},_redirect:function(w){if(w.redirect){if(w.force||!this.isPageActive(w.redirect)){var x=['ajaxpipe','ajaxpipe_token'].concat(this.getSanitizedParameters());q(window.location,o(w.redirect).removeQueryData(x),true);}else{var y=a.PageTransitions;y.go(w.redirect,true);}return true;}else return false;},isPageActive:function(w){return true;},getSanitizedParameters:function(){return [];},_versionCheck:function(w){return true;},_onInitialResponse:function(w){var x=w.getPayload();if(!this._isRelevant(w))return false;if(!x)return true;if(this._redirect(x)||!this._versionCheck(x))return false;return true;},_processFirstResponse:function(w){var x=w.getPayload();if(r(this._canvas_id)&&x.canvas_class!==null)j.setClass(this._canvas_id,x.canvas_class);},setFirstResponseCallback:function(w){this._firstResponseCallback=w;return this;},setFirstResponseHandler:function(w){this._processFirstResponse=w;return this;},_onResponse:function(w){var x=w.payload;if(!this._isRelevant(w))return h.suppressOnloadToken;if(w.is_first){this._processFirstResponse(w);this._firstResponseCallback&&this._firstResponseCallback();x.provides=x.provides||[];x.provides.push('uipage_onload');if(this._append)x.append=this._canvas_id;}if(x){if('content' in x.content&&this._canvas_id!==null&&this._canvas_id!='content'){x.content[this._canvas_id]=x.content.content;delete x.content.content;}this.pipe.onPageletArrive(x);}if(w.is_last)u(this._canvas_id,this._constHeight);return h.suppressOnloadToken;},setNectarModuleDataSafe:function(w){this._request.setNectarModuleDataSafe(w);return this;},setFinallyHandler:function(w){this._request.setFinallyHandler(w);return this;},setErrorHandler:function(w){this._request.setErrorHandler(w);return this;},abort:function(){this._request.abort();if(s==this._request)s=null;this._request=null;return this;},setJSNonBlock:function(w){this._jsNonBlock=w;return this;},setAutomatic:function(w){this._automatic=w;return this;},setDisplayCallback:function(w){this._displayCallback=w;return this;},setConstHeight:function(w){this._constHeight=w;return this;},getAsyncRequest:function(){return this._request;}});p(v,{getCurrentRequest:function(){return s;},setCurrentRequest:function(w){s=w;}});e.exports=v;});
__d("BrowserSupport",["DOM"],function(a,b,c,d,e,f){var g=b('DOM'),h={},i=['Webkit','Moz','O','ms'],j=document.createElement('div'),k=function(m){if(h[m]===undefined){var n=null;if(m in j.style){n=m;}else for(var o=0;o<i.length;o++){var p=i[o]+m.charAt(0).toUpperCase()+m.slice(1);if(p in j.style){n=p;break;}}h[m]=n;}return h[m];},l={hasCSSAnimations:function(){return !!k('animationName');},hasCSSTransforms:function(){return !!k('transform');},hasCSS3DTransforms:function(){return !!k('perspective');},hasCSSTransitions:function(){return !!k('transition');},hasPositionSticky:function(){if(h.sticky===undefined){j.style.cssText='position:-webkit-sticky;position:-moz-sticky;'+'position:-o-sticky;position:-ms-sticky;position:sticky;';h.sticky=/sticky/.test(j.style.position);}return h.sticky;},hasPointerEvents:function(){if(h.pointerEvents===undefined)if(!('pointerEvents' in j.style)){h.pointerEvents=false;}else{j.style.pointerEvents='auto';j.style.pointerEvents='x';g.appendContent(document.documentElement,j);h.pointerEvents=window.getComputedStyle&&getComputedStyle(j,'').pointerEvents==='auto';g.remove(j);}return h.pointerEvents;},getTransitionEndEvent:function(){if(h.transitionEnd===undefined){var m={transition:'transitionend',WebkitTransition:'webkitTransitionEnd',MozTransition:'mozTransitionEnd',OTransition:'oTransitionEnd'},n=k('transition');h.transitionEnd=m[n]||null;}return h.transitionEnd;}};e.exports=l;});
__d("Animation",["BrowserSupport","CSS","DataStore","DOM","Style"],function(a,b,c,d,e,f){var g=b('BrowserSupport'),h=b('CSS'),i=b('DataStore'),j=b('DOM'),k=b('Style'),l,m=[],n;function o(fa){if(a==this){return new o(fa);}else{this.obj=fa;this._reset_state();this.queue=[];this.last_attr=null;}}function p(fa){if(g.hasCSS3DTransforms()){return s(fa);}else return r(fa);}function q(fa){return fa.toFixed(8);}function r(fa){fa=[fa[0],fa[4],fa[1],fa[5],fa[12],fa[13]];return 'matrix('+fa.map(q).join(',')+')';}function s(fa){return 'matrix3d('+fa.map(q).join(',')+')';}function t(fa,ga){if(!fa)fa=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var ha=[];for(var ia=0;ia<4;ia++)for(var ja=0;ja<4;ja++){var ka=0;for(var la=0;la<4;la++)ka+=fa[ia*4+la]*ga[la*4+ja];ha[ia*4+ja]=ka;}return ha;}var u=0;o.prototype._reset_state=function(){this.state={attrs:{},duration:500};};o.prototype.stop=function(){this._reset_state();this.queue=[];return this;};o.prototype._build_container=function(){if(this.container_div){this._refresh_container();return;}if(this.obj.firstChild&&this.obj.firstChild.__animation_refs){this.container_div=this.obj.firstChild;this.container_div.__animation_refs++;this._refresh_container();return;}var fa=document.createElement('div');fa.style.padding='0px';fa.style.margin='0px';fa.style.border='0px';fa.__animation_refs=1;var ga=this.obj.childNodes;while(ga.length)fa.appendChild(ga[0]);this.obj.appendChild(fa);this._orig_overflow=this.obj.style.overflow;this.obj.style.overflow='hidden';this.container_div=fa;this._refresh_container();};o.prototype._refresh_container=function(){this.container_div.style.height='auto';this.container_div.style.width='auto';this.container_div.style.height=this.container_div.offsetHeight+'px';this.container_div.style.width=this.container_div.offsetWidth+'px';};o.prototype._destroy_container=function(){if(!this.container_div)return;if(!--this.container_div.__animation_refs){var fa=this.container_div.childNodes;while(fa.length)this.obj.appendChild(fa[0]);this.obj.removeChild(this.container_div);}this.container_div=null;this.obj.style.overflow=this._orig_overflow;};var v=1,w=2,x=3;o.prototype._attr=function(fa,ga,ha){fa=fa.replace(/-[a-z]/gi,function(ja){return ja.substring(1).toUpperCase();});var ia=false;switch(fa){case 'background':this._attr('backgroundColor',ga,ha);return this;case 'backgroundColor':case 'borderColor':case 'color':ga=ba(ga);break;case 'opacity':ga=parseFloat(ga,10);break;case 'height':case 'width':if(ga=='auto'){ia=true;}else ga=parseInt(ga,10);break;case 'borderWidth':case 'lineHeight':case 'fontSize':case 'margin':case 'marginBottom':case 'marginLeft':case 'marginRight':case 'marginTop':case 'padding':case 'paddingBottom':case 'paddingLeft':case 'paddingRight':case 'paddingTop':case 'bottom':case 'left':case 'right':case 'top':case 'scrollTop':case 'scrollLeft':ga=parseInt(ga,10);break;case 'rotateX':case 'rotateY':case 'rotateZ':ga=parseInt(ga,10)*Math.PI/180;break;case 'translateX':case 'translateY':case 'translateZ':case 'scaleX':case 'scaleY':case 'scaleZ':ga=parseFloat(ga,10);break;case 'rotate3d':this._attr('rotateX',ga[0],ha);this._attr('rotateY',ga[1],ha);this._attr('rotateZ',ga[2],ha);return this;case 'rotate':this._attr('rotateZ',ga,ha);return this;case 'scale3d':this._attr('scaleZ',ga[2],ha);case 'scale':this._attr('scaleX',ga[0],ha);this._attr('scaleY',ga[1],ha);return this;case 'translate3d':this._attr('translateZ',ga[2],ha);case 'translate':this._attr('translateX',ga[0],ha);this._attr('translateY',ga[1],ha);return this;default:throw new Error(fa+' is not a supported attribute!');}if(this.state.attrs[fa]===undefined)this.state.attrs[fa]={};if(ia)this.state.attrs[fa].auto=true;switch(ha){case x:this.state.attrs[fa].start=ga;break;case w:this.state.attrs[fa].by=true;case v:this.state.attrs[fa].value=ga;break;}};function y(fa){var ga=parseInt(k.get(fa,'paddingLeft'),10),ha=parseInt(k.get(fa,'paddingRight'),10),ia=parseInt(k.get(fa,'borderLeftWidth'),10),ja=parseInt(k.get(fa,'borderRightWidth'),10);return fa.offsetWidth-(ga?ga:0)-(ha?ha:0)-(ia?ia:0)-(ja?ja:0);}function z(fa){var ga=parseInt(k.get(fa,'paddingTop'),10),ha=parseInt(k.get(fa,'paddingBottom'),10),ia=parseInt(k.get(fa,'borderTopWidth'),10),ja=parseInt(k.get(fa,'borderBottomWidth'),10);return fa.offsetHeight-(ga?ga:0)-(ha?ha:0)-(ia?ia:0)-(ja?ja:0);}o.prototype.to=function(fa,ga){if(ga===undefined){this._attr(this.last_attr,fa,v);}else{this._attr(fa,ga,v);this.last_attr=fa;}return this;};o.prototype.by=function(fa,ga){if(ga===undefined){this._attr(this.last_attr,fa,w);}else{this._attr(fa,ga,w);this.last_attr=fa;}return this;};o.prototype.from=function(fa,ga){if(ga===undefined){this._attr(this.last_attr,fa,x);}else{this._attr(fa,ga,x);this.last_attr=fa;}return this;};o.prototype.duration=function(fa){this.state.duration=fa?fa:0;return this;};o.prototype.checkpoint=function(fa,ga){if(fa===undefined)fa=1;this.state.checkpoint=fa;this.queue.push(this.state);this._reset_state();this.state.checkpointcb=ga;return this;};o.prototype.blind=function(){this.state.blind=true;return this;};o.prototype.hide=function(){this.state.hide=true;return this;};o.prototype.show=function(){this.state.show=true;return this;};o.prototype.ease=function(fa){this.state.ease=fa;return this;};o.prototype.go=function(){var fa=Date.now();this.queue.push(this.state);for(var ga=0;ga<this.queue.length;ga++){this.queue[ga].start=fa-u;if(this.queue[ga].checkpoint)fa+=this.queue[ga].checkpoint*this.queue[ga].duration;}ca(this);return this;};o.prototype._show=function(){h.show(this.obj);};o.prototype._hide=function(){h.hide(this.obj);};o.prototype._frame=function(fa){var ga=true,ha=false,ia;function ja(cb){return document.documentElement[cb]||document.body[cb];}for(var ka=0;ka<this.queue.length;ka++){var la=this.queue[ka];if(la.start>fa){ga=false;continue;}if(la.checkpointcb){this._callback(la.checkpointcb,fa-la.start);la.checkpointcb=null;}if(la.started===undefined){if(la.show)this._show();for(var ma in la.attrs){if(la.attrs[ma].start!==undefined)continue;switch(ma){case 'backgroundColor':case 'borderColor':case 'color':ia=ba(k.get(this.obj,ma=='borderColor'?'borderLeftColor':ma));if(la.attrs[ma].by){la.attrs[ma].value[0]=Math.min(255,Math.max(0,la.attrs[ma].value[0]+ia[0]));la.attrs[ma].value[1]=Math.min(255,Math.max(0,la.attrs[ma].value[1]+ia[1]));la.attrs[ma].value[2]=Math.min(255,Math.max(0,la.attrs[ma].value[2]+ia[2]));}break;case 'opacity':ia=k.getOpacity(this.obj);if(la.attrs[ma].by)la.attrs[ma].value=Math.min(1,Math.max(0,la.attrs[ma].value+ia));break;case 'height':ia=z(this.obj);if(la.attrs[ma].by)la.attrs[ma].value+=ia;break;case 'width':ia=y(this.obj);if(la.attrs[ma].by)la.attrs[ma].value+=ia;break;case 'scrollLeft':case 'scrollTop':ia=(this.obj===document.body)?ja(ma):this.obj[ma];if(la.attrs[ma].by)la.attrs[ma].value+=ia;la['last'+ma]=ia;break;case 'rotateX':case 'rotateY':case 'rotateZ':case 'translateX':case 'translateY':case 'translateZ':ia=i.get(this.obj,ma,0);if(la.attrs[ma].by)la.attrs[ma].value+=ia;break;case 'scaleX':case 'scaleY':case 'scaleZ':ia=i.get(this.obj,ma,1);if(la.attrs[ma].by)la.attrs[ma].value+=ia;break;default:ia=parseInt(k.get(this.obj,ma),10)||0;if(la.attrs[ma].by)la.attrs[ma].value+=ia;break;}la.attrs[ma].start=ia;}if((la.attrs.height&&la.attrs.height.auto)||(la.attrs.width&&la.attrs.width.auto)){this._destroy_container();for(var ma in {height:1,width:1,fontSize:1,borderLeftWidth:1,borderRightWidth:1,borderTopWidth:1,borderBottomWidth:1,paddingLeft:1,paddingRight:1,paddingTop:1,paddingBottom:1})if(la.attrs[ma])this.obj.style[ma]=la.attrs[ma].value+(typeof la.attrs[ma].value=='number'?'px':'');if(la.attrs.height&&la.attrs.height.auto)la.attrs.height.value=z(this.obj);if(la.attrs.width&&la.attrs.width.auto)la.attrs.width.value=y(this.obj);}la.started=true;if(la.blind)this._build_container();}var na=(fa-la.start)/la.duration;if(na>=1){na=1;if(la.hide)this._hide();}else ga=false;var oa=la.ease?la.ease(na):na;if(!ha&&na!=1&&la.blind)ha=true;for(var ma in la.attrs)switch(ma){case 'backgroundColor':case 'borderColor':case 'color':if(la.attrs[ma].start[3]!=la.attrs[ma].value[3]){this.obj.style[ma]='rgba('+aa(oa,la.attrs[ma].start[0],la.attrs[ma].value[0],true)+','+aa(oa,la.attrs[ma].start[1],la.attrs[ma].value[1],true)+','+aa(oa,la.attrs[ma].start[2],la.attrs[ma].value[2],true)+','+aa(oa,la.attrs[ma].start[3],la.attrs[ma].value[3],false)+')';}else this.obj.style[ma]='rgb('+aa(oa,la.attrs[ma].start[0],la.attrs[ma].value[0],true)+','+aa(oa,la.attrs[ma].start[1],la.attrs[ma].value[1],true)+','+aa(oa,la.attrs[ma].start[2],la.attrs[ma].value[2],true)+')';break;case 'opacity':k.set(this.obj,'opacity',aa(oa,la.attrs[ma].start,la.attrs[ma].value));break;case 'height':case 'width':this.obj.style[ma]=oa==1&&la.attrs[ma].auto?'auto':aa(oa,la.attrs[ma].start,la.attrs[ma].value,true)+'px';break;case 'scrollLeft':case 'scrollTop':var pa=this.obj===document.body;ia=pa?ja(ma):this.obj[ma];if(la['last'+ma]!==ia){delete la.attrs[ma];}else{var qa=aa(oa,la.attrs[ma].start,la.attrs[ma].value,true);if(!pa){qa=this.obj[ma]=qa;}else{if(ma=='scrollLeft'){a.scrollTo(qa,ja('scrollTop'));}else a.scrollTo(ja('scrollLeft'),qa);qa=ja(ma);}la['last'+ma]=qa;}break;case 'translateX':case 'translateY':case 'translateZ':case 'rotateX':case 'rotateY':case 'rotateZ':case 'scaleX':case 'scaleY':case 'scaleZ':i.set(this.obj,ma,aa(oa,la.attrs[ma].start,la.attrs[ma].value,false));break;default:this.obj.style[ma]=aa(oa,la.attrs[ma].start,la.attrs[ma].value,true)+'px';break;}var ra=null,sa=i.get(this.obj,'translateX',0),ta=i.get(this.obj,'translateY',0),ua=i.get(this.obj,'translateZ',0);if(sa||ta||ua)ra=t(ra,[1,0,0,0,0,1,0,0,0,0,1,0,sa,ta,ua,1]);var va=i.get(this.obj,'scaleX',1),wa=i.get(this.obj,'scaleY',1),xa=i.get(this.obj,'scaleZ',1);if(va-1||wa-1||xa-1)ra=t(ra,[va,0,0,0,0,wa,0,0,0,0,xa,0,0,0,0,1]);var ya=i.get(this.obj,'rotateX',0);if(ya)ra=t(ra,[1,0,0,0,0,Math.cos(ya),Math.sin(-ya),0,0,Math.sin(ya),Math.cos(ya),0,0,0,0,1]);var za=i.get(this.obj,'rotateY',0);if(za)ra=t(ra,[Math.cos(za),0,Math.sin(za),0,0,1,0,0,Math.sin(-za),0,Math.cos(za),0,0,0,0,1]);var ab=i.get(this.obj,'rotateZ',0);if(ab)ra=t(ra,[Math.cos(ab),Math.sin(-ab),0,0,Math.sin(ab),Math.cos(ab),0,0,0,0,1,0,0,0,0,1]);if(ra){var bb=p(ra);k.apply(this.obj,{'-webkit-transform':bb,'-moz-transform':bb,'-ms-transform':bb,'-o-transform':bb,transform:bb});}else if(ga)k.apply(this.obj,{'-webkit-transform':null,'-moz-transform':null,'-ms-transform':null,'-o-transform':null,transform:null});if(na==1){this.queue.splice(ka--,1);this._callback(la.ondone,fa-la.start-la.duration);}}if(!ha&&this.container_div)this._destroy_container();return !ga;};o.prototype.ondone=function(fa){this.state.ondone=fa;return this;};o.prototype._callback=function(fa,ga){if(fa){u=ga;fa.call(this);u=0;}};function aa(fa,ga,ha,ia){return (ia?parseInt:parseFloat)((ha-ga)*fa+ga,10);}function ba(fa){var ga=/^#([a-f0-9]{1,2})([a-f0-9]{1,2})([a-f0-9]{1,2})$/i.exec(fa);if(ga){return [parseInt(ga[1].length==1?ga[1]+ga[1]:ga[1],16),parseInt(ga[2].length==1?ga[2]+ga[2]:ga[2],16),parseInt(ga[3].length==1?ga[3]+ga[3]:ga[3],16),1];}else{var ha=/^rgba? *\(([0-9]+), *([0-9]+), *([0-9]+)(?:, *([0-9\.]+))?\)$/.exec(fa);if(ha){return [parseInt(ha[1],10),parseInt(ha[2],10),parseInt(ha[3],10),ha[4]?parseFloat(ha[4]):1];}else if(fa=='transparent'){return [255,255,255,0];}else throw 'Named color attributes are not supported.';}}function ca(fa){m.push(fa);if(m.length===1){if(!l){var ga=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame;if(ga)l=ga.bind(a);}if(l){l(ea);}else n=setInterval(ea,20,false);}if(l)da();ea(Date.now(),true);}function da(){if(!l)throw new Error('Ending timer only valid with requestAnimationFrame');var fa=0;for(var ga=0;ga<m.length;ga++){var ha=m[ga];for(var ia=0;ia<ha.queue.length;ia++){var ja=ha.queue[ia].start+ha.queue[ia].duration;if(ja>fa)fa=ja;}}if(n){clearTimeout(n);n=null;}var ka=Date.now();if(fa>ka)n=setTimeout(ea.shield(),fa-ka,false);}function ea(fa,ga){var ha=Date.now();for(var ia=(ga===true)?m.length-1:0;ia<m.length;ia++)try{if(!m[ia]._frame(ha))m.splice(ia--,1);}catch(ja){m.splice(ia--,1);}if(m.length===0){if(n){if(l){clearTimeout(n);}else clearInterval(n);n=null;}}else if(l)l(ea);}o.ease={};o.ease.begin=function(fa){return Math.sin(Math.PI/2*(fa-1))+1;};o.ease.end=function(fa){return Math.sin(.5*Math.PI*fa);};o.ease.both=function(fa){return .5*Math.sin(Math.PI*(fa-.5))+.5;};o.prependInsert=function(fa,ga){o.insert(fa,ga,j.prependContent);};o.appendInsert=function(fa,ga){o.insert(fa,ga,j.appendContent);};o.insert=function(fa,ga,ha){k.set(ga,'opacity',0);ha(fa,ga);new o(ga).from('opacity',0).to('opacity',1).duration(400).go();};e.exports=o;});
__d("BootloadedReact",["Bootloader"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=function(j){g.loadModules(['React'],j);},i={isValidComponent:function(j){return (j&&typeof j.mountInContainerNode==='function'&&typeof j.receiveProps==='function');},initializeTouchEvents:function(j,k){h(function(l){l.initializeTouchEvents(j);k&&k();});},createClass:function(j,k){h(function(l){var m=l.createClass(j);k&&k(m);});},renderComponent:function(j,k,l){h(function(m){var n=m.renderComponent(j,k);l&&l(n);});},renderOrUpdateComponent:function(j,k,l){h(function(m){var n=m.renderOrUpdateComponent(j,k);l&&l(n);});},destroyAndReleaseReactRootNode:function(j,k){h(function(l){l.destroyAndReleaseReactRootNode(j);k&&k();});}};e.exports=i;});
__d("CSSClassTransition",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=[];function i(){}g(i,{go:function(j,k,l,m){var n;for(var o=0;o<h.length;o++)if(h[o](j,k,l,m)===true)n=true;if(!n)j.className=k;},registerHandler:function(j){h.push(j);return {remove:function(){var k=h.indexOf(j);if(k>=0)h.splice(k,1);}};}});e.exports=i;});
__d("ContextualThing",["DOM","ge"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('ge'),i={register:function(j,k){j.setAttribute('data-ownerid',g.getID(k));},containsIncludingLayers:function(j,k){while(k){if(g.contains(j,k))return true;k=i.getContext(k);}return false;},getContext:function(j){var k;while(j){if(j.getAttribute&&(k=j.getAttribute('data-ownerid')))return h(k);j=j.parentNode;}return null;}};e.exports=i;});
__d("BasicTypeaheadRenderer",["DOM"],function(a,b,c,d,e,f){var g=b('DOM');function h(i,j){var k=[];if(i.icon)k.push(g.create('img',{alt:'',src:i.icon}));if(i.text)k.push(g.create('span',{className:'text'},[i.text]));if(i.subtext)k.push(g.create('span',{className:'subtext'},[i.subtext]));var l=g.create('li',{className:i.type||''},k);if(i.text)l.setAttribute('aria-label',i.text);return l;}h.className='basic';e.exports=h;});
__d("TypeaheadView",["Event","ArbiterMixin","BasicTypeaheadRenderer","CSS","DOM","Parent","$","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('ArbiterMixin'),i=b('BasicTypeaheadRenderer'),j=b('CSS'),k=b('DOM'),l=b('Parent'),m=b('$'),n=b('copyProperties'),o=b('emptyFunction');function p(q,r){this.element=this.content=m(q);n(this,r);}n(p.prototype,h,{events:['highlight','render','reset','select','beforeRender','next','prev'],renderer:i,autoSelect:false,ignoreMouseover:false,init:function(){this.init=o;this.initializeEvents();this.reset();},initializeEvents:function(){g.listen(this.element,{mouseup:this.mouseup.bind(this),mouseover:this.mouseover.bind(this)});},setTypeahead:function(q){this.typeahead=q;},setAccessibilityControlElement:function(q){this.accessibilityElement=q;},getElement:function(){return this.element;},mouseup:function(event){if(event.button!=2){this.select(true);event.kill();}},mouseover:function(event){if(this.ignoreMouseover){this.ignoreMouseover=false;return;}if(this.visible)this.highlight(this.getIndex(event));},reset:function(q){if(!q)this.disableAutoSelect=false;this.justRendered=false;this.justShown=false;this.index=-1;this.items=[];this.results=[];this.value='';this.content.innerHTML='';this.inform('reset');return this;},getIndex:function(event){return this.items.indexOf(l.byTag(event.getTarget(),'li'));},getSelection:function(){var q=this.results[this.index]||null;return this.visible?q:null;},isEmpty:function(){return !this.results.length;},isVisible:function(){return this.visible;},show:function(){j.show(this.element);if(this.results&&this.results.length)if(this.autoSelect&&this.accessibilityElement&&this.selected)this.accessibilityElement.setAttribute('aria-activedescendant',k.getID(this.selected));this.accessibilityElement&&this.accessibilityElement.setAttribute('aria-expanded','true');this.visible=true;return this;},hide:function(){j.hide(this.element);if(this.accessibilityElement){this.accessibilityElement.setAttribute('aria-expanded','false');this.accessibilityElement.removeAttribute('aria-activedescendant');}this.visible=false;return this;},render:function(q,r,s){this.value=q;if(!r.length){this.accessibilityElement&&this.accessibilityElement.removeAttribute('aria-activedescendant');this.reset(true);return;}this.justRendered=true;if(!this.results.length)this.justShown=true;var t={results:r,value:q};this.inform('beforeRender',t);r=t.results;var u=this.getDefaultIndex(r);if(this.index>0&&this.index!==this.getDefaultIndex(this.results)){var v=this.results[this.index];for(var w=0,x=r.length;w<x;++w)if(v.uid==r[w].uid){u=w;break;}}this.results=r;k.setContent(this.content,this.buildResults(r));this.items=this.getItems();this.highlight(u,false);this.inform('render',r);},getItems:function(){return k.scry(this.content,'li');},buildResults:function(q){var r,s=null;if(typeof this.renderer=='function'){r=this.renderer;s=this.renderer.className||'';}else{r=a.TypeaheadRenderers[this.renderer];s=this.renderer;}r=r.bind(this);var t=q.map(function(v,w){var x=v.node||r(v,w);x.setAttribute('role','option');return x;}),u=k.create('ul',{className:s,id:'typeahead_list_'+(this.typeahead?k.getID(this.typeahead):k.getID(this.element))},t);u.setAttribute('role','listbox');return u;},getDefaultIndex:function(q){var r=(this.autoSelect&&!this.disableAutoSelect);return this.index<0&&!r?-1:0;},next:function(){this.highlight(this.index+1);this.inform('next',this.selected);},prev:function(){this.highlight(this.index-1);this.inform('prev',this.selected);},getItemText:function(q){var r='';if(q){r=q.getAttribute('aria-label');if(!r){r=k.getText(q);q.setAttribute('aria-label',r);}}return r;},setIsViewingSelectedItems:function(q){this.viewingSelected=q;return this;},getIsViewingSelectedItems:function(){return this.viewingSelected;},highlight:function(q,r){var s=true;if(this.selected){j.removeClass(this.selected,'selected');this.selected.setAttribute('aria-selected','false');}if(q>this.items.length-1){q=-1;}else if(q<-1)q=this.items.length-1;if(q>=0&&q<this.items.length){if(this.selected&&this.getItemText(this.items[q])===this.getItemText(this.selected))s=false;this.selected=this.items[q];j.addClass(this.selected,'selected');this.selected.setAttribute('aria-selected','true');this.accessibilityElement&&this.accessibilityElement.setAttribute('aria-activedescendant',k.getID(this.selected));}else this.accessibilityElement&&this.accessibilityElement.removeAttribute('aria-activedescendant');this.index=q;this.disableAutoSelect=(q==-1);var t=(q!==-1),u=this.getItemText(this.selected);if(q!==-1&&this.isVisible()&&u&&this.autoSelect)if(this.justShown){this.justRendered=false;this.justShown=false;t=false;}else if(s&&this.justRendered){this.justRendered=false;t=false;}if(r!==false)this.inform('highlight',{index:q,selected:this.results[q],element:this.selected});},select:function(q){var r=this.index,s=this.results[r],t=this.element.getAttribute('id');if(s){this.inform('select',{index:r,clicked:!!q,selected:s,id:t});this.inform('afterSelect');}}});e.exports=p;});
__d("BucketedTypeaheadView",["Class","DOM","tx","TypeaheadView","copyProperties"],function(a,b,c,d,e,f){var g=b('Class'),h=b('DOM'),i=b('tx'),j=b('TypeaheadView'),k=b('copyProperties');function l(m,n){this.parent.construct(this,m,n);}g.extend(l,j);k(l.prototype,{render:function(m,n,o){n=this.buildBuckets(m,n);return this.parent.render(m,n,o);},highlight:function(m,n){if(m==-1&&this.index!==0)m=this.index;while(m>=0&&m<this.items.length&&!this.isHighlightable(this.results[m]))m=m+1;this.parent.highlight(m,n);},buildBuckets:function(m,n){if(!this.typeObjects||!n||!n.length)return n;var o=[],p={};for(var q=0;q<n.length;++q){var r=n[q],s=r.render_type||r.type;if(!p.hasOwnProperty(s)){p[s]=o.length;o.push([this.buildBucketHeader(s)]);}r.classNames=s;r.groupIndex=p[s];r.indexInGroup=o[r.groupIndex].length-1;o[r.groupIndex].push(r);}for(s in this.typeObjects)if(!p.hasOwnProperty(s)&&this.typeObjects[s].show_always){p[s]=o.length;o.push([this.buildBucketHeader(s)]);r=this.buildNoResultsEntry();r.classNames=r.type;r.groupIndex=p[s];r.indexInGroup=o[r.groupIndex].length-1;o[r.groupIndex].push(r);}var t=[];if(this.typeObjectsOrder){for(var u=0;u<this.typeObjectsOrder.length;++u){var v=this.typeObjectsOrder[u];if(p.hasOwnProperty(v))t=t.concat(o[p[v]]);}}else for(var w=0;w<o.length;++w)t=t.concat(o[w]);return t;},buildNoResultsEntry:function(){return {uid:'disabled_result',type:'disabled_result',text:"No Results"};},buildBucketHeader:function(m){var n=this.typeObjects[m];if(n.markup){n.text=n.markup;delete n.markup;}return this.typeObjects[m];},buildResults:function(m){var n=this.parent.buildResults(m);if(this.typeObjects){return h.create('div',{className:'bucketed'},[n]);}else return n;},isHighlightable:function(m){return m.type!='header'&&m.type!='disabled_result';},select:function(m){var n=this.results[this.index];if(n&&this.isHighlightable(n))this.parent.select(m);},normalizeIndex:function(m){var n=this.results.length;if(n===0){return -1;}else if(m<-1){return (m%n)+n+1;}else if(m>=n){return (m%n)-1;}else return m;},getDefaultIndex:function(m){var n=(this.autoSelect&&!this.disableAutoSelect);if(this.index<0&&!n)return -1;if(m.length===0)return -1;var o=0;while(!this.isHighlightable(m)&&o<m.length)o++;return o;},prev:function(){var m=this.results[this.normalizeIndex(this.index-1)];while(m&&!this.isHighlightable(m)){this.index=this.normalizeIndex(this.index-1);m=this.results[this.normalizeIndex(this.index-1)];}return this.parent.prev();},next:function(){var m=this.results[this.normalizeIndex(this.index+1)];while(m&&!this.isHighlightable(m)){this.index=this.normalizeIndex(this.index+1);m=this.results[this.normalizeIndex(this.index+1)];}return this.parent.next();}});e.exports=l;});
__d("KeyEventController",["DOM","Event","Run","copyProperties","isEmpty"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('Event'),i=b('Run'),j=b('copyProperties'),k=b('isEmpty');function l(){this.handlers={};document.onkeyup=this.onkeyevent.bind(this,'onkeyup');document.onkeydown=this.onkeyevent.bind(this,'onkeydown');document.onkeypress=this.onkeyevent.bind(this,'onkeypress');}j(l,{instance:null,getInstance:function(){return l.instance||(l.instance=new l());},defaultFilter:function(event,m){event=h.$E(event);return l.filterEventTypes(event,m)&&l.filterEventTargets(event,m)&&l.filterEventModifiers(event,m);},filterEventTypes:function(event,m){if(m==='onkeydown')return true;return false;},filterEventTargets:function(event,m){var n=event.getTarget(),o=n.contentEditable==='true';return (!(o||g.isNodeOfType(n,l._interactiveElements))||n.type in l._uninterestingTypes||(event.keyCode in l._controlKeys&&((g.isNodeOfType(n,['input','textarea'])&&n.value.length===0)||(o&&g.getText(n).length===0))));},filterEventModifiers:function(event,m){if(event.ctrlKey||event.altKey||event.metaKey||event.repeat)return false;return true;},registerKey:function(m,n,o,p){if(o===undefined)o=l.defaultFilter;var q=l.getInstance(),r=q.mapKey(m);if(k(q.handlers))i.onLeave(q.resetHandlers.bind(q));var s={};for(var t=0;t<r.length;t++){m=r[t];if(!q.handlers[m]||p)q.handlers[m]=[];var u={callback:n,filter:o};s[m]=u;q.handlers[m].push(u);}return {remove:function(){for(var v in s){if(q.handlers[v]&&q.handlers[v].length){var w=q.handlers[v].indexOf(s[v]);w>=0&&q.handlers[v].splice(w,1);}delete s[v];}}};},keyCodeMap:{BACKSPACE:[8],TAB:[9],RETURN:[13],ESCAPE:[27],LEFT:[37,63234],UP:[38,63232],RIGHT:[39,63235],DOWN:[40,63233],DELETE:[46],COMMA:[188],PERIOD:[190],SLASH:[191],'`':[192],'[':[219],']':[221]},_interactiveElements:['input','select','textarea','object','embed'],_uninterestingTypes:{button:1,checkbox:1,radio:1,submit:1},_controlKeys:{8:1,9:1,13:1,27:1,37:1,63234:1,38:1,63232:1,39:1,63235:1,40:1,63233:1,46:1}});j(l.prototype,{mapKey:function(m){if(m>=0&&m<=9){if(typeof(m)!='number')m=m.charCodeAt(0)-48;return [48+m,96+m];}var n=l.keyCodeMap[m.toUpperCase()];if(n)return n;return [m.toUpperCase().charCodeAt(0)];},onkeyevent:function(m,n){n=h.$E(n);var o=this.handlers[n.keyCode]||this.handlers[n.which],p,q,r;if(o)for(var s=0;s<o.length;s++){p=o[s].callback;q=o[s].filter;try{if(!q||q(n,m)){r=p(n,m);if(r===false)return h.kill(n);}}catch(t){}}return true;},resetHandlers:function(){this.handlers={};}});e.exports=l;});
__d("Layer",["Event","function-extensions","ArbiterMixin","BehaviorsMixin","BootloadedReact","ContextualThing","CSS","DataStore","DOM","HTML","KeyEventController","Parent","Style","copyProperties","ge","removeFromArray"],function(a,b,c,d,e,f){var g=b('Event');b('function-extensions');var h=b('ArbiterMixin'),i=b('BehaviorsMixin'),j=b('BootloadedReact'),k=b('ContextualThing'),l=b('CSS'),m=b('DataStore'),n=b('DOM'),o=b('HTML'),p=b('KeyEventController'),q=b('Parent'),r=b('Style'),s=b('copyProperties'),t=b('ge'),u=b('removeFromArray'),v=[];function w(x,y){this._config=x||{};if(y){this._configure(this._config,y);var z=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(z));}}s(w,h);s(w,{init:function(x,y){x.init(y);},initAndShow:function(x,y){x.init(y).show();},show:function(x){x.show();},getTopmostLayer:function(){return v[v.length-1];}});s(w.prototype,h,i,{_initialized:false,_root:null,_shown:false,_hiding:false,_causalElement:null,_reactContainer:null,init:function(x){this._configure(this._config,x);var y=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(y));this._initialized=true;return this;},_configure:function(x,y){if(y){var z=n.isNode(y),aa=typeof y==='string'||o.isHTML(y);this.containsReactComponent=j.isValidComponent(y);if(aa){y=o(y).getRootNode();}else if(this.containsReactComponent){var ba=document.createElement('div');j.renderComponent(y,ba);y=this._reactContainer=ba;}}this._root=this._buildWrapper(x,y);if(x.attributes)n.setAttributes(this._root,x.attributes);if(x.classNames)x.classNames.forEach(l.addClass.curry(this._root));l.addClass(this._root,'uiLayer');if(x.causalElement)this._causalElement=t(x.causalElement);m.set(this._root,'layer',this);},_getDefaultBehaviors:function(){return [];},getCausalElement:function(){return this._causalElement;},setCausalElement:function(x){this._causalElement=x;return this;},getInsertParent:function(){return this._insertParent||document.body;},getRoot:function(){return this._root;},_getContentRoot:function(){return this._root;},_buildWrapper:function(x,y){return y;},setInsertParent:function(x){if(x){if(this._shown&&x!==this.getInsertParent()){n.appendContent(x,this.getRoot());this.updatePosition();}this._insertParent=x;}return this;},show:function(){if(this._shown)return this;var x=this.getRoot();this.inform('beforeshow');r.set(x,'visibility','hidden');r.set(x,'overflow','hidden');l.show(x);n.appendContent(this.getInsertParent(),x);if(this.updatePosition()!==false){this._shown=true;this.inform('show');w.inform('show',this);!function(){if(this._shown)v.push(this);}.bind(this).defer();}else l.hide(x);r.set(x,'visibility','');r.set(x,'overflow','');this.inform('aftershow');return this;},hide:function(){if(this._hiding||!this._shown||this.inform('beforehide')===false)return this;this._hiding=true;if(this.inform('starthide')!==false)this.finishHide();return this;},conditionShow:function(x){return x?this.show():this.hide();},finishHide:function(){if(this._shown){u(v,this);this._hiding=false;this._shown=false;l.hide(this.getRoot());this.inform('hide');w.inform('hide',this);}},isShown:function(){return this._shown;},updatePosition:function(){return true;},destroy:function(){if(this.containsReactComponent)j.destroyAndReleaseReactRootNode(this._reactContainer);this.finishHide();var x=this.getRoot();n.remove(x);this.destroyBehaviors();this.inform('destroy');w.inform('destroy',this);m.remove(x,'layer');this._root=this._causalElement=null;}});g.listen(document.documentElement,'keydown',function(event){if(p.filterEventTargets(event,'keydown'))for(var x=v.length-1;x>=0;x--)if(v[x].inform('key',event)===false)return false;},g.Priority.URGENT);g.listen(document.documentElement,'click',function(event){var x=v.length;if(!x)return;var y=event.getTarget();if(!n.contains(document.documentElement,y))return;if(q.byClass(y,'generic_dialog'))return;while(x--){var z=v[x],aa=z.getContentRoot();if(k.containsIncludingLayers(aa,y))return;if(z.inform('blur')===false||z.isShown())return;}});e.exports=w;});
__d("Locale",["Style"],function(a,b,c,d,e,f){var g=b('Style'),h,i={isRTL:function(){if(h===undefined)h=('rtl'===g.get(document.body,'direction'));return h;}};e.exports=i;});
__d("getOverlayZIndex",["Style"],function(a,b,c,d,e,f){var g=b('Style');function h(i,j){j=j||document.body;var k=[];while(i&&i!==j){k.push(i);i=i.parentNode;}if(i!==j)return 0;for(var l=k.length-1;l>=0;l--){var m=k[l];if(g.get(m,'position')!='static'){var n=parseInt(g.get(m,'z-index'),10);if(!isNaN(n))return n;}}return 0;}e.exports=h;});
__d("Dialog",["Event","Animation","Arbiter","AsyncRequest","Bootloader","Button","ContextualThing","CSS","DOM","Focus","Form","HTML","Keys","Locale","Parent","Run","Style","URI","UserAgent","Vector","bind","copyProperties","createArrayFrom","emptyFunction","getObjectValues","getOverlayZIndex","removeFromArray","tx"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Animation'),i=b('Arbiter'),j=b('AsyncRequest'),k=b('Bootloader'),l=b('Button'),m=b('ContextualThing'),n=b('CSS'),o=b('DOM'),p=b('Focus'),q=b('Form'),r=b('HTML'),s=b('Keys'),t=b('Locale'),u=b('Parent'),v=b('Run'),w=b('Style'),x=b('URI'),y=b('UserAgent'),z=b('Vector'),aa=b('bind'),ba=b('copyProperties'),ca=b('createArrayFrom'),da=b('emptyFunction'),ea=b('getObjectValues'),fa=b('getOverlayZIndex'),ga=b('removeFromArray'),ha=b('tx'),ia=function(){var ka=document.body,la=document.createElement('div'),ma=document.createElement('div');ka.insertBefore(la,ka.firstChild);ka.insertBefore(ma,ka.firstChild);la.style.position='fixed';la.style.top='20px';var na=la.offsetTop!==ma.offsetTop;ka.removeChild(la);ka.removeChild(ma);ia=da.thatReturns(na);return na;};function ja(ka){this._show_loading=true;this._auto_focus=true;this._submit_on_enter=false;this._fade_enabled=true;this._onload_handlers=[];this._top=125;this._uniqueID='dialog_'+ja._globalCount++;this._content=null;this._obj=null;this._popup=null;this._overlay=null;this._shim=null;this._causal_elem=null;this._previous_focus=null;this._buttons=[];this._buildDialog();if(ka)this._setFromModel(ka);ja._init();}ba(ja,{OK:{name:'ok',label:"Okay"},CANCEL:{name:'cancel',label:"Cancel",className:'inputaux'},CLOSE:{name:'close',label:"Close"},NEXT:{name:'next',label:"Next"},SAVE:{name:'save',label:"Save"},SUBMIT:{name:'submit',label:"Submit"},CONFIRM:{name:'confirm',label:"Confirm"},DELETE:{name:'delete',label:"Delete"},_globalCount:0,_bottoms:[0],max_bottom:0,_updateMaxBottom:function(){ja.max_bottom=Math.max.apply(Math,ja._bottoms);}});ba(ja,{OK_AND_CANCEL:[ja.OK,ja.CANCEL],_STANDARD_BUTTONS:[ja.OK,ja.CANCEL,ja.CLOSE,ja.SAVE,ja.SUBMIT,ja.CONFIRM,ja.DELETE],SIZE:{WIDE:555,STANDARD:445},_HALO_WIDTH:10,_BORDER_WIDTH:1,_PADDING_WIDTH:10,_PAGE_MARGIN:40,_stack:[],_isUsingCSSBorders:function(){return y.ie()<7;},newButton:function(ka,la,ma,na){var oa={name:ka,label:la};if(ma)oa.className=ma;if(na)oa.handler=na;return oa;},getCurrent:function(){var ka=ja._stack;return ka.length?ka[ka.length-1]:null;},hideCurrent:function(){var ka=ja.getCurrent();ka&&ka.hide();},bootstrap:function(ka,la,ma,na,oa,pa){la=la||{};ba(la,new x(ka).getQueryData());na=na||(ma?'GET':'POST');var qa=u.byClass(pa,'stat_elem')||pa;if(qa&&n.hasClass(qa,'async_saving'))return false;var ra=new j().setReadOnly(!!ma).setMethod(na).setRelativeTo(pa).setStatusElement(qa).setURI(ka).setNectarModuleDataSafe(pa).setData(la),sa=new ja(oa).setCausalElement(pa).setAsync(ra);sa.show();return false;},loadFromEndpoint:function(ka){new j(ka).send();},showFromModel:function(ka,la){var ma=new ja(ka).setCausalElement(la).show();if(ka.hiding)ma.hide();},_init:function(){this._init=da;v.onLeave(ja._tearDown.shield(null,false));i.subscribe('page_transition',ja._tearDown.shield(null,true));g.listen(document.documentElement,'keydown',function(event){if(g.getKeyCode(event)==s.ESC&&!event.getModifiers().any){if(ja._escape())event.kill();}else if(g.getKeyCode(event)==s.RETURN&&!event.getModifiers().any)if(ja._enter())event.kill();});g.listen(window,'resize',function(event){var ka=ja.getCurrent();ka&&ka._resetDialogObj();});},_findButton:function(ka,la){if(ka)for(var ma=0;ma<ka.length;++ma)if(ka[ma].name==la)return ka[ma];return null;},_tearDown:function(ka){var la=ja._stack.slice();for(var ma=la.length-1;ma>=0;ma--)if((ka&&!la[ma]._cross_transition)||(!ka&&!la[ma]._cross_quickling))la[ma].hide();},_escape:function(){var ka=ja.getCurrent();if(!ka)return false;var la=ka._semi_modal,ma=ka._buttons;if(!ma.length&&!la)return false;if(la&&!ma.length){ka.hide();return true;}var na,oa=ja._findButton(ma,'cancel');if(ka._cancelHandler){ka.cancel();return true;}else if(oa){na=oa;}else if(ma.length==1){na=ma[0];}else return false;ka._handleButton(na);return true;},_enter:function(){var ka=ja.getCurrent();if(!ka||!ka._submit_on_enter)return false;if(document.activeElement!=ka._frame)return false;var la=ka._buttons;if(!la)return false;ka._handleButton(la[0]);return true;},call_or_eval:function(ka,la,ma){if(!la)return undefined;ma=ma||{};if(typeof la=='string'){var na=Object.keys(ma).join(', ');la=(eval)('({f: function('+na+') { '+la+'}})').f;}return la.apply(ka,ea(ma));}});ba(ja.prototype,{_cross_quickling:false,_cross_transition:false,_loading:false,_showing:false,show:function(){this._showing=true;if(this._async_request){if(this._show_loading)this.showLoading();}else this._update();return this;},showLoading:function(){this._loading=true;n.addClass(this._frame,'dialog_loading_shown');this._renderDialog();return this;},hide:function(){if(!this._showing&&!this._loading)return this;this._showing=false;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null;}if(this._fade_enabled&&ja._stack.length<=1){this._fadeOut();}else this._hide();return this;},cancel:function(){if(!this._cancelHandler||this._cancelHandler()!==false)this.hide();},getRoot:function(){return this._obj;},getBody:function(){return o.scry(this._obj,'div.dialog_body')[0];},getButtonElement:function(ka){if(typeof ka=='string')ka=ja._findButton(this._buttons,ka);if(!ka||!ka.name)return null;var la=o.scry(this._popup,'input'),ma=function(na){return na.name==ka.name;};return la.filter(ma)[0]||null;},getContentNode:function(){return o.find(this._content,'div.dialog_content');},getFormData:function(){return q.serialize(this.getContentNode());},setAllowCrossPageTransition:function(ka){this._cross_transition=ka;return this;},setAllowCrossQuicklingNavigation:function(ka){this._cross_quickling=ka;return this;},setShowing:function(){this.show();return this;},setHiding:function(){this.hide();return this;},setTitle:function(ka){var la=this._nodes.title,ma=this._nodes.title_inner,na=this._nodes.content;o.setContent(ma,this._format(ka||''));n.conditionShow(la,!!ka);n.conditionClass(na,'dialog_content_titleless',!ka);return this;},setBody:function(ka){o.setContent(this._nodes.body,this._format(ka));return this;},setExtraData:function(ka){this._extra_data=ka;return this;},setReturnData:function(ka){this._return_data=ka;return this;},setShowLoading:function(ka){this._show_loading=ka;return this;},setCustomLoading:function(ka){var la=o.create('div',{className:'dialog_loading'},ka);o.setContent(this._frame,[this._nodes.title,this._nodes.content,la]);return this;},setFullBleed:function(ka){this._full_bleed=ka;this._updateWidth();n.conditionClass(this._obj,'full_bleed',ka);return this;},setCausalElement:function(ka){this._causal_elem=ka;return this;},setUserData:function(ka){this._user_data=ka;return this;},getUserData:function(){return this._user_data;},setAutohide:function(ka){if(ka){if(this._showing){this._autohide_timeout=setTimeout(this.hide.shield(this),ka);}else this._autohide=ka;}else{this._autohide=null;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null;}}return this;},setSummary:function(ka){var la=this._nodes.summary;o.setContent(la,this._format(ka||''));n.conditionShow(la,!!ka);return this;},setButtons:function(ka){var la,ma;if(!(ka instanceof Array)){la=ca(arguments);}else la=ka;for(var na=0;na<la.length;++na)if(typeof la[na]=='string'){ma=ja._findButton(ja._STANDARD_BUTTONS,la[na]);la[na]=ma;}this._buttons=la;var oa=[];if(la&&la.length>0)for(var pa=0;pa<la.length;pa++){ma=la[pa];var qa=o.create('input',{type:'button',name:ma.name||'',value:ma.label}),ra=o.create('label',{className:'uiButton uiButtonLarge uiButtonConfirm'},qa);if(ma.className){ma.className.split(/\s+/).forEach(function(ta){n.addClass(ra,ta);});if(n.hasClass(ra,'inputaux')){n.removeClass(ra,'inputaux');n.removeClass(ra,'uiButtonConfirm');}if(n.hasClass(ra,'uiButtonSpecial'))n.removeClass(ra,'uiButtonConfirm');}if(ma.icon)o.prependContent(ra,o.create('img',{src:ma.icon,className:'img mrs'}));if(ma.disabled)l.setEnabled(ra,false);g.listen(qa,'click',this._handleButton.bind(this,ma.name));for(var sa in ma)if(sa.indexOf('data-')===0&&sa.length>5)qa.setAttribute(sa,ma[sa]);oa.push(ra);}o.setContent(this._nodes.buttons,oa);this._updateButtonVisibility();return this;},setButtonsMessage:function(ka){o.setContent(this._nodes.button_message,this._format(ka||''));this._has_button_message=!!ka;this._updateButtonVisibility();return this;},_updateButtonVisibility:function(){var ka=this._buttons.length>0||this._has_button_message;n.conditionShow(this._nodes.button_wrapper,ka);n.conditionClass(this._obj,'omitDialogFooter',!ka);},setClickButtonOnEnter:function(ka,la){this._clickOnEnterTarget=ka;if(!this._clickOnEnterListener)this._clickOnEnterListener=g.listen(this._nodes.body,'keypress',function(event){var ma=event.getTarget();if(ma&&ma.id===this._clickOnEnterTarget)if(g.getKeyCode(event)==s.RETURN){this._handleButton(la);event.kill();}return true;}.bind(this));return this;},setStackable:function(ka,la){this._is_stackable=ka;this._shown_while_stacked=ka&&la;return this;},setHandler:function(ka){this._handler=ka;return this;},setCancelHandler:function(ka){this._cancelHandler=ja.call_or_eval.bind(null,this,ka);return this;},setCloseHandler:function(ka){this._close_handler=ja.call_or_eval.bind(null,this,ka);return this;},clearHandler:function(){return this.setHandler(null);},setPostURI:function(ka,la){if(la===undefined)la=true;if(la){this.setHandler(this._submitForm.bind(this,'POST',ka));}else this.setHandler(function(){q.post(ka,this.getFormData());this.hide();}.bind(this));return this;},setGetURI:function(ka){this.setHandler(this._submitForm.bind(this,'GET',ka));return this;},setModal:function(ka){this._modal=ka;n.conditionClass(this._obj,'generic_dialog_modal',ka);return this;},setSemiModal:function(ka){if(ka){this.setModal(true);this._semiModalListener=g.listen(this._obj,'click',function(la){if(!o.contains(this._popup,la.getTarget()))this.hide();}.bind(this));}else this._semiModalListener&&this._semiModalListener.remove();this._semi_modal=ka;return this;},setWideDialog:function(ka){this._wide_dialog=ka;this._updateWidth();return this;},setContentWidth:function(ka){this._content_width=ka;this._updateWidth();return this;},setTitleLoading:function(ka){if(ka===undefined)ka=true;var la=o.find(this._popup,'h2.dialog_title');if(la)n.conditionClass(la,'loading',ka);return this;},setSecure:function(ka){n.conditionClass(this._nodes.title,'secure',ka);return this;},setClassName:function(ka){ka.split(/\s+/).forEach(n.addClass.bind(n,this._obj));return this;},setFadeEnabled:function(ka){this._fade_enabled=ka;return this;},setFooter:function(ka){var la=this._nodes.footer;o.setContent(la,this._format(ka||''));n.conditionShow(la,!!ka);return this;},setAutoFocus:function(ka){this._auto_focus=ka;return this;},setTop:function(ka){this._top=ka;this._resetDialogObj();return this;},onloadRegister:function(ka){ca(ka).forEach(function(la){if(typeof la=='string')la=new Function(la);this._onload_handlers.push(la.bind(this));}.bind(this));return this;},setAsyncURL:function(ka){return this.setAsync(new j(ka));},setAsync:function(ka){var la=function(ta){if(this._async_request!=ka)return;this._async_request=null;var ua=ta.getPayload(),va=ua;if(this._loading)this._showing=true;if(typeof va=='string'){this.setBody(va);}else this._setFromModel(va);this._update();}.bind(this),ma=ka.getData();ma.__d=1;ka.setData(ma);var na=ka.getHandler()||da;ka.setHandler(function(ta){na(ta);la(ta);});var oa=ka,pa=oa.getErrorHandler()||da,qa=oa.getTransportErrorHandler()||da,ra=function(){this._async_request=null;this._loading=false;if(this._showing&&this._shown_while_stacked){this._update();}else this._hide(this._is_stackable);}.bind(this),sa=oa.getServerDialogCancelHandler()||ra;oa.setAllowCrossPageTransition(this._cross_transition).setErrorHandler(function(ta){ra();pa(ta);}).setTransportErrorHandler(function(ta){ra();qa(ta);}).setServerDialogCancelHandler(sa);ka.send();this._async_request=ka;if(this._showing)this.show();return this;},_format:function(ka){if(typeof ka=='string'){ka=r(ka);}else ka=r.replaceJSONWrapper(ka);if(ka instanceof r)ka.setDeferred(true);return ka;},_update:function(){if(!this._showing)return;if(this._autohide&&!this._async_request&&!this._autohide_timeout)this._autohide_timeout=setTimeout(aa(this,'hide'),this._autohide);n.removeClass(this._frame,'dialog_loading_shown');this._loading=false;this._renderDialog();this._runOnloads();this._previous_focus=document.activeElement;p.set(this._frame);},_runOnloads:function(){for(var ka=0;ka<this._onload_handlers.length;++ka)try{this._onload_handlers[ka]();}catch(la){}this._onload_handlers=[];},_updateWidth:function(){var ka=2*ja._BORDER_WIDTH;if(ja._isUsingCSSBorders())ka+=2*ja._HALO_WIDTH;if(this._content_width){ka+=this._content_width;if(!this._full_bleed)ka+=2*ja._PADDING_WIDTH;}else if(this._wide_dialog){ka+=ja.SIZE.WIDE;}else ka+=ja.SIZE.STANDARD;this._popup.style.width=ka+'px';},_updateZIndex:function(){if(!this._hasSetZIndex&&this._causal_elem){var ka=fa(this._causal_elem),la=this._causal_elem;while(!ka&&(la=m.getContext(la)))ka=fa(la);this._hasSetZIndex=ka>(this._modal?400:200);w.set(this._obj,'z-index',this._hasSetZIndex?ka:'');}},_renderDialog:function(){this._updateZIndex();this._pushOntoStack();this._obj.style.height=(this._modal&&y.ie()<7)?z.getDocumentDimensions().y+'px':null;if(this._obj&&this._obj.style.display){this._obj.style.visibility='hidden';this._obj.style.display='';this.resetDialogPosition();this._obj.style.visibility='';this._obj.dialog=this;}else this.resetDialogPosition();clearInterval(this.active_hiding);this.active_hiding=setInterval(this._activeResize.bind(this),500);this._submit_on_enter=false;if(this._auto_focus){var ka=q.getFirstElement(this._content,['input[type="text"]','textarea','input[type="password"]']);if(ka){q.focusFirst.bind(this,this._content).defer();}else this._submit_on_enter=true;}var la=z.getElementDimensions(this._content).y+z.getElementPosition(this._content).y;ja._bottoms.push(la);this._bottom=la;ja._updateMaxBottom();return this;},_buildDialog:function(){this._obj=o.create('div',{className:'generic_dialog',id:this._uniqueID});this._obj.style.display='none';o.appendContent(document.body,this._obj);if(!this._popup)this._popup=o.create('div',{className:'generic_dialog_popup'});this._obj.appendChild(this._popup);if(y.ie()<7&&!this._shim)k.loadModules(['IframeShim'],function(wa){this._shim=new wa(this._popup);});n.addClass(this._obj,'pop_dialog');if(t.isRTL())n.addClass(this._obj,'pop_dialog_rtl');var ka;if(ja._isUsingCSSBorders()){ka='<div class="pop_container_advanced">'+'<div class="pop_content" id="pop_content"></div>'+'</div>';}else ka='<div class="pop_container">'+'<div class="pop_verticalslab"></div>'+'<div class="pop_horizontalslab"></div>'+'<div class="pop_topleft"></div>'+'<div class="pop_topright"></div>'+'<div class="pop_bottomright"></div>'+'<div class="pop_bottomleft"></div>'+'<div class="pop_content pop_content_old" id="pop_content"></div>'+'</div>';o.setContent(this._popup,r(ka));var la=o.find(this._popup,'div.pop_content');la.setAttribute('tabIndex','0');la.setAttribute('role','alertdialog');this._frame=this._content=la;var ma=o.create('div',{className:'dialog_loading'},"Loading..."),na=o.create('span'),oa=o.create('h2',{className:'dialog_title hidden_elem',id:'title_'+this._uniqueID},na),pa=o.create('div',{className:'dialog_summary hidden_elem'}),qa=o.create('div',{className:'dialog_body'}),ra=o.create('div',{className:'rfloat mlm'}),sa=o.create('div',{className:'dialog_buttons_msg'}),ta=o.create('div',{className:'dialog_buttons clearfix hidden_elem'},[ra,sa]),ua=o.create('div',{className:'dialog_footer hidden_elem'}),va=o.create('div',{className:'dialog_content'},[pa,qa,ta,ua]);this._nodes={summary:pa,body:qa,buttons:ra,button_message:sa,button_wrapper:ta,footer:ua,content:va,title:oa,title_inner:na};o.setContent(this._frame,[oa,va,ma]);},_updateShim:function(){return this._shim&&this._shim.show();},_activeResize:function(){if(this.last_offset_height!=this._content.offsetHeight){this.last_offset_height=this._content.offsetHeight;this.resetDialogPosition();}},resetDialogPosition:function(){if(!this._popup)return;this._resetDialogObj();this._updateShim();},_resetDialogObj:function(){var ka=2*ja._PAGE_MARGIN,la=z.getViewportDimensions(),ma=la.x-ka,na=la.y-ka,oa=2*ja._HALO_WIDTH,pa=z.getElementDimensions(this._content),qa=pa.x+oa,ra=pa.y+oa,sa=this._top,ta=ma-qa,ua=na-ra;if(ua<0){sa=ja._PAGE_MARGIN;}else if(sa>ua)sa=ja._PAGE_MARGIN+(Math.max(ua,0)/2);var va=ia();if(!va)sa+=z.getScrollPosition().y;w.set(this._popup,'marginTop',sa+'px');var wa=va&&(ta<0||ua<0);n.conditionClass(this._obj,'generic_dialog_fixed_overflow',wa);n.conditionClass(document.documentElement,'generic_dialog_overflow_mode',wa);},_fadeOut:function(ka){if(!this._popup)return;try{new h(this._obj).duration(0).checkpoint().to('opacity',0).hide().duration(250).ondone(this._hide.bind(this,ka)).go();}catch(la){this._hide(ka);}},_hide:function(ka){if(this._obj)this._obj.style.display='none';n.removeClass(document.documentElement,'generic_dialog_overflow_mode');this._updateShim();clearInterval(this.active_hiding);if(this._bottom){var la=ja._bottoms;la.splice(la.indexOf(this._bottom),1);ja._updateMaxBottom();}if(this._previous_focus&&document.activeElement&&o.contains(this._obj,document.activeElement))p.set(this._previous_focus);if(ka)return;this.destroy();},destroy:function(){this._popFromStack();clearInterval(this.active_hiding);if(this._obj){o.remove(this._obj);this._obj=null;this._shim&&this._shim.hide();this._shim=null;}this._clickOnEnterListener&&this._clickOnEnterListener.remove();if(this._close_handler)this._close_handler({return_data:this._return_data});},_handleButton:function(ka){if(typeof ka=='string')ka=ja._findButton(this._buttons,ka);var la=ja.call_or_eval(ka,ka.handler);if(la===false)return;if(ka.name=='cancel'){this.cancel();}else if(ja.call_or_eval(this,this._handler,{button:ka})!==false)this.hide();},_submitForm:function(ka,la,ma){var na=this.getFormData();if(ma)na[ma.name]=ma.label;if(this._extra_data)ba(na,this._extra_data);var oa=new j().setURI(la).setData(na).setMethod(ka).setNectarModuleDataSafe(this._causal_elem).setReadOnly(ka=='GET');this.setAsync(oa);return false;},_setFromModel:function(ka){var la={};ba(la,ka);for(var ma in la){if(ma=='onloadRegister'){this.onloadRegister(la[ma]);continue;}var na=this['set'+ma.substr(0,1).toUpperCase()+ma.substr(1)];na.apply(this,ca(la[ma]));}},_updateBottom:function(){var ka=z.getElementDimensions(this._content).y+z.getElementPosition(this._content).y;ja._bottoms[ja._bottoms.length-1]=ka;ja._updateMaxBottom();},_pushOntoStack:function(){var ka=ja._stack;if(!ka.length)i.inform('layer_shown',{type:'Dialog'});ga(ka,this);ka.push(this);for(var la=ka.length-2;la>=0;la--){var ma=ka[la];if(!ma._is_stackable&&!ma._async_request){ma._hide();}else if(!ma._shown_while_stacked)ma._hide(true);}},_popFromStack:function(){var ka=ja._stack,la=(ka[ka.length-1]===this);ga(ka,this);if(ka.length){if(la)ka[ka.length-1].show();}else i.inform('layer_hidden',{type:'Dialog'});}});e.exports=ja;a.Dialog=ja;});
__d("DOMScroll",["Animation","Arbiter","DOM","DOMQuery","Vector","ViewportBounds","ge","isAsyncScrollQuery"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Arbiter'),i=b('DOM'),j=b('DOMQuery'),k=b('Vector'),l=b('ViewportBounds'),m=b('ge'),n=b('isAsyncScrollQuery'),o={SCROLL:'dom-scroll',getScrollState:function(){var p=k.getViewportDimensions(),q=k.getDocumentDimensions(),r=(q.x>p.x),s=(q.y>p.y);r+=0;s+=0;return new k(r,s);},_scrollbarSize:null,_initScrollbarSize:function(){var p=i.create('p');p.style.width='100%';p.style.height='200px';var q=i.create('div');q.style.position='absolute';q.style.top='0px';q.style.left='0px';q.style.visibility='hidden';q.style.width='200px';q.style.height='150px';q.style.overflow='hidden';q.appendChild(p);document.body.appendChild(q);var r=p.offsetWidth;q.style.overflow='scroll';var s=p.offsetWidth;if(r==s)s=q.clientWidth;document.body.removeChild(q);o._scrollbarSize=r-s;},getScrollbarSize:function(){if(o._scrollbarSize===null)o._initScrollbarSize();return o._scrollbarSize;},scrollTo:function(p,q,r,s,t){if(typeof q=='undefined'||q===true)q=750;if(n())q=false;if(!(p instanceof k)){var u=k.getScrollPosition().x,v=k.getElementPosition(m(p)).y;p=new k(u,v,'document');if(!s)p.y-=l.getTop()/(r?2:1);}if(r){p.y-=k.getViewportDimensions().y/2;}else if(s){p.y-=k.getViewportDimensions().y;p.y+=s;}p=p.convertTo('document');if(q){return new g(document.body).to('scrollTop',p.y).to('scrollLeft',p.x).ease(g.ease.end).duration(q).ondone(t).go();}else if(window.scrollTo){window.scrollTo(p.x,p.y);t&&t();}h.inform(o.SCROLL);},ensureVisible:function(p,q,r,s,t){if(r===undefined)r=10;p=m(p);if(q)p=j.find(p,q);var u=k.getScrollPosition().x,v=k.getScrollPosition().y,w=v+k.getViewportDimensions().y,x=k.getElementPosition(p).y,y=x+k.getElementDimensions(p).y;x-=l.getTop();x-=r;y+=r;if(x<v){o.scrollTo(new k(u,x,'document'),s,false,false,t);}else if(y>w)if(x-(y-w)<v){o.scrollTo(new k(u,x,'document'),s,false,false,t);}else o.scrollTo(new k(u,y,'document'),s,false,true,t);},scrollToTop:function(p){var q=k.getScrollPosition();o.scrollTo(new k(q.x,0,'document'),p!==false);}};e.exports=o;});
__d("HistoryManager",["Event","function-extensions","Cookie","Env","URI","UserAgent","copyProperties","emptyFunction","goOrReplace"],function(a,b,c,d,e,f){var g=b('Event');b('function-extensions');var h=b('Cookie'),i=b('Env'),j=b('URI'),k=b('UserAgent'),l=b('copyProperties'),m=b('emptyFunction'),n=b('goOrReplace'),o={_IFRAME_BASE_URI:'http://static.ak.facebook.com/common/history_manager.php',history:null,current:0,fragment:null,_setIframeSrcFragment:function(p){p=p.toString();var q=o.history.length-1;o.iframe.src=o._IFRAME_BASE_URI+'?|index='+q+'#'+encodeURIComponent(p);return o;},getIframeSrcFragment:function(){return decodeURIComponent(j(o.iframe.contentWindow.document.location.href).getFragment());},nextframe:function(p,q){if(q){o._setIframeSrcFragment(p);return;}if(p!==undefined){o.iframeQueue.push(p);}else{o.iframeQueue.splice(0,1);o.iframeTimeout=null;o.checkURI();}if(o.iframeQueue.length&&!o.iframeTimeout){var r=o.iframeQueue[0];o.iframeTimeout=setTimeout(function(){o._setIframeSrcFragment(r);},100,false);}},isInitialized:function(){return !!o._initialized;},init:function(){if(!i.ALLOW_TRANSITION_IN_IFRAME&&window!=window.top)return;if(o._initialized)return o;var p=j(),q=p.getFragment()||'';if(q.charAt(0)==='!'){q=q.substr(1);p.setFragment(q);}if(j.getRequestURI(false).getProtocol().toLowerCase()=='https')o._IFRAME_BASE_URI='https://s-static.ak.facebook.com/common/history_manager.php';l(o,{_initialized:true,fragment:q,orig_fragment:q,history:[p],callbacks:[],lastChanged:Date.now(),canonical:j('#'),fragmentTimeout:null,user:0,iframeTimeout:null,iframeQueue:[],enabled:true,debug:m});if(window.history&&history.pushState){this.lastURI=document.URL;window.history.replaceState(this.lastURI,null);g.listen(window,'popstate',function(r){if(r&&r.state&&o.lastURI!=r.state){o.lastURI=r.state;o.lastChanged=Date.now();o.notify(j(r.state).getUnqualifiedURI().toString());}}.bind(o));if(k.webkit()<534||k.chrome()<=13){setInterval(o.checkURI,42,false);o._updateRefererURI(this.lastURI);}return o;}o._updateRefererURI(j.getRequestURI(false));if(k.webkit()<500||k.firefox()<2){o.enabled=false;return o;}if(k.ie()<8){o.iframe=document.createElement('iframe');l(o.iframe.style,{width:'0',height:'0',frameborder:'0',left:'0',top:'0',position:'absolute'});o._setIframeSrcFragment(q);document.body.insertBefore(o.iframe,document.body.firstChild);}else if('onhashchange' in window){g.listen(window,'hashchange',function(){o.checkURI.bind(o).defer();});}else setInterval(o.checkURI,42,false);return o;},registerURIHandler:function(p){o.callbacks.push(p);return o;},setCanonicalLocation:function(p){o.canonical=j(p);return o;},notify:function(p){if(p==o.orig_fragment)p=o.canonical.getFragment();for(var q=0;q<o.callbacks.length;q++)try{if(o.callbacks[q](p))return true;}catch(r){}return false;},checkURI:function(){if(Date.now()-o.lastChanged<400)return;if(window.history&&history.pushState){var p=j(document.URL).removeQueryData('ref').toString(),q=j(o.lastURI).removeQueryData('ref').toString();if(p!=q){o.lastChanged=Date.now();o.lastURI=p;if(k.webkit()<534)o._updateRefererURI(p);o.notify(j(p).getUnqualifiedURI().toString());}return;}if(k.ie()<8&&o.iframeQueue.length)return;if(k.webkit()&&window.history.length==200){if(!o.warned)o.warned=true;return;}var r=j().getFragment();if(r.charAt(0)=='!')r=r.substr(1);if(k.ie()<8)r=o.getIframeSrcFragment();r=r.replace(/%23/g,'#');if(r!=o.fragment.replace(/%23/g,'#')){o.debug([r,' vs ',o.fragment,'whl: ',window.history.length,'QHL: ',o.history.length].join(' '));for(var s=o.history.length-1;s>=0;--s)if(o.history[s].getFragment().replace(/%23/g,'#')==r)break;++o.user;if(s>=0){o.go(s-o.current);}else o.go('#'+r);--o.user;}},_updateRefererURI:function(p){p=p.toString();if(p.charAt(0)!='/'&&p.indexOf('//')==-1)return;var q=new j(window.location);if(q.isFacebookURI()){var r=q.getPath()+window.location.search;}else var r='';var s=j(p).getQualifiedURI().setFragment(r).toString(),t=2048;if(s.length>t)s=s.substring(0,t)+'...';h.set('x-referer',s);},go:function(p,q,r){if(window.history&&history.pushState){q||typeof(p)=='number';var s=j(p).removeQueryData('ref').toString();o.lastChanged=Date.now();this.lastURI=s;if(r){window.history.replaceState(p,null,s);}else window.history.pushState(p,null,s);if(k.webkit()<534)o._updateRefererURI(p);return false;}o.debug('go: '+p);if(q===undefined)q=true;if(!o.enabled)if(!q)return false;if(typeof(p)=='number'){if(!p)return false;var t=p+o.current,u=Math.max(0,Math.min(o.history.length-1,t));o.current=u;t=o.history[u].getFragment()||o.orig_fragment;t=j(t).removeQueryData('ref').getUnqualifiedURI().toString();o.fragment=t;o.lastChanged=Date.now();if(k.ie()<8){if(o.fragmentTimeout)clearTimeout(o.fragmentTimeout);o._temporary_fragment=t;o.fragmentTimeout=setTimeout(function(){window.location.hash='#!'+t;delete o._temporary_fragment;},750,false);if(!o.user)o.nextframe(t,r);}else if(!o.user)n(window.location,window.location.href.split('#')[0]+'#!'+t,r);if(q)o.notify(t);o._updateRefererURI(t);return false;}p=j(p);if(p.getDomain()==j().getDomain())p=j('#'+p.getUnqualifiedURI());var v=o.history[o.current].getFragment(),w=p.getFragment();if(w==v||(v==o.orig_fragment&&w==o.canonical.getFragment())){if(q)o.notify(w);o._updateRefererURI(w);return false;}if(r)o.current--;var x=(o.history.length-o.current)-1;o.history.splice(o.current+1,x);o.history.push(j(p));return o.go(1,q,r);},getCurrentFragment:function(){var p=o._temporary_fragment!==undefined?o._temporary_fragment:j.getRequestURI(false).getFragment();return p==o.orig_fragment?o.canonical.getFragment():p;}};e.exports=o;});
__d("LinkController",["Event","DataStore","Parent","trackReferrer"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DataStore'),i=b('Parent'),j=b('trackReferrer'),k='LinkControllerHandler',l=[],m=[];function n(event){var r=i.byTag(event.getTarget(),'a'),s=r&&r.getAttribute('href',2);if(!s||r.rel||!p(s)||h.get(r,k))return;var t=g.listen(r,'click',function(u){if(s.charAt(s.length-1)=='#'){u.prevent();return;}j(r,s);o(r,u);});h.set(r,k,t);}function o(r,event){if(r.target||r.rel||event.getModifiers().any||(event.which&&event.which!=1))return;var s=l.concat(m);for(var t=0,u=s.length;t<u;t++)if(s[t](r,event)===false)return event.prevent();}function p(r){var s=r.match(/^(\w+):/);return !s||s[1].match(/^http/i);}var q={registerHandler:function(r){l.push(r);},registerFallbackHandler:function(r){m.push(r);}};g.listen(document.documentElement,'mousedown',n);g.listen(document.documentElement,'keydown',n);e.exports=q;});
__d("areEqual",[],function(a,b,c,d,e,f){var g=function(k,l,m,n){if(k===l)return k!==0||1/k==1/l;if(k==null||l==null)return false;if(typeof k!='object'||typeof l!='object')return false;var o=Object.prototype.toString,p=o.call(k);if(p!=o.call(l))return false;switch(p){case '[object String]':return k==String(l);case '[object Number]':return isNaN(k)||isNaN(l)?false:k==Number(l);case '[object Date]':case '[object Boolean]':return +k==+l;case '[object RegExp]':return k.source==l.source&&k.global==l.global&&k.multiline==l.multiline&&k.ignoreCase==l.ignoreCase;}var q=m.length;while(q--)if(m[q]==k)return n[q]==l;m.push(k);n.push(l);var r=0;if(p==='[object Array]'){r=k.length;if(r!==l.length)return false;while(r--)if(!g(k[r],l[r],m,n))return false;}else{if(k.constructor!==l.constructor)return false;if(k.hasOwnProperty('valueOf')&&l.hasOwnProperty('valueOf'))return k.valueOf()==l.valueOf();var s=Object.keys(k);if(s.length!=Object.keys(l).length)return false;for(var t=0;t<s.length;t++)if(!g(k[s[t]],l[s[t]],m,n))return false;}m.pop();n.pop();return true;},h=[],i=[],j=function(k,l){var m=h.length?h.pop():[],n=i.length?i.pop():[],o=g(k,l,m,n);m.length=0;n.length=0;h.push(m);i.push(n);return o;};e.exports=j;});
__d("computeRelativeURI",["URI","isEmpty"],function(a,b,c,d,e,f){var g=b('URI'),h=b('isEmpty');function i(k,l){if(!l)return k;if(l.charAt(0)=='/')return l;var m=k.split('/').slice(0,-1);m[0]!=='';l.split('/').forEach(function(n){if(!(n=='.'))if(n=='..'){if(m.length>1)m=m.slice(0,-1);}else m.push(n);});return m.join('/');}function j(k,l){var m=new g(),n=l;k=new g(k);l=new g(l);if(l.getDomain()&&!l.isFacebookURI())return n;var o=k,p=['Protocol','Domain','Port','Path','QueryData','Fragment'];p.forEach(function(q){var r=q=='Path'&&o===k;if(r)m.setPath(i(k.getPath(),l.getPath()));if(!h(l['get'+q]()))o=l;if(!r)m['set'+q](o['get'+q]());});return m;}e.exports=j;});
__d("escapeJSQuotes",[],function(a,b,c,d,e,f){function g(h){if(typeof h=='undefined'||h==null||!h.valueOf())return '';return h.toString().replace(/\\/g,'\\\\').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/"/g,'\\x22').replace(/'/g,'\\\'').replace(/</g,'\\x3c').replace(/>/g,'\\x3e').replace(/&/g,'\\x26');}e.exports=g;});
__d("PageTransitions",["Arbiter","Dialog","DOMQuery","DOMScroll","Env","Event","Form","HistoryManager","JSLogger","LinkController","OnloadHooks","Parent","URI","UserAgent","Vector","areEqual","clickRefAction","computeRelativeURI","copyProperties","escapeJSQuotes","ge","goOrReplace","htmlize","setTimeoutAcrossTransitions","startsWith","tx","userAction"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Dialog'),i=b('DOMQuery'),j=b('DOMScroll'),k=b('Env'),l=b('Event'),m=b('Form'),n=b('HistoryManager'),o=b('JSLogger'),p=b('LinkController'),q=b('OnloadHooks'),r=b('Parent'),s=b('URI'),t=b('UserAgent'),u=b('Vector'),v=b('areEqual'),w=b('clickRefAction'),x=b('computeRelativeURI'),y=b('copyProperties'),z=b('escapeJSQuotes'),aa=b('ge'),ba=b('goOrReplace'),ca=b('htmlize'),da=b('setTimeoutAcrossTransitions'),ea=b('startsWith'),fa=b('tx'),ga=b('userAction'),ha={};function ia(ta,ua){ha[ta.getUnqualifiedURI()]=ua;}function ja(ta){return ha[ta.getUnqualifiedURI()];}function ka(ta){delete ha[ta.getUnqualifiedURI()];}var la=null,ma=null;function na(ta){ma=ta;da(function(){ma=null;},0);}function oa(event){if(ma){if(!event.isDefaultPrevented()){pa(ma);sa.lookBusy(ma);ra.go(ma.getAttribute('href'));}event.prevent();}else{la=event.getTarget();da(function(){la=null;},0);}}function pa(ta){var ua=ta.getAttribute('href'),va=x(ra._most_recent_uri.getQualifiedURI(),ua).toString();if(ua!=va)ta.setAttribute('href',va);}function qa(event){var ta=event.getTarget();if(m.getAttribute(ta,'rel')||m.getAttribute(ta,'target'))return;w('form',ta,event).set_namespace('page_transition');var ua=ga('page_transitions',ta,event,{mode:'DEDUP'}).uai_fallback(null,'form'),va=a.ArbiterMonitor;if(va)va.initUA(ua,[ta]);var wa=new s(m.getAttribute(ta,'action')||''),xa=x(ra._most_recent_uri,wa);ta.setAttribute('action',xa.toString());if((m.getAttribute(ta,'method')||'GET').toUpperCase()==='GET'){var ya=m.serialize(ta),za=la;if(za&&(i.isNodeOfType(za,'input')&&za.type==='submit'||(za=r.byTag(za,'button')))&&za.name)ya[za.name]=za.value;ra.go(xa.addQueryData(ya));event.kill();}}var ra={_transition_handlers:[],_scroll_locked:false,isInitialized:function(){return !!ra._initialized;},_init:function(){if(!k.ALLOW_TRANSITION_IN_IFRAME&&window!=window.top)return;if(ra._initialized)return ra;ra._initialized=true;var ta=s.getRequestURI(false),ua=ta.getUnqualifiedURI(),va=s(ua).setFragment(null),wa=ua.getFragment();if(wa.charAt(0)==='!'&&va.toString()===wa.substr(1))ua=va;y(ra,{_current_uri:ua,_most_recent_uri:ua,_next_uri:ua});var xa;if(ea(ta.getFragment(),'/')){xa=ta.getFragment();}else xa=ua;n.init().setCanonicalLocation('#'+xa).registerURIHandler(ra._historyManagerHandler);p.registerFallbackHandler(na);l.listen(document.documentElement,{click:oa,submit:qa});l.listen(window,'scroll',function(){if(!ra._scroll_locked)ia(ra._current_uri,u.getScrollPosition());});return ra;},registerHandler:function(ta,ua){ra._init();ua=ua||5;if(!ra._transition_handlers[ua])ra._transition_handlers[ua]=[];ra._transition_handlers[ua].push(ta);},getCurrentURI:function(ta){if(!ra._current_uri&&!ta)return new s(ra._most_recent_uri);return new s(ra._current_uri);},getMostRecentURI:function(){return new s(ra._most_recent_uri);},getNextURI:function(){return new s(ra._next_uri);},go:function(ta,ua){var va=new s(ta).removeQueryData('quickling').getQualifiedURI();o.create('pagetransition').debug('go',{uri:va.toString()});ka(va);!ua&&w('uri',{href:va.toString()},null,'INDIRECT');sa.lookBusy();ra._loadPage(va,function(wa){if(wa){n.go(va.toString(),false,ua);}else ba(window.location,va,ua);});},_historyManagerHandler:function(ta){if(ta.charAt(0)!='/')return false;w('h',{href:ta});ga('page_transitions').uai(null,'history_manager');ra._loadPage(new s(ta),function(ua){if(!ua)ba(window.location,ta,true);});return true;},_loadPage:function(ta,ua){if(s(ta).getFragment()&&v(s(ta).setFragment(null).getQualifiedURI(),s(ra._current_uri).setFragment(null).getQualifiedURI()))if(ra.restoreScrollPosition(ta)){ra._current_uri=ra._most_recent_uri=ta;sa.stopLookingBusy();return;}var va;if(ra._current_uri)va=ja(ra._current_uri);ra._current_uri=null;ra._next_uri=ta;if(va)j.scrollTo(va,false);var wa=function(){ra._scroll_locked=true;var ya=ra._handleTransition(ta);ua&&ua(ya);},xa=q.runHooks('onbeforeleavehooks');if(xa){sa.stopLookingBusy();ra._warnBeforeLeaving(xa,wa);}else wa();},_handleTransition:function(ta){window.onbeforeleavehooks=undefined;sa.lookBusy();if(!ta.isSameOrigin())return false;var ua=window.AsyncRequest&&window.AsyncRequest.getLastID();g.inform("pre_page_transition",{from:ra.getMostRecentURI(),to:ta});for(var va=ra._transition_handlers.length-1;va>=0;--va){var wa=ra._transition_handlers[va];if(!wa)continue;for(var xa=wa.length-1;xa>=0;--xa)if(wa[xa](ta)===true){var ya={sender:this,uri:ta,id:ua};try{g.inform("page_transition",ya);}catch(za){}return true;}else wa.splice(xa,1);}return false;},unifyURI:function(){ra._current_uri=ra._most_recent_uri=ra._next_uri;},transitionComplete:function(ta){ra._executeCompletionCallback();sa.stopLookingBusy();ra.unifyURI();if(!ta)ra.restoreScrollPosition(ra._current_uri);try{if(document.activeElement&&document.activeElement.nodeName==='A')document.activeElement.blur();}catch(ua){}},_executeCompletionCallback:function(){if(ra._completionCallback)ra._completionCallback();ra._completionCallback=null;},setCompletionCallback:function(ta){ra._completionCallback=ta;},rewriteCurrentURI:function(ta,ua){ra.registerHandler(function(){if(ta==ra.getMostRecentURI().getUnqualifiedURI().toString()){ra.transitionComplete();return true;}});ra.go(ua,true);},_warnBeforeLeaving:function(ta,ua){new h().setTitle("Are you sure you want to leave this page?").setBody(ca(ta)).setButtons([{name:'leave_page',label:"Leave this Page",handler:ua},{name:'continue_editing',label:"Stay on this Page",className:'inputaux'}]).setModal(true).show();},restoreScrollPosition:function(ta){ra._scroll_locked=false;var ua=ja(ta);if(ua){j.scrollTo(ua,false);return true;}function va(ya){if(!ya)return null;var za="a[name='"+z(ya)+"']";return i.scry(document.body,za)[0]||aa(ya);}var wa=va(s(ta).getFragment());if(wa){var xa=u.getElementPosition(wa);xa.x=0;j.scrollTo(xa);return true;}return false;}},sa=window._BusyUIManager||{_looking_busy:false,_original_cursors:[],lookBusy:function(ta){if(ta)sa._giveProgressCursor(ta);if(sa._looking_busy)return;sa._looking_busy=true;sa._giveProgressCursor(document.documentElement);},stopLookingBusy:function(){if(!sa._looking_busy)return;sa._looking_busy=false;while(sa._original_cursors.length){var ta=sa._original_cursors.pop(),ua=ta[0],va=ta[1];if(ua.style)ua.style.cursor=va||'';}},_giveProgressCursor:function(ta){if(!t.webkit()){sa._original_cursors.push([ta,ta.style.cursor]);ta.style.cursor='progress';}}};e.exports=ra;a.PageTransitions=ra;});
__d("LayerHideOnTransition",["function-extensions","PageTransitions","copyProperties"],function(a,b,c,d,e,f){b('function-extensions');var g=b('PageTransitions'),h=b('copyProperties');function i(j){this._layer=j;}h(i.prototype,{_enabled:false,_subscribed:false,enable:function(){this._enabled=true;if(!this._subscribed){this._subscribe.bind(this).defer();this._subscribed=true;}},disable:function(){this._enabled=false;},_subscribe:function(){g.registerHandler(function(){if(this._enabled)this._layer.hide();this._subscribed=false;}.bind(this));}});e.exports=i;});
__d("Rect",["Vector","$","copyProperties"],function(a,b,c,d,e,f){var g=b('Vector'),h=b('$'),i=b('copyProperties');function j(k,l,m,n,o){if(arguments.length===1){if(k instanceof j)return k;if(k instanceof g)return new j(k.y,k.x,k.y,k.x,k.domain);return j.getElementBounds(h(k));}i(this,{t:k,r:l,b:m,l:n,domain:o||'pure'});}i(j.prototype,{w:function(){return this.r-this.l;},h:function(){return this.b-this.t;},toString:function(){return '(('+this.l+', '+this.t+'), ('+this.r+', '+this.b+'))';},contains:function(k){k=new j(k).convertTo(this.domain);var l=this;return (l.l<=k.l&&l.r>=k.r&&l.t<=k.t&&l.b>=k.b);},add:function(k,l){if(arguments.length==1){if(k.domain!='pure')k=k.convertTo(this.domain);return this.add(k.x,k.y);}var m=parseFloat(k),n=parseFloat(l);return new j(this.t+n,this.r+m,this.b+n,this.l+m,this.domain);},sub:function(k,l){if(arguments.length==1){return this.add(k.mul(-1));}else return this.add(-k,-l);},boundWithin:function(k){var l=0,m=0;if(this.l<k.l){l=k.l-this.l;}else if(this.r>k.r)l=k.r-this.r;if(this.t<k.t){m=k.t-this.t;}else if(this.b>k.b)m=k.b-this.b;return this.add(l,m);},getCenter:function(){return new g(this.l+this.w()/2,this.t+this.h()/2,this.domain);},getPositionVector:function(){return new g(this.l,this.t,this.domain);},getDimensionVector:function(){return new g(this.w(),this.h(),'pure');},convertTo:function(k){if(this.domain==k)return this;if(k=='pure')return new j(this.t,this.r,this.b,this.l,'pure');if(this.domain=='pure')return new j(0,0,0,0);var l=new g(this.l,this.t,this.domain).convertTo(k);return new j(l.y,l.x+this.w(),l.y+this.h(),l.x,k);}});i(j,{deserialize:function(k){var l=k.split(':');return new j(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]),parseFloat(l[0]));},newFromVectors:function(k,l){return new j(k.y,k.x+l.x,k.y+l.y,k.x,k.domain);},getElementBounds:function(k){return j.newFromVectors(g.getElementPosition(k),g.getElementDimensions(k));},getViewportBounds:function(){return j.newFromVectors(g.getScrollPosition(),g.getViewportDimensions());},minimumBoundingBox:function(k){var l=new j(Math.min(),Math.max(),Math.max(),Math.min()),m;for(var n=0;n<k.length;n++){m=k[n];l.t=Math.min(l.t,m.t);l.r=Math.max(l.r,m.r);l.b=Math.max(l.b,m.b);l.l=Math.min(l.l,m.l);}return l;}});e.exports=j;});
__d("ContextualLayer",["Event","Arbiter","ARIA","Class","ContextualThing","CSS","DataStore","DOM","Layer","LayerHideOnTransition","Locale","Parent","Rect","Style","Vector","arrayContains","copyProperties","emptyFunction","getOverlayZIndex","removeFromArray","throttle"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('ARIA'),j=b('Class'),k=b('ContextualThing'),l=b('CSS'),m=b('DataStore'),n=b('DOM'),o=b('Layer'),p=b('LayerHideOnTransition'),q=b('Locale'),r=b('Parent'),s=b('Rect'),t=b('Style'),u=b('Vector'),v=b('arrayContains'),w=b('copyProperties'),x=b('emptyFunction'),y=b('getOverlayZIndex'),z=b('removeFromArray'),aa=b('throttle');function ba(ia){return ia.getPosition()==='left'||(ia.isVertical()&&ia.getAlignment()==='right');}function ca(ia){var ja=ia.parentNode;if(ja){var ka=t.get(ja,'position');if(ka==='static'){if(ja===document.body){ja=document.documentElement;}else ja=ca(ja);}else return ja;}else ja=document.documentElement;return ja;}function da(ia,ja){this.parent.construct(this,ia,ja);}var ea=[];h.subscribe('reflow',function(){ea.forEach(function(ia){if(ia.updatePosition()===false)ia.hide();});});j.extend(da,o);w(da.prototype,{_contentWrapper:null,_content:null,_contextNode:null,_contextBounds:null,_contextSelector:null,_parentLayer:null,_parentSubscription:null,_orientation:null,_orientationClass:null,_configure:function(ia,ja){this.parent._configure(ia,ja);if(ia.context){this.setContext(ia.context);}else if(ia.contextID){this._setContextID(ia.contextID);}else if(ia.contextSelector)this._setContextSelector(ia.contextSelector);this.setPosition(ia.position);this.setAlignment(ia.alignment);this.setOffsetX(ia.offsetX);this.setOffsetY(ia.offsetY);this._content=ja;},_getDefaultBehaviors:function(){return this.parent._getDefaultBehaviors().concat([p]);},_buildWrapper:function(ia,ja){this._contentWrapper=n.create('div',{className:'uiContextualLayer'},ja);return n.create('div',{className:'uiContextualLayerPositioner'},this._contentWrapper);},getInsertParent:function(){var ia=this._insertParent;if(!ia){var ja=this.getContext();if(ja)ia=r.byClass(ja,'uiContextualLayerParent');}return ia||this.parent.getInsertParent();},setContent:function(ia){this._content=ia;n.setContent(this._contentWrapper,this._content);this._shown&&this.updatePosition();return this;},setContext:function(ia){return this.setContextWithBounds(ia,null);},setContextWithBounds:function(ia,ja){this._contextNode=ia;this._contextBounds=ja||null;this._contextSelector=this._contextScrollParent=null;if(this._shown){k.register(this.getRoot(),this._contextNode);this.updatePosition();}this._setParentSubscription();i.setPopup(this.getCausalElement(),this.getRoot());return this;},_setContextID:function(ia){this._contextSelector='#'+ia;this._contextNode=null;},_setContextSelector:function(ia){this._contextSelector=ia;this._contextNode=null;},getCausalElement:function(){return this.parent.getCausalElement()||this.getContext();},_setParentSubscription:function(){var ia=this.getContext(),ja=null;while(ia!==null){ja=m.get(ia,'layer');if(ja)break;ia=ia.parentNode;}if(ja===this._parentLayer)return;if(this._parentLayer&&this._parentSubscription){this._parentLayer.unsubscribe(this._parentSubscription);this._parentSubscription=null;}if(ja)this._parentSubscription=ja.subscribe('hide',this.hide.bind(this));this._parentLayer=ja;},setPosition:function(ia){if(this._getOrientation().setDefaultPosition(ia))this._shown&&this.updatePosition();return this;},setAlignment:function(ia){if(this._getOrientation().setDefaultAlignment(ia))this._shown&&this.updatePosition();return this;},setOffsetX:function(ia){if(this._getOrientation().setDefaultOffsetX(ia))this._shown&&this.updatePosition();return this;},setOffsetY:function(ia){if(this._getOrientation().setDefaultOffsetY(ia))this._shown&&this.updatePosition();return this;},_getOrientation:function(){if(!this._orientation)this._orientation=new ha();return this._orientation;},getContentRoot:function(){return this._contentWrapper;},getContent:function(){return this._content;},getContext:function(){if(!this._contextNode)this._contextNode=n.find(document,this._contextSelector);return this._contextNode;},getContextBounds:function(ia){if(this._contextBounds)return this._contextBounds.convertTo(ia);var ja=this.getContext();return s.newFromVectors(u.getElementPosition(ja,ia),u.getElementDimensions(ja));},getContextScrollParent:function(){if(!this._contextScrollParent)this._contextScrollParent=t.getScrollParent(this.getContext());return this._contextScrollParent;},setInsertParent:function(ia){this._insertScrollParent=null;return this.parent.setInsertParent(ia);},getInsertScrollParent:function(){if(!this._insertScrollParent)this._insertScrollParent=t.getScrollParent(this.getInsertParent());return this._insertScrollParent;},show:function(){if(this._shown)return this;this.parent.show();if(this._shown){k.register(this.getRoot(),this.getContext());ea.push(this);this._resizeListener=this._resizeListener||g.listen(window,'resize',aa(this.updatePosition.bind(this)));}return this;},finishHide:function(){z(ea,this);this._resizeListener&&this._resizeListener.remove();this._resizeListener=null;return this.parent.finishHide();},isFixed:function(){return (t.isFixed(this.getContext())&&!t.isFixed(this.getInsertParent()));},updatePosition:function(){var ia=this.getContext();if(!ia)return false;var ja=this.isFixed();if(!ja&&!ia.offsetParent)return false;var ka=this.getRoot();t.set(ka,'width',u.getViewportDimensions().x+'px');var la=this._getOrientation();this.inform('adjust',la.reset());if(!la.isValid())return false;this._updateWrapperPosition(la);this._updateWrapperClass(la);l.conditionClass(ka,'uiContextualLayerPositionerFixed',ja);var ma,na,oa=ja?'viewport':'document',pa=ja?document.documentElement:ca(ka);if(pa===document.documentElement){ma=new u(0,0);na=document.documentElement.clientWidth;}else if(!ka.offsetParent){return false;}else{ma=u.getElementPosition(pa,oa);na=pa.offsetWidth;if(pa!==document.body)ma=ma.sub(new u(pa.scrollLeft,pa.scrollTop));}var qa=this.getContextBounds(oa),ra=qa.l-ma.x,sa=qa.t-ma.y,ta=qa.h(),ua=qa.w(),va=q.isRTL();if(la.getPosition()==='below')sa+=ta;if((la.getPosition()==='right'||(la.isVertical()&&la.getAlignment()==='right'))!=va)ra+=ua;var wa=la.getOffsetX();if(la.isVertical()&&la.getAlignment()==='center')wa+=(ua-this.getContentRoot().offsetWidth)/2;if(va)wa*=-1;var xa='left',ya=Math.floor(ra+wa);if(ba(la)!==va){xa='right';ya=na-ya;}t.set(ka,xa,ya+'px');t.set(ka,xa==='left'?'right':'left','');var za=this.getInsertScrollParent(),ab;if(za!==window){ab=za.clientWidth;}else ab=document.documentElement.clientWidth;var bb=u.getElementPosition(ka).x;if(xa==='left'){if(ab-bb>0){t.set(ka,'width',(ab-bb)+'px');}else t.set(ka,'width','');}else t.set(ka,'width',bb+ka.offsetWidth+'px');t.set(ka,'top',(sa+la.getOffsetY())+'px');var cb=y(ia,this.getInsertParent());t.set(ka,'z-index',cb>200?cb:'');this.inform('reposition',la);return true;},_updateWrapperPosition:function(ia){var ja=ia.getPosition()==='above';t.set(this._contentWrapper,'bottom',ja?'0':null);var ka=q.isRTL()?'left':'right',la=ba(ia);t.set(this._contentWrapper,ka,la?'0':null);},_updateWrapperClass:function(ia){var ja=ia.getClassName();if(ja===this._orientationClass)return;if(this._orientationClass)l.removeClass(this._contentWrapper,this._orientationClass);this._orientationClass=ja;l.addClass(this._contentWrapper,ja);},simulateOrientation:function(ia,ja){var ka=ia.getClassName();if(ka===this._orientationClass){return ja();}else{if(this._orientationClass)l.removeClass(this._contentWrapper,this._orientationClass);l.addClass(this._contentWrapper,ka);var la=ja();l.removeClass(this._contentWrapper,ka);if(this._orientationClass)l.addClass(this._contentWrapper,this._orientationClass);return la;}},destroy:function(){this.parent.destroy();this._contentWrapper=null;this._content=null;return this;}});var fa=x.thatReturnsArgument,ga=x.thatReturnsArgument;function ha(){this._default={_position:'above',_alignment:'left',_offsetX:0,_offsetY:0,_valid:true};this.reset();}ha.OPPOSITE={above:'below',below:'above',left:'right',right:'left'};w(ha.prototype,{setPosition:function(ia){this._position=fa(ia);return this;},setAlignment:function(ia){this._alignment=ga(ia);return this;},getOppositePosition:function(){return ha.OPPOSITE[this.getPosition()];},invalidate:function(){this._valid=false;return this;},getPosition:function(){return this._position||'above';},getAlignment:function(){return this._alignment||'left';},getOffsetX:function(){var ia=this._offsetX||0;if(!this.isVertical()){if(this._default._position!==this._position)ia*=-1;}else if(this._default._alignment!==this._alignment)ia*=-1;return ia;},getOffsetY:function(){var ia=this._offsetY||0;if(this.isVertical()&&this._default._position!==this._position)ia*=-1;return ia;},getClassName:function(){var ia=this.getAlignment(),ja=this.getPosition();if(ja==='below'){if(ia==='left'){return 'uiContextualLayerBelowLeft';}else if(ia==='right'){return 'uiContextualLayerBelowRight';}else return 'uiContextualLayerBelowCenter';}else if(ja==='above'){if(ia==='left'){return 'uiContextualLayerAboveLeft';}else if(ia==='right'){return 'uiContextualLayerAboveRight';}else return 'uiContextualLayerAboveCenter';}else if(ja==='left'){return 'uiContextualLayerLeft';}else return 'uiContextualLayerRight';},isValid:function(){return this._valid;},isVertical:function(){return this.getPosition()==='above'||this.getPosition()==='below';},reset:function(ia,ja){w(this,this._default);return this;},setDefaultPosition:function(ia){var ja=this._default._position;this._default._position=fa(ia);return ja!==ia;},setDefaultAlignment:function(ia){var ja=this._default._alignment;this._default._alignment=ga(ia);return ja!==ia;},setDefaultOffsetX:function(ia){var ja=this._default._offsetX;this._default._offsetX=ia;return ja!==ia;},setDefaultOffsetY:function(ia){var ja=this._default._offsetY;this._default._offsetY=ia;return ja!==ia;}});e.exports=da;});
__d("ContextualLayerDimensions",["DOM","Locale","Rect","Vector","ViewportBounds","ge","getOverlayZIndex"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('Locale'),i=b('Rect'),j=b('Vector'),k=b('ViewportBounds'),l=b('ge'),m=b('getOverlayZIndex'),n={getViewportRect:function(o){var p=l('globalContainer'),q=o.getContext(),r=(p&&g.contains(p,q))||m(q)<300,s=i.getViewportBounds();if(r){s.t+=k.getTop();if(h.isRTL()){s.r-=k.getLeft();s.l+=k.getRight();}else{s.r-=k.getRight();s.l+=k.getLeft();}}return s;},getLayerRect:function(o,p){var q=o.getContextBounds('viewport'),r=o.simulateOrientation(p,function(){return j.getElementDimensions(o.getContent());}),s=q.t+p.getOffsetY();if(p.getPosition()==='above'){s-=r.y;}else if(p.getPosition()==='below')s+=q.b-q.t;var t=q.l+p.getOffsetX(),u=q.r-q.l;if(p.isVertical()){var v=p.getAlignment();if(v==='center'){t+=(u-r.x)/2;}else if((v==='right')!==h.isRTL())t+=u-r.x;}else if((p.getPosition()==='right')!==h.isRTL()){t+=u;}else t-=r.x;return new i(s,t+r.x,s+r.y,t,'viewport');}};e.exports=n;});
__d("ContextualLayerAutoFlip",["ContextualLayerDimensions","DOM","Vector","arrayContains","copyProperties"],function(a,b,c,d,e,f){var g=b('ContextualLayerDimensions'),h=b('DOM'),i=b('Vector'),j=b('arrayContains'),k=b('copyProperties');function l(m){this._layer=m;}k(l.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('adjust',this._adjustOrientation.bind(this));if(this._layer.isShown())this._layer.updatePosition();},disable:function(){this._subscription.unsubscribe();this._subscription=null;if(this._layer.isShown())this._layer.updatePosition();},_adjustOrientation:function(m,n){var o=this._getValidPositions(n);if(!o.length){n.invalidate();return;}var p=g.getViewportRect(this._layer),q=this._getValidAlignments(n),r,s,t;for(r=0;r<q.length;r++){n.setAlignment(q[r]);for(s=0;s<o.length;s++){n.setPosition(o[s]);t=g.getLayerRect(this._layer,n);if(p.contains(t))return;}}n.setPosition(j(o,'below')?'below':o[0]);for(r=0;r<q.length;r++){n.setAlignment(q[r]);t=g.getLayerRect(this._layer,n);if(t.l>=p.l&&t.r<=p.r)return;}n.setAlignment(q[0]);},_getValidPositions:function(m){var n=[m.getPosition(),m.getOppositePosition()],o=this._layer.getContextScrollParent();if(o===window||o===h.getDocumentScrollElement())return n;var p=this._layer.getContext(),q=i.getElementPosition(o,'viewport').y,r=i.getElementPosition(p,'viewport').y;if(m.isVertical()){return n.filter(function(t){if(t==='above'){return r>=q;}else{var u=q+o.offsetHeight,v=r+p.offsetHeight;return v<=u;}});}else{var s=q+o.offsetHeight;if(r>=q&&r+p.offsetHeight<=s){return n;}else return [];}},_getValidAlignments:function(m){var n=['left','right','center'],o=m.getAlignment(),p=n.indexOf(o);if(p>0){n.splice(p,1);n.unshift(o);}return n;}});e.exports=l;});
__d("ContextualLayerHideOnScroll",["Event","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties');function i(j){this._layer=j;}h(i.prototype,{_subscriptions:[],enable:function(){this._subscriptions=[this._layer.subscribe('contextchange',this._handleContextChange.bind(this)),this._layer.subscribe('show',this.attach.bind(this)),this._layer.subscribe('hide',this.detach.bind(this))];},disable:function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach();},attach:function(){if(this._listener)return;var j=this._layer.getContextScrollParent();if(j===window)return;this._listener=g.listen(j,'scroll',this._layer.hide.bind(this._layer));},detach:function(){this._listener&&this._listener.remove();this._listener=null;},_handleContextChange:function(){this.detach();if(this._layer.isShown())this.attach();}});e.exports=i;});
__d("ContextualTypeaheadView",["BucketedTypeaheadView","CSS","Class","ContextualLayer","ContextualLayerAutoFlip","ContextualLayerHideOnScroll","DOM","DOMDimensions","Style","copyProperties"],function(a,b,c,d,e,f){var g=b('BucketedTypeaheadView'),h=b('CSS'),i=b('Class'),j=b('ContextualLayer'),k=b('ContextualLayerAutoFlip'),l=b('ContextualLayerHideOnScroll'),m=b('DOM'),n=b('DOMDimensions'),o=b('Style'),p=b('copyProperties');function q(r,s){this.parent.construct(this,r,s);}i.extend(q,g);p(q.prototype,{init:function(){this.initializeLayer();this.parent.init();},initializeLayer:function(){this.context=this.getContext();this.wrapper=m.create('div');m.appendContent(this.wrapper,this.element);h.addClass(this.element,'uiContextualTypeaheadView');this.layer=new j({context:this.context,position:'below',alignment:this.alignment,causalElement:this.causalElement},this.wrapper);this.layer.enableBehavior(l);if(o.isFixed(this.context)||this.autoflip)this.layer.enableBehavior(k);this.subscribe('render',this.renderLayer.bind(this));},show:function(){if(this.minWidth){o.set(this.wrapper,'min-width',this.minWidth+'px');}else if(this.width){o.set(this.wrapper,'width',this.width+'px');}else o.set(this.wrapper,'width',n.getElementDimensions(this.context).width+'px');var r=this.parent.show();this.layer.show();return r;},hide:function(){this.layer.hide();return this.parent.hide();},renderLayer:function(){if(!this.isVisible())return;if(this.layer.isShown()){this.layer.updatePosition();}else this.layer.show();},clearText:function(){this.layer.getCausalElement().value='';},getContext:function(){return this.element.parentNode;}});e.exports=q;});
__d("DOMClone",[],function(a,b,c,d,e,f){var g={shallowClone:function(i){return h(i,false);},deepClone:function(i){return h(i,true);}};function h(i,j){var k=i.cloneNode(j);if(typeof k.__FB_TOKEN!=='undefined')delete k.__FB_TOKEN;return k;}e.exports=g;});
__d("DialogHideOnSuccess",["copyProperties","CSS","cx"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('CSS'),i=b('cx');function j(k){this._layer=k;}g(j.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('success',this._handle.bind(this));},disable:function(){this._subscription.unsubscribe();this._subscription=null;},_handle:function(k,event){if(h.hasClass(event.getTarget(),"_s"))this._layer.hide();}});e.exports=j;});
__d("DocumentTitle",["Arbiter"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=document.title,i=null,j=1500,k=[],l=0,m=null,n=false;function o(){if(k.length>0){if(!n){p(k[l].title);l=++l%k.length;}else q();}else{clearInterval(m);m=null;q();}}function p(s){document.title=s;n=true;}function q(){r.set(i||h,true);n=false;}var r={get:function(){return h;},set:function(s,t){document.title=s;if(!t){h=s;i=null;g.inform('update_title',s);}else i=s;},blink:function(s){var t={title:s};k.push(t);if(m===null)m=setInterval(o,j);return {stop:function(){var u=k.indexOf(t);if(u>=0){k.splice(u,1);if(l>u){l--;}else if(l==u&&l==k.length)l=0;}}};}};e.exports=r;});
__d("DoublyLinkedListMap",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(){this._head=null;this._tail=null;this._nodes={};this._nodeCount=0;}g(h.prototype,{get:function(i){return this._nodes[i]?this._nodes[i].data:null;},_insert:function(i,j,k,l){k&&!this._nodes[k]&&(k=null);var m=(k&&this._nodes[k])||(l?this._head:this._tail),n={data:j,key:i,next:null,prev:null};if(m){this.remove(i);if(l){n.prev=m.prev;m.prev&&(m.prev.next=n);m.prev=n;n.next=m;}else{n.next=m.next;m.next&&(m.next.prev=n);m.next=n;n.prev=m;}}n.prev===null&&(this._head=n);n.next===null&&(this._tail=n);this._nodes[i]=n;this._nodeCount++;return this;},insertBefore:function(i,j,k){return this._insert(i,j,k,true);},insertAfter:function(i,j,k){return this._insert(i,j,k,false);},prepend:function(i,j){return this.insertBefore(i,j,this._head&&this._head.key);},append:function(i,j){return this.insertAfter(i,j,this._tail&&this._tail.key);},remove:function(i){var j=this._nodes[i];if(j){var k=j.next,l=j.prev;k&&(k.prev=l);l&&(l.next=k);this._head===j&&(this._head=k);this._tail===j&&(this._tail=l);delete this._nodes[i];this._nodeCount--;}return this;},find:function(i){for(var j=this._head;j;j=j.next)if(i(j.data))return j.key;return null;},reduce:function(i,j){for(var k=this._head;k;k=k.next)j=i(k.data,j);return j;},exists:function(i){return !!this._nodes[i];},isEmpty:function(){return !this._head;},reset:function(){this._head=null;this._tail=null;this._nodes={};this._nodeCount=0;},map:function(i){for(var j=this._head;j;j=j.next)i(j.data);},getCount:function(){return this._nodeCount;},getHead:function(){return this._head&&this._head.data;},getTail:function(){return this._tail&&this._tail.data;},getNext:function(i){var j=this._nodes[i];if(j&&j.next)return j.next.data;return null;},getPrev:function(i){var j=this._nodes[i];if(j&&j.prev)return j.prev.data;return null;}});e.exports=h;});
__d("Ease",[],function(a,b,c,d,e,f){var g={makePowerOut:function(h){return function(i){var j=1-Math.pow(1-i,h);return (j*10000|0)/10000;};},makePowerIn:function(h){return function(i){var j=Math.pow(i,h);return (j*10000|0)/10000;};},makePowerInOut:function(h){return function(i){var j=((i*=2)<1)?Math.pow(i,h)*.5:1-Math.abs(Math.pow(2-i,h))*.5;return (j*10000|0)/10000;};},sineOut:function(h){return Math.sin(h*Math.PI*.5);},sineIn:function(h){return 1-Math.cos(h*Math.PI*.5);},sineInOut:function(h){return -.5*(Math.cos(Math.PI*h)-1);},circOut:function(h){return Math.sqrt(1-(--h)*h);},circIn:function(h){return -(Math.sqrt(1-h*h)-1);},circInOut:function(h){return ((h*=2)<1)?-.5*(Math.sqrt(1-h*h)-1):.5*(Math.sqrt(1-(h-=2)*h)+1);},bounceOut:function(h){if(h<1/2.75){return (7.5625*h*h);}else if(h<2/2.75){return (7.5625*(h-=1.5/2.75)*h+.75);}else if(h<2.5/2.75){return (7.5625*(h-=2.25/2.75)*h+.9375);}else return (7.5625*(h-=2.625/2.75)*h+.984375);},bounceIn:function(h){return 1-g.bounceOut(1-h);},bounceInOut:function(h){return (h<.5)?g.bounceIn(h*2)*.5:g.bounceOut(h*2-1)*.5+.5;},makeElasticOut:function(h,i){h<1&&(h=1);var j=Math.PI*2;return function(k){if(k===0||k===1)return k;var l=i/j*Math.asin(1/h);return h*Math.pow(2,-10*k)*Math.sin((k-l)*j/i)+1;};},makeElasticIn:function(h,i){h<1&&(h=1);var j=Math.PI*2;return function(k){if(k===0||k===1)return k;var l=i/j*Math.asin(1/h);return -(h*Math.pow(2,10*(k-=1))*Math.sin((k-l)*j/i));};},makeElasticInOut:function(h,i){h<1&&(h=1);i*=1.5;var j=Math.PI*2;return function(k){var l=i/j*Math.asin(1/h);return ((k*=2)<1)?-.5*h*Math.pow(2,10*(k-=1))*Math.sin((k-l)*j/i):1+.5*h*Math.pow(2,-10*(k-=1))*Math.sin((k-l)*j/i);};},makeBackOut:function(h){return function(i){return (--i*i*((h+1)*i+h)+1);};},makeBackIn:function(h){return function(i){return i*i*((h+1)*i-h);};},makeBackInOut:function(h){h*=1.525;return function(i){return ((i*=2)<1)?.5*(i*i*((h+1)*i-h)):.5*((i-=2)*i*((h+1)*i+h)+2);};},easeOutExpo:function(h){return -Math.pow(2,-10*h)+1;}};g.elasticOut=g.makeElasticOut(1,.3);g.elasticIn=g.makeElasticIn(1,.3);g.elasticInOut=g.makeElasticInOut(1,.3);g.backOut=g.makeBackOut(1.7);g.backIn=g.makeBackIn(1.7);g.backInOut=g.makeBackInOut(1.7);e.exports=g;});
__d("ErrorDialog",["Dialog","emptyFunction"],function(a,b,c,d,e,f){var g=b('Dialog'),h=b('emptyFunction'),i={showAsyncError:function(j){try{return i.show(j.getErrorSummary(),j.getErrorDescription());}catch(k){alert(j);}},show:function(j,k,l,m){return (new g()).setTitle(j).setBody(k).setButtons([g.OK]).setStackable(true).setModal(true).setHandler(l||h).setButtonsMessage(m||'').show();}};e.exports=i;});
__d("FileInput",["Event","ArbiterMixin","DOM","DOMClone","Focus","UserAgent","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('Event'),h=b('ArbiterMixin'),i=b('DOM'),j=b('DOMClone'),k=b('Focus'),l=b('UserAgent'),m=b('copyProperties'),n=b('cx'),o=l.ie();function p(q,r,s){this.container=q;this.control=r;this.input=s;var t=i.scry(this.container,'a')[0];t&&t.removeAttribute('href');var u=i.create('div',{className:"_3jk"},this.input);i.appendContent(this.control,u);this._initListeners();}m(p.prototype,h,{getValue:function(){return this.input.value;},getInput:function(){return this.input;},clear:function(){if(o){var q=j.deepClone(this.input);i.replace(this.input,q);this.input=q;while(this._listeners.length)this._listeners.pop().remove();this._initListeners();}else{this.input.value='';this.input.files=null;}},_initListeners:function(){k.relocate(this.input,this.control);this._listeners=[g.listen(this.input,'change',o===7?this._handleChangeInIE7.bind(this):this._handleChange.bind(this))];},_handleChangeInIE7:function(event){if(this._blurring){this._blurring=false;return;}this._handleChange(event);(function(){this._blurring=true;this.input.blur();}).bind(this).defer();},_handleChange:function(event){this.inform('change',event);var q=this.input.form;if(q&&o<9)g.fire(q,'change',event);}});e.exports=p;});
__d("FullScreen",["Event","Arbiter","CSS","UserAgent","copyProperties","throttle"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('CSS'),j=b('UserAgent'),k=b('copyProperties'),l=b('throttle'),m={},n=k(new h(),{listenForEvent:function(p){var q=l(this.onChange,0,this);if(!m[p.id]){m[p.id]=true;g.listen(p,{webkitfullscreenchange:q,mozfullscreenchange:q,fullscreenchange:q});}},enableFullScreen:function(p){this.listenForEvent(p);if(p.webkitRequestFullScreen){if(j.chrome()){p.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);}else p.webkitRequestFullScreen();}else if(p.mozRequestFullScreen){p.mozRequestFullScreen();}else if(p.requestFullScreen){p.requestFullScreen();}else return false;return true;},disableFullScreen:function(){if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.cancelFullScreen){document.cancelFullScreen();}else if(document.exitFullScreen){document.exitFullScreen();}else return false;return true;},isFullScreen:function(){return (document.webkitIsFullScreen||document.fullScreen||document.mozFullScreen);},toggleFullScreen:function(p){if(this.isFullScreen()){this.disableFullScreen();return false;}else return this.enableFullScreen(p);return false;},onChange:function(){var p=this.isFullScreen();i.conditionClass(document.body,'fullScreen',p);this.inform('changed');},isSupported:function(){return (document.webkitCancelFullScreen&&j.chrome())||document.mozCancelFullScreen||document.cancelFullScreen||document.exitFullScreen;}}),o=l(n.onChange,0,n);g.listen(document,{webkitfullscreenchange:o,mozfullscreenchange:o,fullscreenchange:o});e.exports=n;});
__d("JSXDOM",["DOM","flattenArray"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('flattenArray'),i=['a','br','button','checkbox','dd','div','dl','dt','em','form','h1','h2','h3','h4','h5','h6','hr','i','iframe','img','input','label','li','option','p','pre','select','span','strong','table','tbody','thead','td','textarea','th','tr','ul','video'],j={};i.forEach(function(k){var l=function(m,n){if(!n&&m){n=m.children;delete m.children;}if(n)n=Array.isArray(n)?h(n):h([n]);return g.create(k,m,n);};j[k]=l;});e.exports=j;});
__d("KeyStatus",["Event"],function(a,b,c,d,e,f){var g=b('Event'),h=null,i=null;function j(){if(!i)i=g.listen(window,'blur',function(){h=null;k();});}function k(){if(i){i.remove();i=null;}}g.listen(document.documentElement,'keydown',function(m){h=g.getKeyCode(m);j();},g.Priority.URGENT);g.listen(document.documentElement,'keyup',function(m){h=null;k();},g.Priority.URGENT);var l={isKeyDown:function(){return !!h;},getKeyDownCode:function(){return h;}};e.exports=l;});
__d("MenuDeprecated",["Event","Arbiter","CSS","DataStore","DOM","HTML","Keys","Parent","Run","Style","UserAgent","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('CSS'),j=b('DataStore'),k=b('DOM'),l=b('HTML'),m=b('Keys'),n=b('Parent'),o=b('Run'),p=b('Style'),q=b('UserAgent'),r=b('copyProperties'),s='menu:mouseover',t=null;function u(da){if(i.hasClass(da,'uiMenuContainer'))return da;return n.byClass(da,'uiMenu');}function v(da){return n.byClass(da,'uiMenuItem');}function w(da){if(document.activeElement){var ea=v(document.activeElement);return da.indexOf(ea);}return -1;}function x(da){return k.find(da,'a.itemAnchor');}function y(da){return i.hasClass(da,'checked');}function z(da){return !i.hasClass(da,'disabled')&&p.get(da,'display')!=='none';}function aa(event){var da=document.activeElement;if(!da||!n.byClass(da,'uiMenu')||!k.isNodeOfType(da,['input','textarea'])){var ea=v(event.getTarget());ea&&ca.focusItem(ea);}}function ba(da){q.firefox()&&x(da).blur();ca.inform('select',{menu:u(da),item:da});}o.onLoad(function(){var da={};da.click=function(event){var ea=v(event.getTarget());if(ea&&z(ea)){ba(ea);var fa=x(ea),ga=fa.href,ha=fa.getAttribute('rel');return (ha&&ha!=='ignore')||(ga&&ga.charAt(ga.length-1)!=='#');}};da.keydown=function(event){var ea=event.getTarget();if(event.getModifiers().any)return;if(!t||k.isNodeOfType(ea,['input','textarea']))return;var fa=g.getKeyCode(event),ga;switch(fa){case m.UP:case m.DOWN:var ha=ca.getEnabledItems(t);ga=w(ha);ca.focusItem(ha[ga+(fa===m.UP?-1:1)]);return false;case m.SPACE:var ia=v(ea);if(ia){ba(ia);event.prevent();}break;default:var ja=String.fromCharCode(fa).toLowerCase(),ka=ca.getEnabledItems(t);ga=w(ka);var la=ga,ma=ka.length;while((~ga&&(la=++la%ma)!==ga)||(!~ga&&++la<ma)){var na=ca.getItemLabel(ka[la]);if(na&&na.charAt(0).toLowerCase()===ja){ca.focusItem(ka[la]);return false;}}}};g.listen(document.body,da);});var ca=r(new h(),{focusItem:function(da){if(da&&z(da)){this._removeSelected(u(da));i.addClass(da,'selected');x(da).focus();}},getEnabledItems:function(da){return ca.getItems(da).filter(z);},getCheckedItems:function(da){return ca.getItems(da).filter(y);},getItems:function(da){return k.scry(da,'li.uiMenuItem');},getItemLabel:function(da){return da.getAttribute('data-label',2)||'';},isItemChecked:function(da){return i.hasClass(da,'checked');},register:function(da,ea){da=u(da);if(!j.get(da,s))j.set(da,s,g.listen(da,'mouseover',aa));if(ea!==false)t=da;},setItemEnabled:function(da,ea){if(!ea&&!k.scry(da,'span.disabledAnchor')[0])k.appendContent(da,k.create('span',{className:k.find(da,'a').className+' disabledAnchor'},l(x(da).innerHTML)));i.conditionClass(da,'disabled',!ea);},toggleItem:function(da){var ea=!ca.isItemChecked(da);ca.setItemChecked(da,ea);},setItemChecked:function(da,ea){i.conditionClass(da,'checked',ea);x(da).setAttribute('aria-checked',ea);},unregister:function(da){da=u(da);var ea=j.remove(da,s);ea&&ea.remove();t=null;this._removeSelected(da);},_removeSelected:function(da){ca.getItems(da).filter(function(ea){return i.hasClass(ea,'selected');}).forEach(function(ea){i.removeClass(ea,'selected');});}});e.exports=ca;});
__d("MenuXItemInterface",["copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('emptyFunction');function i(){}g(i.prototype,{_root:null,getRoot:function(){if(!this._root)this._root=this.render();return this._root;},render:h,getAccessKey:h,hasAction:h.thatReturnsFalse,focus:h.thatReturnsFalse,blur:h.thatReturnsFalse,handleClick:h.thatReturnsFalse});e.exports=i;});
__d("MenuXItemBase",["Class","copyProperties","DOM","HTML","MenuXItemInterface"],function(a,b,c,d,e,f){var g=b('Class'),h=b('copyProperties'),i=b('DOM'),j=b('HTML'),k=b('MenuXItemInterface');function l(m){this.parent.construct(this);this._data=m;}g.extend(l,k);h(l.prototype,{render:function(){var m='uiMenuXItem';if(this._data.className)m+=' '+this._data.className;var n={className:m,'aria-selected':'false'};for(var o in this._data)if(o.indexOf('data-')===0)n[o]=this._data[o];return i.create('li',n,this._renderItemContent());},_renderItemContent:function(){return j(this._data.markup).getNodes();}});e.exports=l;});
__d("MenuXItem",["Class","CSS","DOM","MenuXItemBase","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('Class'),h=b('CSS'),i=b('DOM'),j=b('MenuXItemBase'),k=b('copyProperties'),l=b('emptyFunction');function m(n){this.parent.construct(this,n);}g.extend(m,j);k(m.prototype,{getValue:function(){return this._data.value;},getAccessKey:function(){return this._data.label&&this._data.label.charAt(0);},hasAction:l.thatReturnsTrue,focus:function(n){if(!this._root.offsetParent)return false;h.addClass(this._anchor,'highlighted');h.addClass(this._root,'selected');this._root.setAttribute('aria-selected','true');n||this._anchor.focus();},blur:function(){h.removeClass(this._anchor,'highlighted');h.removeClass(this._root,'selected');this._root.setAttribute('aria-selected','false');},handleClick:function(){if(typeof this._onclickHandler==='function')return this._onclickHandler();return !!((this._data.rel&&this._data.rel!=='ignore')||this._data.href);},setOnClickHandler:function(n){this._onclickHandler=n;},_renderItemContent:function(){this._anchor=i.create('a',{className:'itemAnchor'},i.create('span',{className:'itemLabel'},this._data.markup||this._data.label));if(this._data.icon){i.prependContent(this._anchor,this._data.icon);h.addClass(this._anchor,'hasIcon');}this._anchor.setAttribute('href',this._data.href||'#');if(this._data.rel){this._anchor.setAttribute('rel',this._data.rel);}else if(!this._data.href)this._anchor.setAttribute('rel','ignore');if(this._data.ajaxify)this._anchor.setAttribute('ajaxify',this._data.ajaxify);if(this._data.target)this._anchor.setAttribute('target',this._data.target);this._anchor.setAttribute('role','menuitem');this._anchor.setAttribute('title',this._data.title);return this._anchor;}});e.exports=m;});
__d("coalesce",[],function(a,b,c,d,e,f){function g(){for(var h=0;h<arguments.length;++h)if(arguments[h]!=null)return arguments[h];return null;}e.exports=g;});
__d("requestAnimationFrame",["emptyFunction"],function(a,b,c,d,e,f){var g=b('emptyFunction'),h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(i){return window.setTimeout(i,33);};h(g);e.exports=h;});
__d("queryThenMutateDOM",["function-extensions","Run","requestAnimationFrame"],function(a,b,c,d,e,f){b('function-extensions');var g=b('Run'),h=b('requestAnimationFrame');function i(q,r,s){if(!q&&!r)return;if(s&&k.hasOwnProperty(s)){return;}else if(s)k[s]=1;p();r&&l.push(r);q&&m.push(q);if(!j){j=true;g.onLeave(function(){j=false;n();});}}var j=false,k={},l=[],m=[];function n(){k={};l.length=0;m.length=0;}function o(){var q;for(q=0;q<m.length;++q)m[q]();for(q=0;q<l.length;++q)l[q]();n();}function p(){if(!m.length&&!l.length)h(h.curry(o));}e.exports=i;});
__d("OnVisible",["Event","Arbiter","Run","Vector","ViewportBounds","coalesce","copyProperties","queryThenMutateDOM"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('Run'),j=b('Vector'),k=b('ViewportBounds'),l=b('coalesce'),m=b('copyProperties'),n=b('queryThenMutateDOM'),o=[],p,q=0,r=[],s,t,u,v,w;function x(){o.forEach(function(da){da.remove();});if(t){t.remove();s.remove();p.unsubscribe();t=s=p=null;}q=0;o.length=0;}function y(){if(!o.length){x();return;}r.length=0;u=j.getScrollPosition().y;v=j.getViewportDimensions().y;w=k.getTop();for(var da=0;da<o.length;++da){var ea=o[da];if(isNaN(ea.elementHeight))r.push(da);ea.elementHeight=j.getElementDimensions(ea.element).y;ea.elementPos=j.getElementPosition(ea.element);}q=da;}function z(){for(var da=Math.min(o.length,q)-1;da>=0;--da){var ea=o[da];if(!ea.elementPos||ea.removed){o.splice(da,1);continue;}var fa=u+v+ea.buffer;if(fa>ea.elementPos.y){var ga=!ea.strict||(u+w-ea.buffer<(ea.elementPos.y+ea.elementHeight));if(ga){ea.remove();ea.handler(r.indexOf(da)!==-1);}}}}function aa(){ba();if(o.length)return;t=g.listen(window,'scroll',ba);s=g.listen(window,'resize',ba);p=h.subscribe('dom-scroll',ba);}function ba(){n(y,z,'OnVisible/positionCheck');}function ca(da,ea,fa,ga){this.element=da;this.handler=ea;this.strict=fa;this.buffer=l(ga,300);if(o.length===0)i.onLeave(x);aa();o.push(this);}m(ca,{checkBuffer:ba});m(ca.prototype,{remove:function(){this.removed=true;},reset:function(){this.elementHeight=null;o.indexOf(this)===-1&&o.push(this);aa();},setBuffer:function(da){this.buffer=da;ba();},checkBuffer:function(){ba();}});e.exports=ca;});
__d("LayerButtons",["Event","Parent","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Parent'),i=b('copyProperties');function j(k){this._layer=k;}i(j.prototype,{_listener:null,enable:function(){this._listener=g.listen(this._layer.getRoot(),'click',this._handle.bind(this));},disable:function(){this._listener.remove();this._listener=null;},_handle:function(k){var l=k.getTarget(),m=h.byClass(l,'layerConfirm');if(m){if(this._layer.inform('confirm',m)===false)k.prevent();return;}var n=h.byClass(l,'layerCancel');if(n){if(this._layer.inform('cancel',n)!==false)this._layer.hide();k.prevent();return;}var o=h.byClass(l,'layerButton');if(o)if(this._layer.inform('button',o)===false)k.prevent();}});e.exports=j;});
__d("LayerDestroyOnHide",["function-extensions","copyProperties"],function(a,b,c,d,e,f){b('function-extensions');var g=b('copyProperties');function h(i){this._layer=i;}g(h.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('hide',Function.prototype.defer.shield(this._layer.destroy.bind(this._layer)));},disable:function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}}});e.exports=h;});
__d("LayerFadeOnHide",["Animation","Layer","Style","UserAgent","copyProperties"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Layer'),i=b('Style'),j=b('UserAgent'),k=b('copyProperties');function l(m){this._layer=m;}k(l.prototype,{_subscription:null,enable:function(){if(j.ie()<9)return;this._subscription=this._layer.subscribe('starthide',this._handleStartHide.bind(this));},disable:function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}},_handleStartHide:function(){var m=true,n=h.subscribe('show',function(){n.unsubscribe();m=false;});(function(){n.unsubscribe();n=null;if(m){this._animate();}else this._layer.finishHide();}).bind(this).defer();return false;},_animate:function(){new g(this._layer.getRoot()).from('opacity',1).to('opacity',0).duration(150).ondone(this._finish.bind(this)).go();},_finish:function(){i.set(this._layer.getRoot(),'opacity','');this._layer.finishHide();}});e.exports=l;});
__d("LayerFadeOnShow",["Animation","Style","UserAgent","copyProperties"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Style'),i=b('UserAgent'),j=b('copyProperties');function k(l){this._layer=l;}j(k.prototype,{_subscriptions:null,enable:function(){if(i.ie()<9)return;this._subscriptions=[this._layer.subscribe('beforeshow',function(){h.set(this._layer.getRoot(),'opacity',0);}.bind(this)),this._layer.subscribe('show',this._animate.bind(this))];},disable:function(){if(this._subscriptions){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;}},_getDuration:function(){return 100;},_animate:function(){var l=this._layer.getRoot();new g(l).from('opacity',0).to('opacity',1).duration(this._getDuration()).ondone(h.set.curry(l,'opacity','')).go();}});e.exports=k;});
__d("LayerFormHooks",["Event","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties');function i(j){this._layer=j;}h(i.prototype,{_subscriptions:null,enable:function(){var j=this._layer.getRoot();this._subscriptions=[g.listen(j,'submit',this._onSubmit.bind(this)),g.listen(j,'success',this._onSuccess.bind(this)),g.listen(j,'error',this._onError.bind(this))];},disable:function(){this._subscriptions.forEach(function(j){j.remove();});this._subscriptions=null;},_onSubmit:function(event){if(this._layer.inform('submit',event)===false)event.kill();},_onSuccess:function(event){if(this._layer.inform('success',event)===false)event.kill();},_onError:function(event){var j=event.getData();if(this._layer.inform('error',{response:j.response})===false)event.kill();}});e.exports=i;});
__d("LayerHideOnBlur",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(i){this._layer=i;}g(h.prototype,{_subscriptions:null,_onBlur:null,enable:function(){this._subscriptions=[this._layer.subscribe('show',this._attach.bind(this)),this._layer.subscribe('hide',this._detach.bind(this))];if(this._layer.isShown())this._attach();},disable:function(){this._detach();while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;},_detach:function(){this._onBlur&&this._onBlur.unsubscribe();this._onBlur=null;},_attach:function(){this._onBlur=this._layer.subscribe('blur',function(){this._layer.hide();return false;}.bind(this));}});e.exports=h;});
__d("LayerHideOnEscape",["Event","copyProperties","Focus","Keys"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties'),i=b('Focus'),j=b('Keys');function k(l){this._layer=l;}h(k.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('key',this._handle.bind(this));},disable:function(){this._subscription.unsubscribe();this._subscription=null;},_handle:function(l,event){if(g.getKeyCode(event)===j.ESC){var m=this._layer.getCausalElement();if(m)if(m.tabIndex!=-1)i.setWithoutOutline(m);this._layer.hide();return false;}}});e.exports=k;});
__d("LayerHideOnSuccess",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(i){this._layer=i;}g(h.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('success',this._layer.hide.bind(this._layer));},disable:function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}}});e.exports=h;});
__d("TabbableElements",["Style","createArrayFrom"],function(a,b,c,d,e,f){var g=b('Style'),h=b('createArrayFrom');function i(l){if(l.tabIndex>=0)return true;switch(l.tagName){case "A":return l.href&&l.rel!="ignore";case "INPUT":return l.type!="hidden"&&l.type!="file"&&!l.disabled;case "BUTTON":case "SELECT":case "TEXTAREA":return !l.disabled;}return false;}function j(l){if(l.offsetHeight===0&&l.offsetWidth===0)return false;while(l!==document&&g.get(l,'visibility')!='hidden')l=l.parentNode;return l===document;}var k={find:function(l){var m=h(l.getElementsByTagName("*"));return m.filter(k.isTabbable);},isTabbable:function(l){return i(l)&&j(l);}};e.exports=k;});
__d("TabIsolation",["Event","DOMQuery","Focus","Keys","TabbableElements","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DOMQuery'),i=b('Focus'),j=b('Keys'),k=b('TabbableElements'),l=b('copyProperties'),m=[],n=0;function o(p){this._root=p;this._eventHandler=null;this._identifier=n++;}l(o.prototype,{enable:function(){m.unshift(this._identifier);this._eventHandler=g.listen(window,'keydown',function(p){if(m[0]===this._identifier)this._tabHandler(p);}.bind(this),g.Priority.URGENT);},disable:function(){var p;if(this._eventHandler){p=m.indexOf(this._identifier);if(p>-1)m.splice(p,1);this._eventHandler.remove();this._eventHandler=null;}},_tabHandler:function(p){if(g.getKeyCode(p)!==j.TAB)return;var q=p.getTarget();if(!q)return;var r=k.find(this._root),s=r[0],t=r[r.length-1],u=p.getModifiers().shift;if(u&&q===s){p.preventDefault();i.set(t);}else if((!u&&q===t)||!h.contains(this._root,q)){p.preventDefault();i.set(s);}}});e.exports=o;});
__d("LayerTabIsolation",["TabIsolation","copyProperties"],function(a,b,c,d,e,f){var g=b('TabIsolation'),h=b('copyProperties');function i(j){this._layer=j;this._tabIsolation=null;}h(i.prototype,{_subscriptions:[],enable:function(){this._tabIsolation=new g(this._layer.getRoot());this._subscriptions=[this._layer.subscribe('show',this._tabIsolation.enable.bind(this._tabIsolation)),this._layer.subscribe('hide',this._tabIsolation.disable.bind(this._tabIsolation))];},disable:function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._tabIsolation.disable();this._tabIsolation=null;}});e.exports=i;});
__d("LayerMouseHooks",["Event","function-extensions","Arbiter","ContextualThing","Layer","copyProperties"],function(a,b,c,d,e,f){var g=b('Event');b('function-extensions');var h=b('Arbiter'),i=b('ContextualThing'),j=b('Layer'),k=b('copyProperties'),l=new h();function m(n){this._layer=n;this._subscriptions=[];this._currentlyActive=false;}k(m.prototype,{enable:function(){this._subscriptions=[l.subscribe('mouseenter',this._handleActive.bind(this)),l.subscribe('mouseleave',this._handleInactive.bind(this)),this._layer.subscribe('hide',function(){this._currentlyActive=false;}.bind(this))];},disable:function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=[];this._currentlyActive=false;},_handleActive:function(n,o){if(!this._currentlyActive&&this._isNodeWithinStack(o)){this._layer.inform('mouseenter');this._currentlyActive=true;}},_handleInactive:function(n,o){if(this._currentlyActive)if(!o||!this._isNodeWithinStack(o)){this._layer.inform('mouseleave');this._currentlyActive=false;}},_isNodeWithinStack:function(n){return i.containsIncludingLayers(this._layer.getContentRoot(),n);}});j.subscribe('show',function(n,o){var p=o.getContentRoot(),q=[g.listen(p,'mouseenter',function(){l.inform('mouseenter',p);}),g.listen(p,'mouseleave',function(s){l.inform('mouseleave',s.getRelatedTarget());})],r=o.subscribe('hide',function(){while(q.length)q.pop().remove();r.unsubscribe();q=r=null;});});e.exports=m;});
__d("Overlay",["Class","CSS","DataStore","DOM","Layer","LayerButtons","LayerDestroyOnHide","LayerFadeOnHide","LayerFadeOnShow","LayerFormHooks","LayerHideOnBlur","LayerHideOnEscape","LayerHideOnSuccess","LayerHideOnTransition","LayerTabIsolation","LayerMouseHooks","copyProperties"],function(a,b,c,d,e,f){var g=b('Class'),h=b('CSS'),i=b('DataStore'),j=b('DOM'),k=b('Layer'),l=b('LayerButtons'),m=b('LayerDestroyOnHide'),n=b('LayerFadeOnHide'),o=b('LayerFadeOnShow'),p=b('LayerFormHooks'),q=b('LayerHideOnBlur'),r=b('LayerHideOnEscape'),s=b('LayerHideOnSuccess'),t=b('LayerHideOnTransition'),u=b('LayerTabIsolation'),v=b('LayerMouseHooks'),w=b('copyProperties');function x(y,z){y=w({buildWrapper:true},y||{});this._shouldBuildWrapper=y.buildWrapper;this.parent.construct(this,y,z);}g.extend(x,k);w(x.prototype,{_configure:function(y,z){this.parent._configure(y,z);var aa=this.getRoot();this._overlay=j.scry(aa,'div.uiOverlay')[0]||aa;h.hide(aa);j.appendContent(this.getInsertParent(),aa);i.set(this._overlay,'overlay',this);var ba=i.get(this._overlay,'width');ba&&this.setWidth(ba);if(this.setFixed)this.setFixed(i.get(this._overlay,'fixed')=='true');if(i.get(this._overlay,'fadeonshow')!='false')this.enableBehavior(o);if(i.get(this._overlay,'fadeonhide')!='false')this.enableBehavior(n);if(i.get(this._overlay,'hideonsuccess')!='false')this.enableBehavior(s);if(i.get(this._overlay,'hideonblur')=='true')this.enableBehavior(q);if(i.get(this._overlay,'destroyonhide')!='false')this.enableBehavior(m);return this;},_getDefaultBehaviors:function(){return this.parent._getDefaultBehaviors().concat([l,p,v,r,t,u]);},initWithoutBuildingWrapper:function(){this._shouldBuildWrapper=false;return this.init.apply(this,arguments);},_buildWrapper:function(y,z){z=this.parent._buildWrapper(y,z);if(!this._shouldBuildWrapper){this._contentRoot=z;return z;}this._contentRoot=j.create('div',{className:'uiOverlayContent'},z);return j.create('div',{className:'uiOverlay'},this._contentRoot);},getContentRoot:function(){return this._contentRoot;},destroy:function(){i.remove(this.getRoot(),'overlay');this.parent.destroy();}});e.exports=x;});
__d("Toggler",["Event","Arbiter","ArbiterMixin","ContextualThing","CSS","DataStore","Dialog","DOM","DOMQuery","Focus","Parent","TabbableElements","arrayContains","cx","copyProperties","createArrayFrom","emptyFunction","ge","getContextualParent","getObjectValues"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('ArbiterMixin'),j=b('ContextualThing'),k=b('CSS'),l=b('DataStore'),m=b('Dialog'),n=b('DOM'),o=b('DOMQuery'),p=b('Focus'),q=b('Parent'),r=b('TabbableElements'),s=b('arrayContains'),t=b('cx'),u=b('copyProperties'),v=b('createArrayFrom'),w=b('emptyFunction'),x=b('ge'),y=b('getContextualParent'),z=b('getObjectValues'),aa=[],ba;function ca(){ca=w;g.listen(document.documentElement,'click',function(event){var ga=event.getTarget();aa.forEach(function(ha){ha.clickedTarget=ga;ha.active&&!ha.sticky&&!j.containsIncludingLayers(ha.getActive(),ga)&&!ha.inTargetFlyout(ga)&&ha.inActiveDialog()&&!ha.isIgnoredByModalLayer(ga)&&ha.hide();});},g.Priority.URGENT);}var da=function(){this.active=null;this.togglers={};this.setSticky(false);aa.push(this);this.subscribe(['show','hide'],da.inform.bind(da));return ca();};u(da.prototype,i,{show:function(ga){var ha=ea(this,ga),ia=ha.active;if(ga!==ia){ia&&ha.hide();ha.active=ga;k.addClass(ga,'openToggler');var ja=n.scry(ga,'a[rel="toggle"]');if(ja.length>0&&ja[0].getAttribute('data-target'))k.removeClass(x(ja[0].getAttribute('data-target')),'toggleTargetClosed');var ka=o.scry(ga,'.uiToggleFlyout')[0];if(ka){var la=r.find(ka)[0]||ka;if(la.tabIndex==-1)la.tabIndex=0;p.setWithoutOutline(la);}n.appendContent(ga,ha.getToggler('next'));n.prependContent(ga,ha.getToggler('prev'));ha.inform('show',ha);}},hide:function(ga){var ha=ea(this,ga),ia=ha.active;if(ia&&(!ga||ga===ia)){k.removeClass(ia,'openToggler');var ja=n.scry(ia,'a[rel="toggle"]');if(ja.length>0&&ja[0].getAttribute('data-target'))k.addClass(x(ja[0].getAttribute('data-target')),'toggleTargetClosed');z(ha.togglers).forEach(n.remove);ha.inform('hide',ha);ha.active=null;}},toggle:function(ga){var ha=ea(this,ga);if(ha.active===ga){ha.hide();}else ha.show(ga);},getActive:function(){return ea(this).active;},isShown:function(){return ea(this).active&&k.hasClass(ea(this).active,'openToggler');},inTargetFlyout:function(ga){var ha=fa(this.getActive());return ha&&j.containsIncludingLayers(ha,ga);},inActiveDialog:function(){var ga=m.getCurrent();return !ga||n.contains(ga.getRoot(),this.getActive());},isIgnoredByModalLayer:function(ga){return q.byClass(ga,"_3qw")&&!q.byClass(this.getActive(),"_3qw");},getToggler:function(ga){var ha=ea(this);if(!ha.togglers[ga]){ha.togglers[ga]=n.create('button',{className:'hideToggler',onfocus:function(){var ia=n.scry(ha.active,'a[rel="toggle"]')[0];ia&&ia.focus();ha.hide();}});ha.togglers[ga].setAttribute('type','button');}return this.togglers[ga];},setSticky:function(ga){var ha=ea(this);ga=ga!==false;if(ga!==ha.sticky){ha.sticky=ga;if(ga){ha._pt&&ha._pt.unsubscribe();}else ha._pt=h.subscribe('pre_page_transition',ha.hide.bind(ha,null));}return ha;}});u(da,da.prototype);u(da,{bootstrap:function(ga){var ha=ga.parentNode;da.getInstance(ha).toggle(ha);},createInstance:function(ga){var ha=new da().setSticky(true);l.set(ga,'toggler',ha);return ha;},destroyInstance:function(ga){l.remove(ga,'toggler');},getInstance:function(ga){while(ga){var ha=l.get(ga,'toggler');if(ha)return ha;if(k.hasClass(ga,'uiToggleContext'))return da.createInstance(ga);ga=y(ga);}return (ba=ba||new da());},listen:function(ga,ha,ia){return da.subscribe(v(ga),function(ja,ka){if(ka.getActive()===ha)return ia(ja,ka);});},subscribe:(function(ga){return function(ha,ia){ha=v(ha);if(s(ha,'show'))aa.forEach(function(ja){if(ja.getActive())ia.curry('show',ja).defer();});return ga(ha,ia);};})(da.subscribe.bind(da))});function ea(ga,ha){if(ga instanceof da)return ga;return da.getInstance(ha);}function fa(ga){var ha=n.scry(ga,'a[rel="toggle"]');if(ha.length>0&&ha[0].getAttribute('data-target'))return x(ha[0].getAttribute('data-target'));}e.exports=da;});
__d("Tooltip",["Event","AsyncRequest","ContextualLayer","ContextualLayerAutoFlip","CSS","DataStore","DOM","Style","URI","copyProperties","emptyFunction","tx"],function(a,b,c,d,e,f){var g=b('Event'),h=b('AsyncRequest'),i=b('ContextualLayer'),j=b('ContextualLayerAutoFlip'),k=b('CSS'),l=b('DataStore'),m=b('DOM'),n=b('Style'),o=b('URI'),p=b('copyProperties'),q=b('emptyFunction'),r=b('tx'),s=null,t=null,u=null,v=[];function w(){if(!t){u=m.create('div',{className:'tooltipContent'});var da=m.create('i',{className:'arrow'}),ea=m.create('div',{className:'uiTooltipX'},[u,da]);t=new i({},ea);t.enableBehavior(j);}}function x(da){return p({content:da.getAttribute('aria-label'),position:da.getAttribute('data-tooltip-position')||'above',alignH:da.getAttribute('data-tooltip-alignh')||'left'},l.get(da,'tooltip'));}function y(da,ea){var fa=x(da);l.set(da,'tooltip',{content:ea.content||fa.content,position:ea.position||fa.position,alignH:ea.alignH||fa.alignH});da.setAttribute('data-hover','tooltip');}function z(da,ea){ca.set(da,"Loading...");new h(ea).setHandler(function(fa){ca.set(da,fa.getPayload());}).setErrorHandler(q).send();}var aa=/(\r\n|[\r\n])/;function ba(da){return da.split(aa).map(function(ea){return aa.test(ea)?m.create('br'):ea;});}var ca={process:function(da,ea){if(!m.contains(da,ea))return;if(da!==s){var fa=da.getAttribute('data-tooltip-uri');if(fa){da.removeAttribute('data-tooltip-uri');z(da,fa);}ca.show(da);}},remove:function(da){l.remove(da,'tooltip');da.removeAttribute('data-hover');da.removeAttribute('data-tooltip-position');da.removeAttribute('data-tooltip-alignh');da===s&&ca.hide();},hide:function(){if(s){t.hide();s=null;while(v.length)v.pop().remove();}},set:function(da,ea,fa,ga){if(fa||ga)y(da,{position:fa,alignH:ga});if(ea instanceof o){if(da===s){z(da,ea);}else da.setAttribute('data-tooltip-uri',ea);}else{if(typeof ea!=='string'){ea=m.create('div',{},ea);da.setAttribute('aria-label',m.getText(ea));}else da.setAttribute('aria-label',ea);y(da,{content:ea});da===s&&ca.show(da);}},show:function(da){w();ca.hide();var ea=x(da);if(!ea.content)return;var fa=0,ga=0;if(ea.position==='left'||ea.position==='right'){ga=(da.offsetHeight-20)/2;}else if(ea.alignH!=='center'){var ha=da.offsetWidth;if(ha<18)fa=(ha-18)/2*(ea.alignH==='right'?-1:1);}t.setContext(da).setOffsetX(fa).setOffsetY(ga).setPosition(ea.position).setAlignment(ea.alignH);if(typeof ea.content==='string'){k.addClass(t,'invisible_elem');var ia=m.create('span',{},ba(ea.content)),ja=m.create('div',{className:'tooltipText'},ia);m.setContent(u,ja);t.show();var ka;if(ja.getClientRects){var la=ja.getClientRects()[0];if(la)ka=Math.round(la.right-la.left);}if(!ka)ka=ja.offsetWidth;if(ka<ia.offsetWidth){k.addClass(ja,'tooltipWrap');t.updatePosition();}k.removeClass(t,'invisible_elem');}else{m.setContent(u,ea.content);t.show();}var ma=function(oa){if(!m.contains(s,oa.getTarget()))ca.hide();};v.push(g.listen(document.documentElement,'mouseover',ma),g.listen(document.documentElement,'focusin',ma));var na=n.getScrollParent(da);if(na!==window)v.push(g.listen(na,'scroll',ca.hide));v.push(g.listen(da,'click',ca.hide));s=da;}};g.listen(window,'scroll',ca.hide);e.exports=ca;});
__d("Selector",["Event","Arbiter","Button","ContextualLayer","CSS","DataStore","DOM","Focus","HTML","Keys","KeyStatus","MenuDeprecated","Parent","Style","Toggler","Tooltip","Vector","arrayContains","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('Button'),j=b('ContextualLayer'),k=b('CSS'),l=b('DataStore'),m=b('DOM'),n=b('Focus'),o=b('HTML'),p=b('Keys'),q=b('KeyStatus'),r=b('MenuDeprecated'),s=b('Parent'),t=b('Style'),u=b('Toggler'),v=b('Tooltip'),w=b('Vector'),x=b('arrayContains'),y=b('copyProperties'),z=b('emptyFunction'),aa,ba,ca=[],da;function ea(pa){return s.byClass(pa,'uiSelector');}function fa(pa){return s.byClass(pa,'uiSelectorButton');}function ga(){if(!ba){ba=new j({position:'below'},m.create('div'));k.addClass(ba.getRoot(),'uiSelectorContextualLayer');}return ba;}function ha(pa){return m.scry(pa,'select')[0];}function ia(pa){return m.find(pa,'div.uiSelectorMenuWrapper');}function ja(){ja=z;r.subscribe('select',function(pa,qa){if(!aa||!qa||qa.menu!==oa.getSelectorMenu(aa))return;var ra=ka(aa),sa=la(qa.item);if(sa){var ta=aa,ua=oa.isOptionSelected(qa.item),va=oa.inform('select',{selector:ta,option:qa.item,clone:da});if(va===false)return;if(ra||!ua){oa.setSelected(ta,oa.getOptionValue(qa.item),!ua);oa.inform('toggle',{selector:ta,option:qa.item});oa.inform('change',{selector:ta});h.inform('Form/change',{node:ta});if(ma(ta))l.set(ta,'dirty',true);}}if(!ra||!sa)aa&&oa.toggle(aa);});}function ka(pa){return !!pa.getAttribute('data-multiple');}function la(pa){return k.hasClass(pa,'uiSelectorOption');}function ma(pa){return !!pa.getAttribute('data-autosubmit');}var na={keydown:function(event){var pa=event.getTarget();if(m.isNodeOfType(pa,['input','textarea']))return;switch(g.getKeyCode(event)){case p.DOWN:case p.SPACE:case p.UP:if(fa(pa)){var qa=ea(pa);oa.toggle(qa);return false;}break;case p.ESC:if(aa){var ra=oa.getSelectorButton(aa);oa.toggle(aa);ra&&n.set(ra);return false;}break;}},mouseover:function(event){var pa=s.byAttribute(event.getTarget(),'ajaxify');if(pa&&k.hasClass(pa,'uiSelectorButton'))oa.loadMenu(ea(pa));}};g.listen(document.body,na);u.subscribe(['show','hide'],function(pa,qa){var ra=ea(qa.getActive());if(ra){ja();var sa=oa.getSelectorButton(ra),ta=oa.getSelectorMenu(ra),ua=pa==='show';sa.setAttribute('aria-expanded',ua?'true':'false');if(ua){aa=ra;if(k.hasClass(sa,'uiButtonDisabled')){oa.setEnabled(ra,false);return false;}ta=ta||oa.loadMenu(ra);var va=t.getScrollParent(ra),wa=va!==window&&va!==m.getDocumentScrollElement();if(wa||k.hasClass(ra,'uiSelectorUseLayer')){if(wa)ca.push(g.listen(va,'scroll',function(){qa.hide();}));da=m.create('div',{className:ra.className});k.addClass(da,'invisible_elem');w.getElementDimensions(ra).setElementDimensions(da);m.replace(ra,da);var xa=k.hasClass(ra,'uiSelectorRight'),ya=k.hasClass(ra,'uiSelectorBottomUp');ga().setContext(da).setContent(ra).setPosition(ya?'above':'below').setAlignment(xa?'right':'left').show();}r.register(ta);if(q.isKeyDown()){var za=r.getCheckedItems(ta);if(!za.length)za=r.getEnabledItems(ta);r.focusItem(za[0]);}}else{aa=null;if(da){while(ca.length)ca.pop().remove();m.replace(da,ra);ga().hide();da=null;}ta&&r.unregister(ta);if(ma(ra)&&l.get(ra,'dirty')){var ab=m.scry(ra,'input.submitButton')[0];ab&&ab.click();l.remove(ra,'dirty');}}k.conditionClass(oa.getSelectorButton(ra),'selected',ua);oa.inform(ua?'open':'close',{selector:ra,clone:da});}});var oa=y(new h(),{attachMenu:function(pa,qa,ra){pa=ea(pa);if(pa){aa&&r.unregister(oa.getSelectorMenu(aa));m.setContent(ia(pa),qa);aa&&r.register(oa.getSelectorMenu(pa));da&&ga().updatePosition();if(ra){var sa=pa.getAttribute('data-name');sa&&ra.setAttribute('name',sa);if(!ka(pa))ra.setAttribute('multiple',false);var ta=ha(pa);if(ta){m.replace(ta,ra);}else m.insertAfter(pa.firstChild,ra);}return true;}},getOption:function(pa,qa){var ra=oa.getOptions(pa),sa=ra.length;while(sa--)if(qa===oa.getOptionValue(ra[sa]))return ra[sa];return null;},getOptions:function(pa){var qa=r.getItems(oa.getSelectorMenu(pa));return qa.filter(la);},getEnabledOptions:function(pa){var qa=r.getEnabledItems(oa.getSelectorMenu(pa));return qa.filter(la);},getSelectedOptions:function(pa){return r.getCheckedItems(oa.getSelectorMenu(pa));},getOptionText:function(pa){return r.getItemLabel(pa);},getOptionValue:function(pa){var qa=ea(pa),ra=ha(qa),sa=oa.getOptions(qa).indexOf(pa);return sa>=0?ra.options[sa+1].value:'';},getSelectorButton:function(pa){return m.find(pa,'a.uiSelectorButton');},getSelectorMenu:function(pa){return m.scry(pa,'div.uiSelectorMenu')[0];},getValue:function(pa){var qa=ha(pa);if(!qa)return null;if(!ka(pa))return qa.value;var ra=[],sa=qa.options;for(var ta=1,ua=sa.length;ta<ua;ta++)if(sa[ta].selected)ra.push(sa[ta].value);return ra;},isOptionSelected:function(pa){return r.isItemChecked(pa);},listen:function(pa,qa,ra){return this.subscribe(qa,function(sa,ta){if(ta.selector===pa)return ra(ta,sa);});},loadMenu:function(pa){var qa=oa.getSelectorMenu(pa);if(!qa){var ra=oa.getSelectorButton(pa),sa=ra.getAttribute('ajaxify');if(sa){d(['AsyncRequest'],function(ua){ua.bootstrap(sa,ra);});var ta=o('<div class="uiSelectorMenuWrapper uiToggleFlyout">'+'<div class="uiMenu uiSelectorMenu loading">'+'<ul class="uiMenuInner">'+'<li><span></span></li>'+'</ul>'+'</div>'+'</div>');m.appendContent(ra.parentNode,ta);qa=oa.getSelectorMenu(pa);ra.removeAttribute('onmouseover');}}return qa;},setButtonLabel:function(pa,qa){var ra=oa.getSelectorButton(pa),sa=parseInt(ra.getAttribute('data-length'),10);qa=qa||ra.getAttribute('data-label')||'';i.setLabel(ra,qa);if(typeof qa==='string'){k.conditionClass(ra,'uiSelectorBigButtonLabel',qa.length>sa);if(sa&&qa.length>sa){ra.setAttribute('title',qa);}else ra.removeAttribute('title');}},setButtonTooltip:function(pa,qa){var ra=oa.getSelectorButton(pa),sa=s.byTag(ra,'a');sa&&v.set(sa,qa||ra.getAttribute('data-tooltip')||'');},updateButtonARIALabel:function(pa,qa){var ra=oa.getSelectorButton(pa),sa=s.byTag(ra,'a');if(sa){var ta=ra.getAttribute('data-ariaprefix');if(ta)ra.setAttribute('aria-label',ta+': '+qa);}},setEnabled:function(pa,qa){if(!qa&&aa&&ea(pa)===aa)oa.toggle(pa);i.setEnabled(oa.getSelectorButton(pa),qa);},setOptionEnabled:function(pa,qa){r.setItemEnabled(pa,qa);},setSelected:function(pa,qa,ra){ra=ra!==false;var sa=oa.getOption(pa,qa);if(!sa)return;var ta=oa.isOptionSelected(sa);if(ra!==ta){if(!ka(pa)&&!ta){var ua=oa.getSelectedOptions(pa)[0];ua&&r.toggleItem(ua);}r.toggleItem(sa);}oa.updateSelector(pa);},toggle:function(pa){u.toggle(m.scry(ea(pa),'div.wrap')[0]);},updateSelector:function(pa){var qa=oa.getOptions(pa),ra=oa.getSelectedOptions(pa),sa=ha(pa).options,ta=[],ua=[];for(var va=0,wa=qa.length;va<wa;va++){var xa=x(ra,qa[va]);sa[va+1].selected=xa;if(xa){var ya=oa.getOptionText(qa[va]);ta.push(ya);ua.push(qa[va].getAttribute('data-tooltip')||ya);}}sa[0].selected=!ra.length;var za=k.hasClass(pa,'uiSelectorDynamicLabel'),ab=k.hasClass(pa,'uiSelectorDynamicTooltip');if(za||ab){var bb='';if(ka(pa)){var cb=oa.getSelectorButton(pa);bb=cb.getAttribute('data-delimiter')||', ';}ta=ta.join(bb);ua=ua.join(bb);if(za){oa.setButtonLabel(pa,ta);oa.updateButtonARIALabel(pa,ta);}ab&&oa.setButtonTooltip(pa,ua);}}});e.exports=oa;});
__d("SubscriptionsHandler",["JSLogger","copyProperties"],function(a,b,c,d,e,f){var g=b('JSLogger'),h=b('copyProperties'),i=g.create('subscriptions_handler');function j(k){this._name=k||'unnamed';this._subscriptions=[];}h(j.prototype,{addSubscriptions:function(){if(this._subscriptions){Array.prototype.push.apply(this._subscriptions,arguments);}else{i.warn(this._name+'.subscribe_while_released');for(var k=0,l=arguments.length;k<l;k++)this._unsubscribe(arguments[k]);}},engage:function(){this._subscriptions=this._subscriptions||[];},release:function(){if(this._subscriptions)this._subscriptions.forEach(this._unsubscribe.bind(this));this._subscriptions=null;},_unsubscribe:function(k){if(k.remove){k.remove();}else if(k.reset){k.reset();}else if(k.unsubscribe){k.unsubscribe();}else i.error(this._name+'.invalid',k);}});e.exports=j;});
__d("TextInputControl",["Event","function-extensions","Class","DOMControl","Input","copyProperties","debounce"],function(a,b,c,d,e,f){var g=b('Event');b('function-extensions');var h=b('Class'),i=b('DOMControl'),j=b('Input'),k=b('copyProperties'),l=b('debounce');function m(n){this.parent.construct(this,n);var o=this.getRoot(),p=l(this.update.bind(this),0);g.listen(o,{input:p,keydown:p,paste:p});}h.extend(m,i);k(m.prototype,{setMaxLength:function(n){j.setMaxLength(this.getRoot(),n);return this;},getValue:function(){return j.getValue(this.getRoot());},isEmpty:function(){return j.isEmpty(this.getRoot());},setValue:function(n){j.setValue(this.getRoot(),n);this.update();return this;},clear:function(){return this.setValue('');},setPlaceholderText:function(n){j.setPlaceholder(this.getRoot(),n);return this;}});e.exports=m;});
__d("TextMetrics",["Event","DOM","Style","UserAgent","debounce"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DOM'),i=b('Style'),j=b('UserAgent'),k=b('debounce'),l;function m(){if(typeof l==='undefined'){var o=h.create('div',{className:'webkitZoomTest'}),p=function(){h.appendContent(document.body,o);l=100/o.clientHeight;h.remove(o);};g.listen(window,'resize',k(p,100));p();}return l;}function n(o,p){this._node=o;this._flexible=!!p;var q='textarea',r='textMetrics';if(this._flexible){q='div';r+=' textMetricsInline';}this._shadow=h.create(q,{className:r});var s=['fontSize','fontStyle','fontWeight','fontFamily','wordWrap'];s.forEach(function(u){i.set(this._shadow,u,i.get(o,u));}.bind(this));var t=i.get(o,'lineHeight');if(j.chrome()||j.webkit())t=Math.round(parseInt(t,10)*m())+'px';i.set(this._shadow,'lineHeight',t);document.body.appendChild(this._shadow);}n.prototype.measure=function(o){var p=this._node,q=this._shadow;o=(o||p.value)+'...';if(!this._flexible){var r=p.clientWidth-i.getFloat(p,'paddingLeft')-i.getFloat(p,'paddingRight');i.set(q,'width',Math.max(r,0)+'px');}h.setContent(q,o);return {width:q.scrollWidth,height:q.scrollHeight};};n.prototype.destroy=function(){h.remove(this._shadow);};e.exports=n;});
__d("TextAreaControl",["Event","Arbiter","ArbiterMixin","Class","CSS","DOMControl","Style","TextInputControl","TextMetrics","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('ArbiterMixin'),j=b('Class'),k=b('CSS'),l=b('DOMControl'),m=b('Style'),n=b('TextInputControl'),o=b('TextMetrics'),p=b('copyProperties');function q(s,t){return m.getFloat(s,t)||0;}function r(s){this.autogrow=k.hasClass(s,'uiTextareaAutogrow');this.parent.construct(this,s);this.width=null;g.listen(s,'focus',this._handleFocus.bind(this));}j.extend(r,n);p(r.prototype,i,{setAutogrow:function(s){this.autogrow=s;return this;},onupdate:function(){this.parent.onupdate();if(this.autogrow){var s=this.getRoot();if(!this.metrics)this.metrics=new o(s);if(typeof this.initialHeight==='undefined'){this.isBorderBox=m.get(s,'box-sizing')==='border-box'||m.get(s,'-moz-box-sizing')==='border-box'||m.get(s,'-webkit-box-sizing')==='border-box';this.borderBoxOffset=q(s,'padding-top')+q(s,'padding-bottom')+q(s,'border-top-width')+q(s,'border-bottom-width');this.initialHeight=s.offsetHeight-this.borderBoxOffset;}var t=this.metrics.measure(),u=Math.max(this.initialHeight,t.height);if(this.isBorderBox)u+=this.borderBoxOffset;if(u!==this.height){this.height=u;m.set(s,'height',u+'px');h.inform('reflow');this.inform('resize');}}else if(this.metrics){this.metrics.destroy();this.metrics=null;}},resetHeight:function(){this.height=-1;this.update();},_handleFocus:function(){this.width=null;}});r.getInstance=function(s){return l.getInstance(s)||new r(s);};e.exports=r;});
__d("Typeahead",["ArbiterMixin","BehaviorsMixin","DOM","DataStore","Event","Parent","Run","copyProperties","emptyFunction","ge"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('BehaviorsMixin'),i=b('DOM'),j=b('DataStore'),k=b('Event'),l=b('Parent'),m=b('Run'),n=b('copyProperties'),o=b('emptyFunction'),p=b('ge');function q(r,s,t,u){this.args={data:r,view:s,core:t};j.set(u,'Typeahead',this);this.element=u;}q.getInstance=function(r){var s=l.byClass(r,'uiTypeahead');return s?j.get(s,'Typeahead'):null;};n(q.prototype,g,h,{init:function(r){this.init=o;this.getCore();this.getView().setAccessibilityControlElement(this.getCore().getElement());this.proxyEvents();this.initBehaviors(r||[]);this.inform('init',this);this.data.bootstrap();this.core.focus();},getData:function(){if(!this.data){var r=this.args.data;this.data=r;this.data.init();}return this.data;},getView:function(){if(!this.view){var r=this.args.view,s=r.node||p(r.node_id);if(!s){s=i.create('div',{className:'uiTypeaheadView'});i.appendContent(this.element,s);}if(typeof r.ctor==='string'){this.view=new window[r.ctor](s,r.options||{});}else this.view=new r.ctor(s,r.options||{});this.view.init();this.view.setTypeahead(this.element);}return this.view;},getCore:function(){if(!this.core){var r=this.args.core;if(typeof r.ctor==='string'){this.core=new window[r.ctor](r.options||{});}else this.core=new r.ctor(r.options||{});this.core.init(this.getData(),this.getView(),this.getElement());}return this.core;},getElement:function(){return this.element;},swapData:function(r){var s=this.core;this.data=this.args.data=r;r.init();if(s){s.data=r;s.initData();s.reset();}r.bootstrap();return r;},proxyEvents:function(){[this.data,this.view,this.core].forEach(function(r){r.subscribe(r.events,this.inform.bind(this));},this);},initBehaviors:function(r){r.forEach(function(s){if(typeof s==='string'){if(a.TypeaheadBehaviors&&a.TypeaheadBehaviors[s]){a.TypeaheadBehaviors[s](this);}else m.onLoad(function(){if(a.TypeaheadBehaviors)(a.TypeaheadBehaviors[s]||o)(this);}.bind(this));}else this.enableBehavior(s);},this);}});q.initNow=function(r,s,t){if(t)t.init(r);r.init(s);};q.init=function(r,s,t,u){if(!i.isNodeOfType(r,['input','textarea']))r=i.scry(r,'input')[0]||i.scry(r,'textarea')[0];var v=false;try{v=document.activeElement===r;}catch(w){}if(v){q.initNow(s,t,u);}else var x=k.listen(r,'focus',function(){q.initNow(s,t,u);x.remove();});};e.exports=q;});
__d("StickyPlaceholderInput",["Event","CSS","DOM","Input","Parent","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('CSS'),i=b('DOM'),j=b('Input'),k=b('Parent'),l=b('emptyFunction');function m(q){return k.byClass(q,'uiStickyPlaceholderInput');}function n(q){return i.scry(q,'.placeholder')[0];}function o(q){q=q||window.event;var r=q.target||q.srcElement;if(i.isNodeOfType(r,['input','textarea'])){var s=m(r);if(s){var t=q.type;(function(){if((t==='keydown'||t==='paste')&&r.value.length)h.removeClass(s,'uiStickyPlaceholderEmptyInput');if((t==='blur'||t==='focusout')&&!r.value.length)h.addClass(s,'uiStickyPlaceholderEmptyInput');}).defer();}}}var p={init:function(){p.init=l;g.listen(document.documentElement,{keydown:o,paste:o,focusout:o});},registerInput:function(q){p.init();var r=q.getAttribute('placeholder')||'';if(r.length)if(document.activeElement===q){var s=g.listen(q,'blur',function(){p.manipulateInput(q,r);s.remove();});}else p.manipulateInput(q,r);},manipulateInput:function(q,r){var s=i.create('div',{className:'placeholder','aria-hidden':'true'},r),t=i.create('div',{className:'uiStickyPlaceholderInput'},s);if(i.isNodeOfType(q,'textarea'))h.addClass(t,'uiStickyPlaceholderTextarea');g.listen(s,'click',function(){q.focus();});if(q.value===r)q.value='';h.removeClass(q,'DOMControl_placeholder');q.setAttribute('placeholder','');i.replace(q,t);i.appendContent(t,q);h.conditionClass(t,'uiStickyPlaceholderEmptyInput',!q.value.length);},setPlaceholderText:function(q,r){var s=m(q);if(!s){j.setPlaceholder(q,r);}else{var t=n(s);t&&i.setContent(t,r);}},getPlaceholderText:function(q){var r=m(q),s=n(r);return s&&i.getText(s);},update:function(q){var r=m(q);if(r)h.conditionClass(r,'uiStickyPlaceholderEmptyInput',!q.value.length);},getVisibleText:function(q){var r=m(q);if(h.hasClass(r,'uiStickyPlaceholderEmptyInput')){var s=n(r);return s&&i.getText(s);}else return q.value;}};e.exports=p;});
__d("TypeaheadCore",["Event","Arbiter","ArbiterMixin","CSS","DOM","Input","InputSelection","Keys","StickyPlaceholderInput","UserAgent","bind","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('ArbiterMixin'),j=b('CSS'),k=b('DOM'),l=b('Input'),m=b('InputSelection'),n=b('Keys'),o=b('StickyPlaceholderInput'),p=b('UserAgent'),q=b('bind'),r=b('copyProperties'),s=b('emptyFunction');function t(u){r(this,u);}r(t.prototype,i,{events:['blur','focus','click','unselect','loading'],keepFocused:true,resetOnSelect:false,resetOnKeyup:true,setValueOnSelect:false,queryTimeout:250,preventFocusChangeOnTab:false,init:function(u,v,w){this.init=s;this.data=u;this.view=v;this.root=w;this.initInput();this.inputWrap=k.find(w,'div.wrap');this.hiddenInput=k.find(w,'input.hiddenInput');this.value='';this.nextQuery=null;this.selectedText=null;if(this.setValueOnSelect&&j.hasClass(this.inputWrap,'selected'))this.selectedText=this.getValue();this.initView();this.initData();this.initEvents();this.initToggle();this._exclusions=[];},initInput:function(){this.element=k.find(this.root,'.textInput');var u=k.scry(this.element,'input')[0];if(u)this.element=u;},initView:function(){this.view.subscribe('highlight',function(u,v){this.element.focus();this.element.setAttribute('aria-activedescendant',(v.index!==-1)?k.getID(v.element):'');}.bind(this));this.view.subscribe('select',function(u,v){this.select(v.selected);}.bind(this));this.view.subscribe('afterSelect',function(){this.afterSelect();}.bind(this));},initData:function(){this.data.subscribe('respond',function(u,v){if(v.forceDisplay||v.value==this.getValue()&&!this.element.disabled)this.view.render(v.value,v.results,v.isAsync);}.bind(this));this.data.subscribe('activity',function(u,v){this.fetching=v.activity;if(!this.fetching)this.nextQuery&&this.performQuery();if(this.loading!=this.fetching){this.loading=this.fetching;this.inform('loading',{loading:this.loading});}}.bind(this));},initEvents:function(){g.listen(this.view.getElement(),{mouseup:this.viewMouseup.bind(this),mousedown:this.viewMousedown.bind(this)});var u={blur:q(this,'blur'),focus:q(this,'focus'),click:q(this,'click'),keyup:q(this,'keyup'),keydown:q(this,'keydown')};if(p.firefox())u.text=u.keyup;if(p.firefox()<4){u.keypress=u.keydown;delete u.keydown;}g.listen(this.element,u);g.listen(this.element,'keypress',q(this,'keypress'));},initToggle:function(){this.subscribe('blur',this.view.hide.bind(this.view));this.subscribe('focus',this.view.show.bind(this.view));},viewMousedown:function(){this.selecting=true;},viewMouseup:function(){this.selecting=false;},blur:function(){if(this.selecting){this.selecting=false;return;}this.inform('blur');},click:function(){var u=m.get(this.element);if(u.start==u.end)this.element.select();this.inform('click');},focus:function(){this.checkValue();this.inform('focus');},keyup:function(){if(this.resetOnKeyup&&!this.getValue())this.view.reset();this.checkValue();},keydown:function(event){if(!this.view.isVisible()||this.view.isEmpty()){this.checkValue.bind(this).defer();return;}switch(g.getKeyCode(event)){case n.TAB:this.handleTab(event);return;case n.UP:this.view.prev();break;case n.DOWN:this.view.next();break;case n.ESC:this.view.reset();break;default:this.checkValue.bind(this).defer();return;}event.kill();},keypress:function(event){if(this.view.getSelection()&&g.getKeyCode(event)==n.RETURN){this.view.select();event.kill();}},handleTab:function(event){if(this.preventFocusChangeOnTab)if(this.view.getSelection()){event.kill();}else event.prevent();this.view.select();},select:function(u){if(u&&this.setValueOnSelect){this.setValue(u.text);this.setHiddenValue(u.uid);this.selectedText=u.text;j.addClass(this.inputWrap,'selected');}},afterSelect:function(){this.keepFocused?this.element.focus():this.element.blur();this.resetOnSelect?this.reset():this.view.reset();},unselect:function(){if(this.setValueOnSelect){this.selectedText=null;j.removeClass(this.inputWrap,'selected');}this.setHiddenValue();this.inform('unselect',this);},setEnabled:function(u){var v=u===false;this.element.disabled=v;j.conditionClass(this.root,'uiTypeaheadDisabled',v);},reset:function(){this.unselect();this.setValue();!this.keepFocused&&l.reset(this.element);this.view.reset();this.inform('reset');},getElement:function(){return this.element;},setExclusions:function(u){this._exclusions=u;},getExclusions:function(){return this._exclusions;},setValue:function(u){this.value=this.nextQuery=u||'';l.setValue(this.element,this.value);o.update(this.element);},setHiddenValue:function(u){this.hiddenInput.value=(u||u===0)?u:'';h.inform('Form/change',{node:this.hiddenInput});},getValue:function(){return l.getValue(this.element);},getHiddenValue:function(){return this.hiddenInput.value||'';},checkValue:function(){var u=this.getValue();if(u==this.value)return;if(this.selectedText&&this.selectedText!=u)this.unselect();var v=Date.now(),w=v-this.time;this.time=v;this.value=this.nextQuery=u;this.performQuery(w);},performQuery:function(u){if(this.selectedText)return;u=u||0;if(this.fetching&&u<this.queryTimeout){this.data.query(this.nextQuery,true,this._exclusions,u);}else{this.data.query(this.nextQuery,false,this._exclusions,u);this.nextQuery=null;}}});e.exports=t;});
__d("guid",[],function(a,b,c,d,e,f){function g(){return 'f'+(Math.random()*(1<<30)).toString(16).replace('.','');}e.exports=g;});
__d("reportData",["EagleEye","userAction"],function(a,b,c,d,e,f){var g=b('EagleEye'),h=b('userAction');function i(j,k){k=k||{};var l={ft:(k.ft||{}),gt:(k.gt||{})},m='-',n=a.ArbiterMonitor,o=(!!n)?n.getActFields():[],p=(!n)?'r':'a',q=[Date.now(),h.getCurrentUECount(),m,j,m,m,p,a.URI?a.URI.getRequestURI(true,true).getUnqualifiedURI().toString():location.pathname+location.search+location.hash,l,0,0,0,0].concat(o);g.log('act',q);}e.exports=i;});
__d("TypeaheadBestName",["TypeaheadUtil","copyProperties"],function(a,b,c,d,e,f){var g=b('TypeaheadUtil'),h=b('copyProperties');function i(j){this._typeahead=j;}h(i.prototype,{_subscription:null,enable:function(){var j=this._typeahead.getView();this._subscription=j.subscribe('beforeRender',function(k,l){var m=l.value;for(var n=0;n<l.results.length;++n){var o=l.results[n];if(o.alternate_names==null)continue;if(g.isQueryMatch(m,o.default_name)){o.text=o.default_name;return;}for(var p=0;p<o.alternate_names.length;p++)if(g.isQueryMatch(m,o.alternate_names[p])){o.text=o.alternate_names[p];return;}o.text=o.default_name;}});},disable:function(){this._typeahead.getView().unsubscribe(this._subscription);this._subscription=null;}});e.exports=i;});
__d("legacy:BestNameTypeaheadBehavior",["TypeaheadBestName"],function(a,b,c,d){var e=b('TypeaheadBestName');if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.buildBestAvailableNames=function(f){f.enableBehavior(e);};},3);
__d("UIIntentionalStreamMessage",[],function(a,b,c,d,e,f){var g={SET_AUTO_INSERT:'UIIntentionalStream/setAutoInsert',UPDATE_STREAM:'UIIntentionalStreamRefresh/updateStream',REFRESH_STREAM:'UIIntentionalStreamRefresh/refreshStream',UPDATE_AUTOREFRESH_CONFIG:'UIIntentionalStream/updateAutoRefreshConfig',UPDATE_HTML_CONTENT:'UIIntentionalStream/updateHtmlContent',UPDATE_LAST_REFRESH_TIME:'UIIntentionalStream/updateLastRefreshTime',INSERT_STORIES:'UIIntentionalStream/updateLastRefreshTime',UNLOAD:'UIIntentionalStream/unload'};e.exports=g;});
__d("UIPagelet",["AjaxPipeRequest","AsyncRequest","DOM","HTML","ScriptPathState","URI","copyProperties","emptyFunction","ge"],function(a,b,c,d,e,f){var g=b('AjaxPipeRequest'),h=b('AsyncRequest'),i=b('DOM'),j=b('HTML'),k=b('ScriptPathState'),l=b('URI'),m=b('copyProperties'),n=b('emptyFunction'),o=b('ge');function p(q,r,s){var t=q&&i.isElementNode(q)?q.id:q;this._id=t||null;this._element=o(q||i.create('div'));this._src=r||null;this._context_data=s||{};this._data={};this._handler=n;this._request=null;this._use_ajaxpipe=false;this._is_bundle=true;this._allow_cross_page_transition=false;this._append=false;}p.loadFromEndpoint=function(q,r,s,t){t=t||{};var u='/ajax/pagelet/generic.php/'+q;if(t.intern)u='/intern'+u;var v=new l(u.replace(/\/+/g,'/'));if(t.subdomain)v.setSubdomain(t.subdomain);var w=new p(r,v,s).setUseAjaxPipe(t.usePipe).setBundleOption(t.bundle!==false).setAppend(t.append).setJSNonBlock(t.jsNonblock).setAutomatic(t.automatic).setDisplayCallback(t.displayCallback).setConstHeight(t.constHeight).setAllowCrossPageTransition(t.crossPage);t.handler&&w.setHandler(t.handler);w.go();return w;};m(p.prototype,{getElement:function(){return this._element;},setHandler:function(q){this._handler=q;return this;},go:function(q,r){if(arguments.length>=2||typeof q=='string'){this._src=q;this._data=r||{};}else if(arguments.length==1)this._data=q;this.refresh();return this;},setAllowCrossPageTransition:function(q){this._allow_cross_page_transition=q;return this;},setBundleOption:function(q){this._is_bundle=q;return this;},refresh:function(){if(this._use_ajaxpipe){k.setIsUIPageletRequest(true);this._request=new g();this._request.setCanvasId(this._id).setAppend(this._append).setConstHeight(this._constHeight).setJSNonBlock(this._jsNonblock).setAutomatic(this._automatic).setDisplayCallback(this._displayCallback);}else{var q=function(t){this._request=null;var u=j(t.getPayload());if(this._append){i.appendContent(this._element,u);}else i.setContent(this._element,u);this._handler();}.bind(this),r=this._displayCallback;this._request=new h().setMethod('GET').setReadOnly(true).setOption('bundle',this._is_bundle).setHandler(function(t){if(r){r(q.curry(t));}else q(t);});}var s={};m(s,this._context_data);m(s,this._data);this._request.setURI(this._src).setAllowCrossPageTransition(this._allow_cross_page_transition).setData({data:JSON.stringify(s)}).send();return this;},cancel:function(){if(this._request)this._request.abort();},setUseAjaxPipe:function(q){this._use_ajaxpipe=!!q;return this;},setAppend:function(q){this._append=!!q;return this;},setJSNonBlock:function(q){this._jsNonblock=!!q;return this;},setAutomatic:function(q){this._automatic=!!q;return this;},setDisplayCallback:function(q){this._displayCallback=q;return this;},setConstHeight:function(q){this._constHeight=!!q;return this;}});e.exports=p;});
__d("AccessibleLayer",["Event","DOM","Focus","copyProperties","tx"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DOM'),i=b('Focus'),j=b('copyProperties'),k=b('tx');function l(m){this._layer=m;}j(l.prototype,{enable:function(){this._afterShowSubscription=this._layer.subscribe('aftershow',this._onAfterShow.bind(this));},disable:function(){this._listener&&this._listener.remove();this._afterShowSubscription.unsubscribe();this._listener=this._afterShowSubscription=null;},_closeListener:function(event){var m=this._layer.getCausalElement();if(m)if(m.tabIndex==-1){m.tabIndex=0;i.setWithoutOutline(m);}else i.set(m);this._layer.hide();},_onAfterShow:function(){var m=this._layer.getContentRoot();if(h.scry(m,'.layer_close_elem')[0])return;var n=h.create('a',{className:'accessible_elem layer_close_elem',href:'#'},["Close popup and return"]);h.appendContent(m,n);this._listener=g.listen(n,'click',this._closeListener.bind(this));}});e.exports=l;});
__d("ContextualLayerUpdateOnScroll",["Event","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties');function i(j){this._layer=j;}h(i.prototype,{_subscriptions:[],enable:function(){this._subscriptions=[this._layer.subscribe('show',this._attachScrollListener.bind(this)),this._layer.subscribe('hide',this._removeScrollListener.bind(this))];},disable:function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach();},_attachScrollListener:function(){if(this._listener)return;var j=this._layer.getContextScrollParent();this._listener=g.listen(j,'scroll',this._layer.updatePosition.bind(this._layer));},_removeScrollListener:function(){this._listener&&this._listener.remove();this._listener=null;}});e.exports=i;});
__d("LayerAutoFocus",["function-extensions","DOMQuery","Focus","TabbableElements","copyProperties"],function(a,b,c,d,e,f){b('function-extensions');var g=b('DOMQuery'),h=b('Focus'),i=b('TabbableElements'),j=b('copyProperties');function k(l){this._layer=l;}j(k.prototype,{_subscription:null,enable:function(){this._subscription=this._layer.subscribe('aftershow',this._focus.bind(this));},disable:function(){this._subscription.unsubscribe();this._subscription=null;},_focus:function(){var l=this._layer.getRoot(),m=g.scry(l,'.autofocus')[0],n=true;if(!m){var o=document.activeElement;if(g.isNodeOfType(o,['input','textarea']))return;var p=i.find(l);for(var q=0;q<p.length;q++)if(p[q].tagName!='A'){m=p[q];n=false;break;}}if(m){n?h.set(m):h.setWithoutOutline(m);}else{l.tabIndex=0;h.setWithoutOutline(l);}}});e.exports=k;});
__d("ModalLayer",["Event","function-extensions","Arbiter","CSS","DataStore","DOM","DOMDimensions","DOMQuery","ScrollAwareDOM","Style","URI","UserAgent","Vector","copyProperties","csx","cx","debounceAcrossTransitions","isAsyncScrollQuery","removeFromArray"],function(a,b,c,d,e,f){var g=b('Event');b('function-extensions');var h=b('Arbiter'),i=b('CSS'),j=b('DataStore'),k=b('DOM'),l=b('DOMDimensions'),m=b('DOMQuery'),n=b('ScrollAwareDOM'),o=b('Style'),p=b('URI'),q=b('UserAgent'),r=b('Vector'),s=b('copyProperties'),t=b('csx'),u=b('cx'),v=b('debounceAcrossTransitions'),w=b('isAsyncScrollQuery'),x=b('removeFromArray'),y=[],z=null,aa=null,ba=null;function ca(){if(!ba)ba=m.scry(document.body,"._li")[0];return ba;}function da(ja){var ka={position:r.getScrollPosition()},la=ja.offsetTop-ka.position.y;i.addClass(ja,"_31e");o.set(ja,'top',la+'px');h.inform('reflow');ka.listener=n.subscribe('scroll',function(ma,na){if(m.contains(ja,na.target)){var oa=ja.offsetTop-na.delta.y;o.set(ja,'top',oa+'px');ka.position=ka.position.add(na.delta);return false;}});j.set(ja,'ModalLayerData',ka);if(q.firefox()<13)ea.curry(ja).defer();}function ea(ja){m.scry(ja,'div.swfObject').forEach(function(ka){var la=ka.getAttribute('data-swfid');if(la&&window[la]){var ma=window[la];ma.addParam('autostart','false');ma.addParam('autoplay','false');ma.addParam('play','false');ma.addVariable('video_autoplay','0');ma.addVariable('autoplay','0');ma.addVariable('play','0');var na=p(ma.getAttribute('swf'));na.addQueryData({autoplay:'0'});na.setPath(na.getPath().replace('autoplay=1','autoplay=0'));ma.setAttribute('swf',na.toString());ma.write(ka);}});}function fa(ja,ka){var la=j.get(ja,'ModalLayerData');if(la){var ma=function(){i.removeClass(ja,"_31e");o.set(ja,'top','');if(ka){var pa=m.getDocumentScrollElement();pa.scrollTop=la.position.y;}h.inform('reflow');la.listener.unsubscribe();la.listener=null;j.remove(ja,'ModalLayerData');};if(ka&&w()){var na=k.create('div',{className:"_42w"});o.set(na,'height',ja.offsetHeight+'px');k.appendContent(document.body,na);var oa=m.getDocumentScrollElement();oa.scrollTop=la.position.y;ka=false;!function(){ma();k.remove(na);}.defer();}else ma();}if(q.ie()<7)o.set(ja,'height','');}function ga(){var ja;if(q.ie()<7){var ka=y[y.length-1].getLayerRoot(),la=Math.max(ka.offsetHeight,ka.scrollHeight);ja=function(ra){o.set(ra,'height',(-ra.offsetTop+la)+'px');};}var ma=y.length;while(ma--){var na=y[ma],oa=na.getLayerRoot();ha(oa,'');var pa=na.getLayerContentRoot(),qa=pa.offsetWidth+l.measureElementBox(pa,'width',0,0,1);ha(oa,qa);if(ja&&ma<y.length-1)ja(oa);}ja&&ja(ca());}function ha(ja,ka){var la=q.ie()<7;if(la&&ka&&ka<=document.body.clientWidth)ka='';o.set(ja,la?'width':'min-width',ka+(ka?'px':''));}function ia(ja){this._layer=ja;}s(ia.prototype,{_subscription:null,enable:function(){if(!ca())return;this._subscription=this._layer.subscribe(['show','hide'],function(ja){ja=='show'?this._addModal():this._removeModal();}.bind(this));if(this._layer.isShown())this._addModal();},disable:function(){if(!ca())return;this._subscription.unsubscribe();this._subscription=null;if(this._layer.isShown())this._removeModal();},_addModal:function(){i.addClass(this.getLayerRoot(),"_3qw");var ja=y[y.length-1],ka=ja?ja.getLayerRoot():ca();da(ka);var la=m.getDocumentScrollElement();la.scrollTop=0;if(!y.length){if(q.ie()<7)i.addClass(document.documentElement,"_31d");var ma=v(ga,100);z=g.listen(window,'resize',ma);aa=h.subscribe('reflow',ma);}y.push(this);ga.defer();},_removeModal:function(){var ja=this.getLayerRoot();i.removeClass(ja,"_3qw");ha(ja,'');var ka=this===y[y.length-1];x(y,this);var la=y[y.length-1];if(!la){z.remove();z=null;aa.unsubscribe();aa=null;}var ma=la?la.getLayerRoot():ca();!function(){fa(ma,ka);if(y.length){ga.defer();}else if(q.ie()<7)i.removeClass(document.documentElement,"_31d");}.defer(400,false);},getLayerRoot:function(){return this._layer.getRoot();},getLayerContentRoot:function(){return this._layer.getContentRoot();}});e.exports=ia;});
__d("ContextualDialogArrow",["JSXDOM","CSS","DOM","Locale","Style","Vector","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('JSXDOM'),h=b('CSS'),i=b('DOM'),j=b('Locale'),k=b('Style'),l=b('Vector'),m=b('copyProperties'),n=b('cx'),o=15,p=16,q={bottom:"_a5e",top:"_a5f",right:"_a5g",left:"_a5h"},r={above:'bottom',below:'top',left:'right',right:'left'};function s(t){this._layer=t;}m(s.prototype,{_subscription:null,_arrow:null,enable:function(){this._subscription=this._layer.subscribe(['adjust','reposition'],this._handle.bind(this));},disable:function(){this._subscription.unsubscribe();this._subscription=null;},_handle:function(t,u){if(t==='adjust'){this._repositionArrow(u);}else this._repositionRoot(u);},_repositionRoot:function(t){var u=t.getAlignment();if(u=='center')return;var v=this._layer.getRoot(),w=this._layer.getContext(),x=t.isVertical(),y=o,z=p,aa=l.getElementDimensions(w),ba=x?aa.x:aa.y;if(ba>=z+(y*2))return;var ca=(z/2)+y,da=ba/2,ea=parseInt(ca-da,10);if(x){if(u=='left'){var fa=parseInt(k.get(v,'left'),10);k.set(v,'left',(fa-ea)+'px');}else{var ga=parseInt(k.get(v,'right'),10);k.set(v,'right',(ga-ea)+'px');}}else{var ha=parseInt(k.get(v,'top'),10);k.set(v,'top',(ha-ea)+'px');}},_repositionArrow:function(t){var u=this._layer._contentWrapper,v=t.getPosition(),w=r[v];for(var x in q)h.conditionClass(u,q[x],w===x);if(v=='none')return;if(!this._arrow){this._arrow=g.i({className:"_a5i"});i.appendContent(u,this._arrow);}h.conditionClass(u,"_kc",this._layer.getFooter());k.set(this._arrow,'top','');k.set(this._arrow,'left','');k.set(this._arrow,'right','');k.set(this._arrow,'margin','');var y=s.getOffsetPercent(t),z=s.getOffset(t,y,this._layer),aa=s.getOffsetSide(t);k.set(this._arrow,aa,y+'%');k.set(this._arrow,'margin-'+aa,z+'px');}});m(s,{getOffsetPercent:function(t){var u=t.getAlignment(),v=t.getPosition();if(v=='above'||v=='below')if(u=='center'){return 50;}else if(u=='right')return 100;return 0;},getOffsetSide:function(t){var u=t.isVertical();return u?(j.isRTL()?'right':'left'):'top';},getOffset:function(t,u,v){var w=o,x=p,y=t.getAlignment(),z=(y=='center')?0:w;z+=x*u/100;if(y!='left')z*=-1;return z;}});s.OFFSET=o;s.LENGTH=p;e.exports=s;});
__d("ContextualDialogFitInViewport",["Event","ContextualDialogArrow","ContextualLayerDimensions","Style","Vector","copyProperties","throttle"],function(a,b,c,d,e,f){var g=b('Event'),h=b('ContextualDialogArrow'),i=b('ContextualLayerDimensions'),j=b('Style'),k=b('Vector'),l=b('copyProperties'),m=b('throttle'),n=h.OFFSET,o=h.LENGTH,p=n+o;function q(r){this._layer=r;this._listeners=[];}l(q.prototype,{_subscription:null,_minimumTop:null,enable:function(){this._subscription=this._layer.subscribe(['show','hide','reposition'],function(r,s){if(r=='reposition'){this._calculateMinimumTop(s);}else if(r=='show'){this._attachScroll();this._adjustForScroll();}else this._detachScroll();}.bind(this));if(this._layer.isShown())this._attachScroll();},disable:function(){if(this._layer.isShown())this._detachScroll();this._subscription.unsubscribe();this._subscription=null;},_attachScroll:function(){var r=m(this._adjustForScroll.bind(this)),s=this._layer.getContextScrollParent()||window;this._listeners=[g.listen(s,'scroll',r),g.listen(window,'resize',r)];},_detachScroll:function(){while(this._listeners.length)this._listeners.pop().remove();this._listeners=[];},_getContentHeight:function(){return k.getElementDimensions(this._layer._contentWrapper).y;},_getContextY:function(){return k.getElementPosition(this._layer.getContext()).y;},_calculateMinimumTop:function(r){if(r.isVertical())return;this._minimumTop=(this._getContextY()-(this._getContentHeight()-p)+r.getOffsetY());},_adjustForScroll:function(){if(this._layer.isFixed())return;var r=this._layer._getOrientation();if(r.isVertical())return;var s=i.getViewportRect(this._layer),t=s.b-this._minimumTop;if(t<0)return;var u=this._getContentHeight(),v=u-(p+n),w=Math.max(0,Math.min(v,v-(t-u)));j.set(this._layer.getContent(),'top',-w+'px');}});e.exports=q;});
__d("ContextualDialog",["AccessibleLayer","Class","ContextualDialogArrow","ContextualDialogFitInViewport","ContextualLayer","CSS","DOM","LayerAutoFocus","LayerButtons","LayerHideOnTransition","LayerFormHooks","LayerMouseHooks","Style","copyProperties","csx","cx","removeFromArray"],function(a,b,c,d,e,f){var g=b('AccessibleLayer'),h=b('Class'),i=b('ContextualDialogArrow'),j=b('ContextualDialogFitInViewport'),k=b('ContextualLayer'),l=b('CSS'),m=b('DOM'),n=b('LayerAutoFocus'),o=b('LayerButtons'),p=b('LayerHideOnTransition'),q=b('LayerFormHooks'),r=b('LayerMouseHooks'),s=b('Style'),t=b('copyProperties'),u=b('csx'),v=b('cx'),w=b('removeFromArray');function x(y,z){this.parent.construct(this,y,z);}h.extend(x,k);t(x.prototype,{_footer:null,_configure:function(y,z){y.addedBehaviors=y.addedBehaviors||[];var aa=y.arrowBehavior||i;y.addedBehaviors.push(aa);var ba=m.scry(z,"div._k7");if(ba.length)this._footer=ba[0];this.parent._configure(y,z);},_getDefaultBehaviors:function(){var y=this.parent._getDefaultBehaviors();w(y,p);return y.concat([g,n,j,o,q,r]);},_buildWrapper:function(y,z){l.addClass(z,"_k5");var aa=this.parent._buildWrapper(y,z);l.addClass(this._contentWrapper,"_k6");if(y.width)this.setWidth(y.width);return aa;},setWidth:function(y){this._width=Math.floor(y);s.set(this._contentWrapper,'width',y+'px');return this;},getFooter:function(){return this._footer;}});t(x,{setContext:function(y,z){y.setContext(z);}});e.exports=x;});
__d("ContextualDialogFooterLink",["Event","copyProperties","CSS","DOM"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties'),i=b('CSS'),j=b('DOM');function k(l){this._layer=l;}h(k.prototype,{_subscriptions:null,enable:function(){var l=this._layer.getRoot(),m=j.scry(l,'.uiContextualDialogFooterLink')[0],n='uiContextualDialogHoverFooterArrow';this._subscriptions=[g.listen(m,'mouseenter',i.addClass.curry(l,n)),g.listen(m,'mouseleave',i.removeClass.curry(l,n))];},disable:function(){this._subscriptions.forEach(function(l){l.remove();});this._subscriptions=null;}});e.exports=k;});
__d("DialogX",["function-extensions","Arbiter","ArbiterMixin","Class","ContextualThing","CSS","DOM","Event","Layer","LayerAutoFocus","LayerButtons","LayerFormHooks","LayerTabIsolation","ModalLayer","Style","UserAgent","Vector","copyProperties","cx","debounce","getOverlayZIndex"],function(a,b,c,d,e,f){b('function-extensions');var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('Class'),j=b('ContextualThing'),k=b('CSS'),l=b('DOM'),m=b('Event'),n=b('Layer'),o=b('LayerAutoFocus'),p=b('LayerButtons'),q=b('LayerFormHooks'),r=b('LayerTabIsolation'),s=b('ModalLayer'),t=b('Style'),u=b('UserAgent'),v=b('Vector'),w=b('copyProperties'),x=b('cx'),y=b('debounce'),z=b('getOverlayZIndex'),aa=40;function ba(da,ea){this.parent.construct(this,da,ea);}i.extend(ba,n);w(ba,h);w(ba.prototype,{_modal:false,_ie:null,_wrapper:null,_configure:function(da,ea){this.parent._configure(da,ea);if(da.modal){k.conditionClass(this.getRoot(),"_4-hy",da.xui);this.enableModal();}if(da.autohide)var fa=this.subscribe('show',function(){fa.unsubscribe();this.hide.shield(this).defer(da.autohide);}.bind(this));},_getDefaultBehaviors:function(){return this.parent._getDefaultBehaviors().concat([ca,o,p,q,r]);},_buildWrapper:function(da,ea){var fa=da.xui?"_4-hz":"_t",ga=da.xui?"_4-h-":"_1yv",ha=l.create('div',{className:fa},ea),ia;this._ie=u.ie();if(da.xui){ia=ha;}else if(this._ie>6&&this._ie<9){ia=[l.create('div',{className:"_u"}),l.create('div',{className:"_v"}),l.create('div',{className:"_w"}),l.create('div',{className:"_x"}),l.create('div',{className:"_y"}),l.create('div',{className:"_z"}),ha];}else ia=l.create('div',{className:"_1yu"},ha);this._wrapper=l.create('div',{className:ga,role:'dialog'},ia);if(da.titleID)this._wrapper.setAttribute('aria-labelledby',da.titleID);this.setWidth(da.width);return l.create('div',{className:"_10",role:'dialog'},this._wrapper);},enableModal:function(){this._modal=true;this.enableBehavior(s);return this;},getContentRoot:function(){return this._wrapper;},_setModalityBasedOnVerticalSpace:function(da){if(!this._modal)if(da<=aa){this.enableBehavior(s);}else this.disableBehavior(s);},reflowUpdate:function(){var da=v.getViewportDimensions().y-v.getElementDimensions(this._wrapper).y-this._lastTopMargin;this._setModalityBasedOnVerticalSpace(da);},updatePosition:function(){var da=v.getViewportDimensions().y-v.getElementDimensions(this._wrapper).y,ea;if(da<250){if(da>80){ea=da/2;}else ea=40;}else ea=125;this._lastTopMargin=ea;this._setModalityBasedOnVerticalSpace(ea);if(this._ie<7){var fa=v.getScrollPosition().y;t.set(this._wrapper,'top',ea+fa+'px');}else t.set(this._wrapper,'margin-top',ea+'px');if(this._causalElement){var ga=z(this._causalElement,this.getInsertParent()),ha=this._causalElement;while(!ga&&(ha=j.getContext(ha)))ga=z(ha,this.getInsertParent());t.set(this.getRoot(),'z-index',ga>200?ga:'');}this.inform('update_position',{type:'DialogX',top:ea});},setWidth:function(da){da=Math.floor(da);if(da===this._width)return;this._width=da;if(this._ie>6&&this._ie<9)da-=20;t.set(this._wrapper,'width',da+'px');}});function ca(da){this._layer=da;}w(ca.prototype,{_subscription:null,_resize:null,enable:function(){this._subscription=this._layer.subscribe(['show','hide'],function(da){if(da==='show'){this._attach();g.inform('layer_shown',{type:'DialogX'});}else{this._detach();g.inform('layer_hidden',{type:'DialogX'});}}.bind(this));},disable:function(){this._subscription.unsubscribe();this._subscription=null;this._resize&&this._detach();},_attach:function(){this._layer.updatePosition();this._resize=m.listen(window,'resize',y(this._layer.updatePosition.bind(this._layer)));this._reflow_listener=g.subscribe('reflow',this._layer.reflowUpdate.bind(this._layer));},_detach:function(){this._resize.remove();this._resize=null;this._reflow_listener.unsubscribe();this._reflow_listener=null;}});e.exports=ba;});
__d("AsyncDialog",["AsyncRequest","Bootloader","CSS","DialogX","DOM","Env","Parent","URI","copyProperties","cx","emptyFunction","tx"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('Bootloader'),i=b('CSS'),j=b('DialogX'),k=b('DOM'),l=b('Env'),m=b('Parent'),n=b('URI'),o=b('copyProperties'),p=b('cx'),q=b('emptyFunction'),r=b('tx'),s=new j({width:465},k.create('div',{className:"_r"},"Loading...")),t=1,u=[],v=0;function w(){v--;if(!v)s.hide();}function x(z,aa){var ba=t++;u[ba]=aa;o(z.getData(),{__asyncDialog:ba});var ca=false;v++;s.setCausalElement(z.getRelativeTo()).show();function da(){if(!ca)w();}z.setInterceptHandler(function(fa){ca=true;w();});var ea=z.finallyHandler;z.setFinallyHandler(function(fa){var ga=fa.getPayload();if(ga&&ga.asyncURL)y.send(new g(ga.asyncURL));da();ea&&ea(fa);});z.setAbortHandler(da);z.send();}var y={send:function(z,aa){x(z,aa||q);},bootstrap:function(z,aa,ba){if(!z)return;var ca=m.byClass(aa,'stat_elem')||aa;if(ca&&i.hasClass(ca,'async_saving'))return false;var da=new n(z).getQueryData(),ea=ba==='dialog',fa=new g().setURI(z).setData(da).setMethod(ea?'GET':'POST').setReadOnly(ea).setRelativeTo(aa).setStatusElement(ca).setNectarModuleDataSafe(aa);if(l.is_desktop){h.loadModules(['FbdDialogProvider'],function(ga){ga.sendDialog(fa,y.send);});return;}y.send(fa);},respond:function(z,aa){var ba=u[z];if(ba){ba(aa);delete u[z];}},getLoadingDialog:function(){return s;}};e.exports=y;});
__d("Hovercard",["JSXDOM","Event","function-extensions","AccessibleLayer","Arbiter","AsyncRequest","AsyncSignal","ContextualDialog","ContextualDialogArrow","ContextualThing","DOM","LayerAutoFocus","Parent","Rect","Style","UserAgent","Vector","clickRefAction","cx","emptyFunction","tx","userAction"],function(a,b,c,d,e,f){var g=b('JSXDOM'),h=b('Event');b('function-extensions');var i=b('AccessibleLayer'),j=b('Arbiter'),k=b('AsyncRequest'),l=b('AsyncSignal'),m=b('ContextualDialog'),n=b('ContextualDialogArrow'),o=b('ContextualThing'),p=b('DOM'),q=b('LayerAutoFocus'),r=b('Parent'),s=b('Rect'),t=b('Style'),u=b('UserAgent'),v=b('Vector'),w=b('clickRefAction'),x=b('cx'),y=b('emptyFunction'),z=b('tx'),aa=b('userAction'),ba=450,ca=385,da={},ea={},fa=null,ga=null,ha=null,ia=150,ja=700,ka=1000,la=250,ma=null,na=null,oa=null,pa=null;function qa(event){var eb=r.byTag(event.getTarget(),'a');db.processNode(eb)&&event.stop();}function ra(eb){ga=eb;if(!sa(eb)){var fb;if(!eb||!(fb=ta(eb))){ea.moveToken&&ea.moveToken.remove();ea={};return false;}if(ea.node!=eb){ea.moveToken&&ea.moveToken.remove();ea={node:eb,endpoint:fb,pos:null};}}return true;}function sa(eb){return eb&&fa&&ea.node==eb;}function ta(eb){return eb.getAttribute('data-hovercard');}function ua(eb){var fb=h.listen(eb,'mouseout',function(){clearTimeout(ma);clearTimeout(na);fb.remove();ga=null;if(!db.contains(eb))db.hide();});if(!ea.moveToken)ea.moveToken=h.listen(eb,'mousemove',function(event){ea.pos=v.getEventPosition(event);});clearTimeout(ma);clearTimeout(na);clearTimeout(pa);var gb=ia,hb=fa?la:ja;if(eb.getAttribute('data-hovercard-instant'))gb=hb=50;ma=setTimeout(za.curry(eb),gb);na=setTimeout(va.curry(eb),hb);}function va(eb,fb){if(ea.node!=eb)return;var gb=da[ta(eb)];if(gb){xa(gb);}else if(fb){xa(bb());}else{var hb=fa?la:ja;oa=setTimeout(va.curry(eb,true),ka-hb);}}function wa(){db.hide(true);clearTimeout(na);}function xa(eb){var fb=ea.node,gb=fa,hb=gb!=fb;if(ha){var ib=ha.getContentRoot();if(!o.containsIncludingLayers(ib,fb))ha.hide();}if(!p.contains(document.body,fb)){db.hide(true);return;}fa=fb;ha=eb;eb.setContextWithBounds(fb,ya(fb)).show();if(hb)(function(){new l('/ajax/hovercard/shown.php').send();w('himp',fa,null,'FORCE',{ft:{evt:39}});aa('hovercard',fa).uai('show');}).defer();}function ya(eb){var fb=ea.pos,gb=eb.getClientRects();if(!fb||gb.length===0)return s.getElementBounds(eb);var hb,ib=false;for(var jb=0;jb<gb.length;jb++){var kb=new s(Math.round(gb[jb].top),Math.round(gb[jb].right),Math.round(gb[jb].bottom),Math.round(gb[jb].left),'viewport').convertTo('document'),lb=kb.getPositionVector(),mb=lb.add(kb.getDimensionVector());if(!hb||(lb.x<=hb.l&&lb.y>hb.t)){if(ib)break;hb=new s(lb.y,mb.x,mb.y,lb.x,'document');}else{hb.t=Math.min(hb.t,lb.y);hb.b=Math.max(hb.b,mb.y);hb.r=mb.x;}if(kb.contains(fb))ib=true;}return hb;}function za(eb){if(eb.id&&da[eb.id]!=null)return;var fb=ta(eb);if(da[fb]!=null)return;ab(fb);var gb=function(){db.dirty(fb);wa();};new k(fb).setData({endpoint:fb}).setMethod('GET').setReadOnly(true).setErrorHandler(gb).setTransportErrorHandler(gb).send();}function ab(eb){da[eb]=false;}var bb=function(){var eb=new m({width:275,arrowBehavior:n},g.div({className:"_7lk"},"Loading..."));eb.disableBehavior(i).disableBehavior(q);cb(eb);bb=y.thatReturns(eb);return eb;};function cb(eb){var fb=[eb.subscribe('mouseenter',function(){clearTimeout(pa);ga=ea.node;}),eb.subscribe('mouseleave',function(){eb.hide();ga=null;}),eb.subscribe('destroy',function(){while(fb.length)fb.pop().unsubscribe();fb=null;})];}var db={hide:function(eb){if(!fa)return;if(eb){if(ha)ha.hide();ga=null;fa=null;ha=null;}else pa=setTimeout(db.hide.curry(true),la);},setDialog:function(eb,fb){fb.disableBehavior(i).disableBehavior(q);da[eb]=fb;cb(fb);if(ea.endpoint==eb&&ga==ea.node){bb().hide();var gb=ea.node.getAttribute('data-hovercard-position');gb&&fb.setPosition(gb);var hb=ea.node.getAttribute('data-hovercard-offset-x');hb&&fb.setOffsetX(parseInt(hb,10));var ib=ea.node.getAttribute('data-hovercard-offset-y');ib&&fb.setOffsetY(parseInt(ib,10));xa(fb);}},getDialog:function(eb){return da[eb];},contains:function(eb){if(ha)return o.containsIncludingLayers(ha.getContentRoot(),eb);return false;},dirty:function(eb){var fb=da[eb];if(fb){fb.destroy();delete da[eb];}},dirtyAll:function(){for(var eb in da){var fb=da[eb];fb&&db.dirty(eb);}j.inform('Hovercard/dirty');},processNode:function(eb){if(eb&&ra(eb)){ua(eb);return true;}return false;}};(function(){if(u.ie()<8)return;h.listen(document.documentElement,'mouseover',qa);h.listen(window,'scroll',function(){if(fa&&t.isFixed(fa))db.hide(true);});j.subscribe('page_transition',function(){wa();db.dirtyAll();},j.SUBSCRIBE_NEW);})();e.exports=db;});
__d("LegacyContextualDialog",["event-extensions","ARIA","Arbiter","ArbiterMixin","Bootloader","Class","ContextualDialogFooterLink","ContextualThing","CSS","DataStore","DOM","Locale","Overlay","Parent","Style","Vector","$","copyProperties","getOverlayZIndex"],function(a,b,c,d,e,f){b('event-extensions');var g=b('ARIA'),h=b('Arbiter'),i=b('ArbiterMixin'),j=b('Bootloader'),k=b('Class'),l=b('ContextualDialogFooterLink'),m=b('ContextualThing'),n=b('CSS'),o=b('DataStore'),p=b('DOM'),q=b('Locale'),r=b('Overlay'),s=b('Parent'),t=b('Style'),u=b('Vector'),v=b('$'),w=b('copyProperties'),x=b('getOverlayZIndex');function y(z,aa){this.parent.construct(this,z,aa);}k.extend(y,r);w(y,i,{ARROW_OFFSET:15,ARROW_LENGTH:16,ARROW_INSET:22,TOP_MARGIN:8,BOTTOM_MARGIN:30,LEFT_MARGIN:15,RIGHT_MARGIN:30,POSITION_TO_CLASS:{above:'uiContextualDialogAbove',below:'uiContextualDialogBelow',left:'uiContextualDialogLeft',right:'uiContextualDialogRight'},RIGHT_ALIGNED_CLASS:'uiContextualDialogRightAligned',ARROW_CLASS:{bottom:'uiContextualDialogArrowBottom',top:'uiContextualDialogArrowTop',right:'uiContextualDialogArrowRight',left:'uiContextualDialogArrowLeft'},POSITION_TO_ARROW:{above:'bottom',below:'top',left:'right',right:'left'},getInstance:function(z){var aa=o.get(z,'LegacyContextualDialog');if(!aa){var ba=s.byClass(z,'uiOverlay');if(ba)aa=o.get(ba,'overlay');}return aa;}});w(y.prototype,{_scrollListener:null,_scrollParent:null,_width:null,_fixed:false,_hasFooter:false,_showSubscription:null,_hideSubscription:null,_setContextSubscription:null,_resizeListener:null,_reflowSubscription:null,_configure:function(z,aa){this.parent._configure(z,aa);var ba=this.getRoot(),ca=o.get.curry(ba);this.setAlignH(ca('alignh','left'));this.setOffsetX(ca('offsetx',0));this.setOffsetY(ca('offsety',0));this.setPosition(ca('position','above'));this._hasFooter=ca('hasfooter',false);if(this._hasFooter){var da=p.scry(ba,'.uiContextualDialogFooterLink')[0];da&&this.enableBehavior(l);}this._setContextSubscription=this.subscribe('beforeshow',function(){this.unsubscribe(this._setContextSubscription);this._setContextSubscription=null;var ea=ca('context');if(ea){this.setContext(v(ea));}else{ea=ca('contextselector');if(ea)this.setContext(p.find(document,ea));}}.bind(this));this._content=p.scry(ba,'.uiContextualDialogContent')[0];this._showSubscription=this.subscribe('show',function(){var ea=this.updatePosition.shield(this);this._resizeListener=Event.listen(window,'resize',ea);this._reflowSubscription=h.subscribe('reflow',ea);this._setupScrollListener(this._scrollParent);m.register(ba,this.context);h.inform('layer_shown',{type:'ContextualDialog'});}.bind(this));this._hideSubscription=this.subscribe('hide',function(){this._teardownResizeAndReflowListeners();this._teardownScrollListener();h.inform('layer_hidden',{type:'ContextualDialog'});}.bind(this));return this;},_buildWrapper:function(z,aa){var ba=this.parent._buildWrapper(z,aa);if(!this._shouldBuildWrapper)return ba;n.addClass(ba,'uiContextualDialog');return p.create('div',{className:'uiContextualDialogPositioner'},ba);},setWidth:function(z){this._width=Math.floor(z);return this;},setFixed:function(z){z=!!z;n.conditionClass(this.getRoot(),'uiContextualDialogFixed',z);this._fixed=z;return this;},setAlignH:function(z){this.alignH=z;this._updateAlignmentClass();this._shown&&this.updatePosition();this.position&&this._updateArrow();return this;},getContent:function(){return this._content;},getContext:function(){return this.context;},setContext:function(z){if(this._setContextSubscription){this.unsubscribe(this._setContextSubscription);this._setContextSubscription=null;}z=v(z);if(this.context&&this.context!=z)o.remove(this.context,'LegacyContextualDialog');this.context=z;g.setPopup(this.getCausalElement(),this.getRoot());var aa=s.byClass(z,'fbPhotoSnowlift');this.setInsertParent(aa||document.body);if(this._scrollListener&&this._scrollParent!==aa){this._teardownScrollListener();this._setupScrollListener(aa);}this._scrollParent=aa;var ba=x(z,this._insertParent);t.set(this.getRoot(),'z-index',ba>200?ba:'');o.set(this.context,'LegacyContextualDialog',this);return this;},getCausalElement:function(){return this.parent.getCausalElement()||this.context;},listen:function(z,aa){return Event.listen(this.getRoot(),z,aa);},setOffsetX:function(z){this.offsetX=parseInt(z,10)||0;this._shown&&this.updatePosition();return this;},setOffsetY:function(z){this.offsetY=parseInt(z,10)||0;this._shown&&this.updatePosition();return this;},setPosition:function(z){this.position=z;for(var aa in y.POSITION_TO_CLASS)n.conditionClass(this.getRoot(),y.POSITION_TO_CLASS[aa],z==aa);this._updateAlignmentClass();this._shown&&this.updatePosition();this._updateArrow();return this;},updatePosition:function(){if(!this.context)return false;if(this._width)t.set(this._overlay,'width',this._width+'px');var z=this._fixed?'viewport':'document',aa=u.getElementPosition(this.context,z),ba=this._scrollParent;if(ba)aa=aa.sub(u.getElementPosition(ba,'document')).add(ba.scrollLeft,ba.scrollTop);var ca=u.getElementDimensions(this.context),da=this.position=='above'||this.position=='below',ea=q.isRTL();if((this.position=='right'||(da&&this.alignH=='right'))!=ea)aa=aa.add(ca.x,0);if(this.position=='below')aa=aa.add(0,ca.y);var fa=new u(0,0);if(da&&this.alignH=='center'){fa=fa.add((ca.x-this._width)/2,0);}else{var ga=da?ca.x:ca.y,ha=2*y.ARROW_INSET;if(ga<ha){var ia=ga/2-y.ARROW_INSET;if(da&&(this.alignH=='right'!=ea))ia=-ia;fa=fa.add(da?ia:0,da?0:ia);}}fa=fa.add(this.offsetX,this.offsetY);if(ea)fa=fa.mul(-1,1);aa=aa.add(fa);if(this._fixed)aa=new u(aa.x,aa.y,'document');aa.setElementPosition(this.getRoot());this._adjustVerticalPosition();this._adjustHorizontalPosition();return true;},scrollTo:function(){if(this.context)j.loadModules(['DOMScroll'],function(z){z.scrollTo(this.context,true,true);}.bind(this));},destroy:function(){this.unsubscribe(this._showSubscription);this.unsubscribe(this._hideSubscription);if(this._setContextSubscription){this.unsubscribe(this._setContextSubscription);this._setContextSubscription=null;}this._teardownScrollListener();this._teardownResizeAndReflowListeners();this.context&&o.remove(this.context,'LegacyContextualDialog');this.parent.destroy();},_adjustVerticalPosition:function(){if(this.position!='left'&&this.position!='right'){t.set(this._overlay,'top','');return;}var z=this.getRoot(),aa=u.getElementPosition(z,'viewport').y,ba=u.getElementDimensions(this._overlay).y,ca=u.getViewportDimensions().y,da=y.TOP_MARGIN,ea=Math.min(Math.max(0,aa+ba+y.BOTTOM_MARGIN-ca),Math.max(-da,aa-da),ba-2*y.ARROW_INSET);t.set(this._overlay,'top',(-1*ea)+'px');t.set(this._arrow,'top',y.ARROW_OFFSET+'px');t.set(this._arrow,'marginTop',ea+'px');},_adjustHorizontalPosition:function(){if((this.position!='above'&&this.position!='below')||this.alignH!='left'){t.set(this._overlay,'left','');t.set(this._overlay,'right','');return;}var z=this.getRoot(),aa=u.getElementPosition(z,'viewport').x,ba=u.getElementDimensions(this._overlay).x,ca=u.getViewportDimensions().x,da=q.isRTL(),ea;if(!da){ea=aa+ba+y.RIGHT_MARGIN-ca;}else ea=y.LEFT_MARGIN+ba-aa;ea=Math.min(Math.max(0,ea),ba-2*y.ARROW_INSET);t.set(this._overlay,da?'right':'left',-1*ea+'px');t.set(this._arrow,da?'right':'left',y.ARROW_OFFSET+'px');t.set(this._arrow,da?'marginRight':'marginLeft',ea+'px');},_updateArrow:function(){var z=0;if(this.position=='above'||this.position=='below')switch(this.alignH){case 'center':z=50;break;case 'right':z=100;break;}this._renderArrow(y.POSITION_TO_ARROW[this.position],z);},_renderArrow:function(z,aa){for(var ba in y.ARROW_CLASS)n.conditionClass(this._overlay,y.ARROW_CLASS[ba],z==ba);n.conditionClass(this._overlay,'uiContextualDialogWithFooterArrowBottom',z=='bottom'&&this._hasFooter);if(z=='none')return;if(!this._arrow){this._arrow=p.create('i',{className:'uiContextualDialogArrow'});p.appendContent(this._overlay,this._arrow);}t.set(this._arrow,'top','');t.set(this._arrow,'left','');t.set(this._arrow,'right','');t.set(this._arrow,'margin','');var ca=z=='top'||z=='bottom',da=ca?(q.isRTL()?'right':'left'):'top';aa=aa||0;t.set(this._arrow,da,aa+'%');var ea=y.ARROW_LENGTH+y.ARROW_OFFSET*2,fa=-(ea*aa/100-y.ARROW_OFFSET);t.set(this._arrow,'margin-'+da,fa+'px');},_updateAlignmentClass:function(){n.conditionClass(this.getRoot(),y.RIGHT_ALIGNED_CLASS,(this.position=='above'||this.position=='below')&&this.alignH=='right');},_setupScrollListener:function(z){this._scrollListener=Event.listen(z||window,'scroll',this._adjustVerticalPosition.shield(this));},_teardownScrollListener:function(){if(this._scrollListener){this._scrollListener.remove();this._scrollListener=null;}},_teardownResizeAndReflowListeners:function(){if(this._resizeListener){this._resizeListener.remove();this._resizeListener=null;}if(this._reflowSubscription){this._reflowSubscription.unsubscribe();this._reflowSubscription=null;}}});e.exports=y;});
__d("ScrollableArea",["Event","Animation","ArbiterMixin","BrowserSupport","CSS","DataStore","DOM","Parent","Run","SimpleDrag","Style","UserAgent","Vector","copyProperties","throttle"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Animation'),i=b('ArbiterMixin'),j=b('BrowserSupport'),k=b('CSS'),l=b('DataStore'),m=b('DOM'),n=b('Parent'),o=b('Run'),p=b('SimpleDrag'),q=b('Style'),r=b('UserAgent'),s=b('Vector'),t=b('copyProperties'),u=b('throttle'),v=12;function w(x,y){if(!x)return;y=y||{};this._elem=x;this._wrap=m.find(x,'div.uiScrollableAreaWrap');this._body=m.find(this._wrap,'div.uiScrollableAreaBody');this._content=m.find(this._body,'div.uiScrollableAreaContent');this._track=m.find(x,'div.uiScrollableAreaTrack');this._gripper=m.find(this._track,'div.uiScrollableAreaGripper');this._options=y;this._throttledComputeHeights=u(this._computeHeights,250,this);this.throttledAdjustGripper=u(this.adjustGripper,250,this);this._throttledShowGripperAndShadows=u(this._showGripperAndShadows,250,this);this.adjustGripper.bind(this).defer();this._listeners=[g.listen(this._wrap,'scroll',this._handleScroll.bind(this)),g.listen(x,'mousemove',this._handleMousemove.bind(this)),g.listen(this._track,'click',this._handleClickOnTrack.bind(this))];if(j.hasPointerEvents())this._listeners.push(g.listen(x,'click',this._handleClickOnTrack.bind(this)));if(y.fade!==false){this._listeners.push(g.listen(x,'mouseenter',this.showScrollbar.shield(this)),g.listen(x,'mouseleave',this.hideScrollbar.shield(this)));}else if(j.hasPointerEvents())this._listeners.push(g.listen(x,'mouseleave',k.removeClass.curry(x,'uiScrollableAreaTrackOver')));if(r.webkit()||r.chrome()){this._listeners.push(g.listen(x,'mousedown',function(){var z=g.listen(window,'mouseup',function(){if(x.scrollLeft)x.scrollLeft=0;z.remove();});}));}else if(r.firefox())this._wrap.addEventListener('DOMMouseScroll',function(event){event.axis===event.HORIZONTAL_AXIS&&event.preventDefault();},false);this.initDrag();l.set(this._elem,'ScrollableArea',this);if(!y.persistent)o.onLeave(this.destroy.bind(this));if(y.shadow!==false)k.addClass(this._elem,'uiScrollableAreaWithShadow');}t(w,{renderDOM:function(){var x=m.create('div',{className:'uiScrollableAreaContent'}),y=m.create('div',{className:'uiScrollableAreaBody'},x),z=m.create('div',{className:'uiScrollableAreaWrap'},y),aa=m.create('div',{className:'uiScrollableArea native'},z);return {root:aa,wrap:z,body:y,content:x};},fromNative:function(x,y){if(!k.hasClass(x,'uiScrollableArea')||!k.hasClass(x,'native'))return;y=y||{};k.removeClass(x,'native');var z=m.create('div',{className:'uiScrollableAreaTrack'},m.create('div',{className:'uiScrollableAreaGripper'}));if(y.fade!==false){k.addClass(x,'fade');k.addClass(z,'invisible_elem');}else k.addClass(x,'nofade');m.appendContent(x,z);var aa=new w(x,y);aa.resize();return aa;},getInstance:function(x){var y=n.byClass(x,'uiScrollableArea');return y?l.get(y,'ScrollableArea'):null;},poke:function(x){var y=w.getInstance(x);y&&y.poke();}});t(w.prototype,i,{initDrag:function(){var x=j.hasPointerEvents(),y=new p(x?this._elem:this._gripper);y.subscribe('start',function(z,event){if(!((event.which&&event.which===1)||(event.button&&event.button===1)))return;var aa=s.getEventPosition(event,'viewport');if(x){var ba=this._gripper.getBoundingClientRect();if(aa.x<ba.left||aa.x>ba.right||aa.y<ba.top||aa.y>ba.bottom)return false;}this.inform('grip_start');var ca=aa.y,da=this._gripper.offsetTop;k.addClass(this._elem,'uiScrollableAreaDragging');var ea=y.subscribe('update',function(ga,event){var ha=s.getEventPosition(event,'viewport').y-ca;this._throttledComputeHeights();var ia=this._contentHeight-this._containerHeight,ja=da+ha,ka=this._trackHeight-this._gripperHeight;ja=Math.max(Math.min(ja,ka),0);var la=ja/ka*ia;this._wrap.scrollTop=la;}.bind(this)),fa=y.subscribe('end',function(){y.unsubscribe(ea);y.unsubscribe(fa);k.removeClass(this._elem,'uiScrollableAreaDragging');this.inform('grip_end');}.bind(this));}.bind(this));},adjustGripper:function(){if(this._needsGripper()){q.set(this._gripper,'height',this._gripperHeight+'px');this._slideGripper();}this._throttledShowGripperAndShadows();return this;},_computeHeights:function(){this._containerHeight=this._elem.clientHeight;this._contentHeight=this._content.offsetHeight;this._trackHeight=this._track.offsetHeight;this._gripperHeight=Math.max(this._containerHeight/this._contentHeight*this._trackHeight,v);},_needsGripper:function(){this._throttledComputeHeights();return this._gripperHeight<this._trackHeight;},_slideGripper:function(){var x=this._wrap.scrollTop/(this._contentHeight-this._containerHeight)*(this._trackHeight-this._gripperHeight);q.set(this._gripper,'top',x+'px');},_showGripperAndShadows:function(){k.conditionShow(this._gripper,this._needsGripper());k.conditionClass(this._elem,'contentBefore',this._wrap.scrollTop>0);k.conditionClass(this._elem,'contentAfter',!this.isScrolledToBottom());},destroy:function(){this._listeners.forEach(function(x){x.remove();});this._listeners.length=0;},_handleClickOnTrack:function(event){if(!this.lastMousePosition)return;var x=this._gripper.getBoundingClientRect();if(this.lastMousePosition.x<x.right&&this.lastMousePosition.x>x.left){if(this.lastMousePosition.y<x.top){this.setScrollTop(this.getScrollTop()-this._elem.clientHeight);}else if(this.lastMousePosition.y>x.bottom)this.setScrollTop(this.getScrollTop()+this._elem.clientHeight);event.prevent();}},_handleMousemove:function(event){var x=s.getEventPosition(event),y=this._options.fade!==false;if(j.hasPointerEvents()||y){var z=s.getElementPosition(this._track).x,aa=s.getElementDimensions(this._track).x,ba=Math.abs(z+aa/2-x.x);k.conditionClass(this._elem,'uiScrollableAreaTrackOver',j.hasPointerEvents()&&ba<=10);if(y)if(ba<25){this.showScrollbar(false);}else if(!this._options.no_fade_on_hover)this.hideScrollbar();}this.lastMousePosition=x.convertTo('viewport');},_handleScroll:function(event){if(this._needsGripper())this._slideGripper();this.throttledAdjustGripper();if(this._options.fade!==false)this.showScrollbar();this.inform('scroll');},hideScrollbar:function(x){if(!this._scrollbarVisible)return this;this._scrollbarVisible=false;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null;}if(x){q.set(this._track,'opacity',0);k.addClass.curry(this._track,'invisible_elem');}else this._hideTimeout=function(){if(this._hideAnimation){this._hideAnimation.stop();this._hideAnimation=null;}this._hideAnimation=(new h(this._track)).from('opacity',1).to('opacity',0).duration(250).ondone(k.addClass.curry(this._track,'invisible_elem')).go();}.bind(this).defer(750);return this;},resize:function(){var x=s.getElementDimensions(this._elem).x;if(this._options.fade===false)x-=10;x=Math.max(0,x);q.set(this._body,'width',x+'px');return this;},showScrollbar:function(x){this.throttledAdjustGripper();if(this._scrollbarVisible)return this;this._scrollbarVisible=true;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null;}if(this._hideAnimation){this._hideAnimation.stop();this._hideAnimation=null;}q.set(this._track,'opacity',1);k.removeClass(this._track,'invisible_elem');if((x!==false)&&!this._options.no_fade_on_hover)this.hideScrollbar();return this;},isScrolledToBottom:function(){return this._wrap.scrollTop>=this._contentHeight-this._containerHeight;},scrollToBottom:function(x){this.setScrollTop(this._wrap.scrollHeight,x);},scrollToTop:function(x){this.setScrollTop(0,x);},scrollIntoView:function(x,y){var z=this._wrap.clientHeight,aa=x.offsetHeight,ba=this._wrap.scrollTop,ca=ba+z,da=x.offsetTop,ea=da+aa;if(da<ba||z<aa){this.setScrollTop(da,y);}else if(ea>ca)this.setScrollTop(ba+(ea-ca),y);},poke:function(){var x=this._wrap.scrollTop;this._wrap.scrollTop+=1;this._wrap.scrollTop-=1;this._wrap.scrollTop=x;return this.showScrollbar(false);},getScrollTop:function(){return this._wrap.scrollTop;},getScrollHeight:function(){return this._wrap.scrollHeight;},setScrollTop:function(x,y,z){if(y!==false){if(this._scrollTopAnimation)this._scrollTopAnimation.stop();z=z||{};var aa=z.duration||250,ba=z.ease||h.ease.end;this._scrollTopAnimation=(new h(this._wrap)).to('scrollTop',x).ease(ba).duration(aa).go();}else this._wrap.scrollTop=x;}});e.exports=w;});
__d("HoverFlyout",["Event","Arbiter","ArbiterMixin","DataStore","Keys","arrayContains","copyProperties","removeFromArray"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('ArbiterMixin'),j=b('DataStore'),k=b('Keys'),l=b('arrayContains'),m=b('copyProperties'),n=b('removeFromArray');function o(p,q,r,s){if(p){this._showDelay=r;this._hideDelay=s;this.init(p);if(q)this.initNode(q);}h.subscribe('SwapButton/focusOnJoinButton',this.hideFlyout.shield(this),h.SUBSCRIBE_ALL);}m(o.prototype,i,{init:function(p){this._flyout=p;this._showDelay=this._showDelay||0;this._hideDelay=this._hideDelay||100;this._showTimeout=null;this._hideTimeout=null;this._flyoutSubscriptions=[this._flyout.subscribe('mouseenter',this._onFlyoutMouseEnter.bind(this)),this._flyout.subscribe('mouseleave',this.hideFlyout.shield(this))];this._nodes=[];this._dataStoreUnique='HoverFlyout_'+Date.now()+'_listeners';return this;},initNode:function(p){if(l(this._nodes,p))return this;this._nodes.push(p);j.set(p,this._dataStoreUnique,[g.listen(p,'mouseenter',this._onNodeMouseEnter.bind(this,p)),g.listen(p,'mouseleave',this.hideFlyout.shield(this)),g.listen(p,'click',this._onNodeMouseEnter.bind(this,p)),g.listen(p,'keydown',this._onNodeKeyEscape.bind(this))]);return this;},deactivateNode:function(p){var q=j.get(p,this._dataStoreUnique);if(q)while(q.length)q.pop().remove();n(this._nodes,p);},setShowDelay:function(p){this._showDelay=p;return this;},setHideDelay:function(p){this._hideDelay=p;return this;},showFlyout:function(p,q){this.setActiveNode(p);if(q){this._flyout.setContext(p).show();this.inform('show',p);}else this._showTimeout=this.showFlyout.bind(this,p,true).defer(this._showDelay);return this;},hideFlyout:function(p){clearTimeout(this._showTimeout);if(p){this._flyout.hide();this._activeNode&&this.inform('hide',this._activeNode);this._activeNode=null;}else this._hideTimeout=this.hideFlyout.bind(this,true).defer(this._hideDelay);},hideFlyoutDelayed:function(p){clearTimeout(this._showTimeout);clearTimeout(this._hideTimeout);this._hideTimeout=this.hideFlyout.bind(this,true).defer(p);},getActiveNode:function(){return this._activeNode;},setActiveNode:function(p){clearTimeout(this._hideTimeout);if(this._activeNode&&this._activeNode!==p)this.hideFlyout(true);this._activeNode=p;return this;},clearNodes:function(){for(var p=this._nodes.length;p>0;p--)this.deactivateNode(this._nodes[p-1]);},destroy:function(){while(this._flyoutSubscriptions.length)this._flyout.unsubscribe(this._flyoutSubscriptions.pop());this.clearNodes();},_onNodeMouseEnter:function(p){if(this._activeNode===p){clearTimeout(this._hideTimeout);}else this.showFlyout(p);},_onFlyoutMouseEnter:function(){clearTimeout(this._hideTimeout);},_onNodeKeyEscape:function(event){if(g.getKeyCode(event)===k.ESC){this._activeNode&&this.inform('hide',this._activeNode);this._activeNode=null;}}});e.exports=a.HoverFlyout||o;});
__d("legacy:Tooltip",["Tooltip"],function(a,b,c,d){a.Tooltip=b('Tooltip');},3);
__d("ClearableTypeahead",["Event"],function(a,b,c,d,e,f){var g=b('Event'),h={resetOnCloseButtonClick:function(i,j){g.listen(j,'click',function(){var k=i.getCore();k.getElement().focus();k.reset();});}};e.exports=h;});
__d("TypeaheadShowLoadingIndicator",["CSS","copyProperties"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('copyProperties');function i(j){this._typeahead=j;}h(i.prototype,{_subscription:null,enable:function(){this._subscription=this._typeahead.subscribe('loading',function(j,k){g.conditionClass(this._typeahead.getElement(),'typeaheadLoading',k.loading);g.conditionClass(this._typeahead.getView().getElement(),'typeaheadViewLoading',k.loading);}.bind(this));},disable:function(){this._typeahead.unsubscribe(this._subscription);this._subscription=null;}});e.exports=i;});
__d("legacy:ShowLoadingIndicatorTypeaheadBehavior",["TypeaheadShowLoadingIndicator"],function(a,b,c,d){var e=b('TypeaheadShowLoadingIndicator');if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.showLoadingIndicator=function(f){f.enableBehavior(e);};},3);
__d("CompactTypeaheadRenderer",["DOM","TypeaheadFacepile"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('TypeaheadFacepile');function i(j,k){var l=[];if(j.xhp)return g.create('li',{className:'raw'},j.xhp);var m=j.photos||j.photo;if(m){if(m instanceof Array){m=h.render(m);}else m=g.create('img',{alt:'',src:m});l.push(m);}if(j.text)l.push(g.create('span',{className:'text'},[j.text]));var n=j.subtext,o=j.category;if(n||o){var p=[];n&&p.push(n);n&&o&&p.push(" \u00b7 ");o&&p.push(o);l.push(g.create('span',{className:'subtext'},p));}var q=g.create('li',{className:j.type||''},l);if(j.text)q.setAttribute('aria-label',j.text);return q;}i.className='compact';e.exports=i;});