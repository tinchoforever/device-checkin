/*1364911460,178142561*/

if (self.CavalryLogger) { CavalryLogger.start_js(["wgy+J"]); }

__d("ScrollingPager",["Arbiter","copyProperties","CSS","OnVisible","UIPagelet","$","ge"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('copyProperties'),i=b('CSS'),j=b('OnVisible'),k=b('UIPagelet'),l=b('$'),m=b('ge'),n={};function o(p,q,r,s){this.scroll_loader_id=p;this.pagelet_src=q;this.data=r;this.options=s||{};if(this.options.target_id){this.target_id=this.options.target_id;this.options.append=true;}else this.target_id=p;this.handler=null;}h(o,{REGISTERED:'ScrollingPager/registered',getInstance:function(p){return n[p];}});h(o.prototype,{setBuffer:function(p){this.options.buffer=p;this.onvisible&&this.onvisible.setBuffer(p);},getBuffer:function(){return this.options.buffer;},register:function(){this.onvisible=new j(l(this.scroll_loader_id),this.getHandler(),false,this.options.buffer,this.options);n[this.scroll_loader_id]=this;g.inform(o.REGISTERED,{id:this.scroll_loader_id});},getInstance:function(p){return n[p];},getHandler:function(){if(this.handler)return this.handler;function p(q){var r=m(this.scroll_loader_id);if(!r){this.onvisible.remove();return;}i.addClass(r.firstChild,'async_saving');var s=this.options.handler;this.options.handler=function(){g.inform('ScrollingPager/loadingComplete');s&&s.apply(null,arguments);};if(q)this.data.pager_fired_on_init=true;k.loadFromEndpoint(this.pagelet_src,this.target_id,this.data,this.options);}return p.bind(this);},setHandler:function(p){this.handler=p;},removeOnVisible:function(){this.onvisible.remove();},checkBuffer:function(){this.onvisible&&this.onvisible.checkBuffer();}});e.exports=o;});
__d("StickyController",["Event","CSS","Style","Vector","copyProperties","queryThenMutateDOM"],function(a,b,c,d,e,f){var g=b('Event'),h=b('CSS'),i=b('Style'),j=b('Vector'),k=b('copyProperties'),l=b('queryThenMutateDOM');function m(n,o,p,q){this._element=n;this._marginTop=o;this._onchange=p;this._proxy=q||n.parentNode;this._boundQueryOnScroll=this._queryOnScroll.bind(this);this._boundMutateOnScroll=this._mutateOnScroll.bind(this);}k(m.prototype,{handleScroll:function(){l(this._boundQueryOnScroll,this._boundMutateOnScroll);},_queryOnScroll:function(){this._shouldFix=j.getElementPosition(this._proxy,'viewport').y<=this._marginTop;},_mutateOnScroll:function(){var n=this._shouldFix;if(this.isFixed()!==n){i.set(this._element,'top',n?this._marginTop+'px':'');h.conditionClass(this._element,'fixed_elem',n);this._onchange&&this._onchange(n);}},start:function(){if(this._event)return;this._event=g.listen(window,'scroll',this.handleScroll.bind(this));this.handleScroll.bind(this).defer();},stop:function(){this._event&&this._event.remove();this._event=null;},isFixed:function(){return h.hasClass(this._element,'fixed_elem');}});e.exports=m;});
__d("TidyArbiterMixin",["Arbiter","ArbiterMixin","Run","copyProperties"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('Run'),j=b('copyProperties'),k={};j(k,h,{_getArbiterInstance:function(){if(!this._arbiter){this._arbiter=new g();i.onLeave(function(){delete this._arbiter;}.bind(this));}return this._arbiter;}});e.exports=k;});
__d("PhotoMultiPhotosThumb",["Event","function-extensions","Style"],function(a,b,c,d,e,f){var g=b('Event');b('function-extensions');var h=b('Style'),i=1200,j={init:function(k,l){var m=null,n=0;function o(q){n=q;l.forEach(function(r,s){h.set(r,'opacity',s===q?1:0);});}function p(){o((n+1)%l.length);m=p.defer(i);}g.listen(k,'mouseenter',function(){if(m)return;n=0;p();});g.listen(k,'mouseleave',function(){o(0);window.clearTimeout(m);m=null;});}};e.exports=j;});
__d("TimelineFriendsNavHovercard",["Event","Hovercard","Keys","Parent"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Hovercard'),i=b('Keys'),j=b('Parent'),k=null,l=[],m=-1,n={};n[i.UP]={"-1":0,3:0,4:1,5:2};n[i.RIGHT]={"-1":0,0:1,1:2,2:3,3:4,4:5};n[i.DOWN]={"-1":0,0:3,1:4,2:5};n[i.LEFT]={"-1":0,1:0,2:1,3:2,4:3,5:4};function o(event){h.processNode(event.getTarget())&&event.stop();}function p(event){event.getTarget().tabIndex=-1;h.hide();}function q(event){var s=g.getKeyCode(event);if(s in n){if(m in n[s]){m=n[s][m];l[m].focus();}event.prevent();}}var r={init:function(s){if(!k){k=j.byTag(s,'a');if(k)g.listen(k,{keydown:q,focus:function(){m=-1;}});}l.push(s);g.listen(s,{focus:o,blur:p,mouseover:o,mouseout:function(event){event.getTarget().tabIndex=-1;}});}};e.exports=r;});
__d("TimelineSection",["Arbiter","DOMScroll","DoublyLinkedListMap","Run","TidyArbiterMixin","copyProperties","ge"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('DOMScroll'),i=b('DoublyLinkedListMap'),j=b('Run'),k=b('TidyArbiterMixin'),l=b('copyProperties'),m=b('ge'),n=null;function o(){n=null;}function p(q,r,s){this.id=q;this.label=s;this.nodeID=r;this._parentSection=null;this.childSections=new i();this._isLoaded=false;p.inform.bind(p,'sectionInitialized/'+q,{section:this},g.BEHAVIOR_STATE).defer();}l(p,k,{callWithSection:function(q,r){this.subscribe('sectionInitialized/'+q,function(s,t){r(t.section);});},setActiveSectionID:function(q){!n&&j.onLeave(o);n=q;}});l(p.prototype,{appendSection:function(q){this.childSections.append(q.id,q);q._parentSection=this;},freeze:function(){this.freezeChildren();},freezeChildren:function(){var q=this.childSections.getHead();while(q){!q.isActive()&&q.freeze();q=q.getNext();}},getNext:function(){return this._parentSection&&this._parentSection.childSections.getNext(this.id);},getPrev:function(){return this._parentSection&&this._parentSection.childSections.getPrev(this.id);},isActive:function(){var q=this;while(q){if(q.id===n)return true;q=q._parentSection;}return false;},isLoaded:function(){return this._isLoaded;},setIsLoaded:function(q){this._isLoaded=q;return this;},scrollTo:function(){if(!m(this.nodeID))return;h.scrollTo(this.getNode(),true,false,false,h.scrollTo.bind(this).curry(this.getNode(),0));},thaw:function(){this.thawChildren();},thawChildren:function(){var q=this.childSections.getHead();while(q){q.thaw();q=q.getNext();}}});e.exports=p;});
__d("TimelineConstants",[],function(a,b,c,d,e,f){var g={DS_HEIGHT:'timeline-unit-height',DS_LOADED:'timeline-capsule-loaded',DS_SIDEORG:'timeline-unit-sideorg',DS_TAILBALANCE:'timeline-capsule-tailbalance',DS_COLUMN_HEIGHT_DIFFERENTIAL:'timeline-column-diff-height',FIXED_SIDE_LEFT:'left',FIXED_SIDE_RIGHT:'right',FIXED_SIDE_BOTH:'both',FIXED_SIDE_NONE:'none',SCROLL_TO_OFFSET:30,SUBSECTION_SCROLL_TO_OFFSET:90,SCRUBBER_DEFAULT_OFFSET:38,SECTION_LOADING:'TimelineConstants/sectionLoading',SECTION_LOADED:'TimelineConstants/sectionLoaded',SECTION_FULLY_LOADED:'TimelineConstants/sectionFullyLoaded',SECTION_REGISTERED:'TimelineConstants/sectionRegistered'};e.exports=g;});
__d("TimelineLegacySections",[],function(a,b,c,d,e,f){var g={},h={get:function(i){return g[i];},getAll:function(){return g;},remove:function(i){delete g[i];},removeAll:function(){g={};},set:function(i,j){g[i]=j;}};e.exports=h;});
__d("TimelineURI",["URI"],function(a,b,c,d,e,f){var g=b('URI'),h={TIMELINE_KEY:'timeline',WALL_KEY:'wall',parseURI:function(i){i=g(i);var j=i.getQueryData(),k=i.getPath(),l=k.split('/').slice(1);if(l[0]=='people'||l[0]=='pages')l=l.slice(2);var m=j.sk||l[1]||h.TIMELINE_KEY;if(m==h.WALL_KEY)m=h.TIMELINE_KEY;var n=null,o=null;if(m==h.TIMELINE_KEY){o=parseInt(l[2],10)||null;n=parseInt(l[3],10)||null;}return {path:k,id:j.id||l[0],key:m,viewas:j.viewas?j.viewas:0,filter:j.filter?j.filter:null,year:o,month:n,friendship:!!j.and};}};e.exports=h;});
__d("TimelineController",["Event","Arbiter","CSS","DataStore","DOMQuery","Run","ScrollingPager","TimelineConstants","TimelineLegacySections","TimelineURI","Vector","ViewportBounds","$","ge","queryThenMutateDOM"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('CSS'),j=b('DataStore'),k=b('DOMQuery'),l=b('Run'),m=b('ScrollingPager'),n=b('TimelineConstants'),o=b('TimelineLegacySections'),p=b('TimelineURI'),q=b('Vector'),r=b('ViewportBounds'),s=b('$'),t=b('ge'),u=b('queryThenMutateDOM'),v=484,w=48,x=740,y=1285,z=null,aa=false,ba,ca,da,ea,fa={},ga={},ha=[],ia=null,ja=null,ka=false,la=false,ma=0,na=false,oa=false,pa=false,qa={allactivity:true,approve:true,games:true,map:true,music:true,video:true};qa[p.TIMELINE_KEY]=true;var ra=[],sa=false;function ta(){ia&&ia.remove();ia=null;}function ua(fb,gb,hb){hb=hb||[];if(fa[fb])return fa[fb][gb].apply(fa[fb],hb);ga[fb]=ga[fb]||{};ga[fb][gb]=hb;return false;}function va(){if(!(na||pa||oa)){ta();return;}var fb=q.getScrollPosition();na=na&&za(t('rightCol'),fb,'paddingTop',true);oa=oa&&za(s('pagelet_above_header_timeline'),fb,'top');pa=pa&&za(s('blueBar'),fb,'paddingTop');}var wa=0;function xa(){wa=q.getScrollPosition();}function ya(){u(xa,function(){var fb=ma===0||wa.y>=ma;ua(eb.STICKY_HEADER,'toggle',[fb]);ua(eb.CONTENT,'checkCurrentSectionChange');},'TimelineController/scrollListener');}function za(fb,gb,hb,ib){if(!fb){ta();return;}if(gb.y<=0){ab(fb,hb);return false;}else{var jb=ib&&eb.getCurrentScrubber();if(jb&&i.hasClass(jb.getRoot(),'fixed_elem')){ab(fb,hb);return false;}else{var kb=parseInt(fb.style[hb],10)||0;if(gb.y<kb){i.addClass(fb,'timeline_fixed');fb.style[hb]=gb.y+'px';}else i.removeClass(fb,'timeline_fixed');}}return true;}function ab(fb,gb){fb.style[gb]='0px';i.removeClass(fb,'timeline_fixed');}function bb(){u(eb.shouldShowWideAds,function(){ua(eb.ADS,'adjustAdsType',[ka]);ua(eb.ADS,'adjustAdsToFit');ua(eb.CONTENT,'adjustContentPadding');ua(eb.STICKY_HEADER_NAV,'adjustMenuHeights');},'TimelineController/resize');}function cb(fb,gb){if(fb=='sidebar/initialized')sa=true;ua(eb.ADS,'adjustAdsType',[eb.shouldShowWideAds()]);}function db(){while(ha.length)ha.pop().remove();for(var fb in fa)fa[fb].reset&&fa[fb].reset();ta();ea.unsubscribe();ea=null;z=null;ba=null;fa={};ga={};ja=null;la=false;ma=0;oa=false;if(na){var gb=t('rightCol');if(gb){gb.style.paddingTop='';i.removeClass(gb,'timeline_fixed');}}na=false;if(pa){s('blueBar').style.paddingTop='';i.removeClass(s('blueBar'),'timeline_fixed');}pa=false;ra=[];sa=false;aa=false;j.purge(n.DS_HEIGHT);j.purge(n.DS_LOADED);j.purge(n.DS_SIDEORG);j.purge(n.DS_TAILBALANCE);j.purge(n.DS_COLUMN_HEIGHT_DIFFERENTIAL);}var eb={NAV:'nav',STICKY_HEADER:'sticky_header',STICKY_HEADER_NAV:'sticky_header_nav',SCRUBBER:'scrubber',CONTENT:'content',ADS:'ads',COVER:'cover',LOGGING:'logging',init:function(fb,gb,hb){if(aa)return;if(gb==p.WALL_KEY)gb=p.TIMELINE_KEY;aa=true;ba=fb;ca=hb.has_fixed_ads;da=hb.force_wide_ads;la=hb.one_column_minimal;ua(eb.CONTENT,'adjustContentPadding');ha.push(g.listen(window,'scroll',ya),g.listen(window,'resize',bb));ea=h.subscribe(['sidebar/initialized','sidebar/show','sidebar/hide'],cb);l.onLeave(db);eb.registerCurrentKey(gb);},setAdsTracking:function(fb){ua(eb.ADS,'start',[fb]);},coverHasExpanded:function(fb){var gb=t('rightCol');if(gb){gb.style.paddingTop=fb+'px';na=true;}var hb=s('pagelet_above_header_timeline');if(hb.firstChild){s('above_header_timeline_placeholder').style.height=hb.offsetHeight+'px';hb.style.top=fb+'px';oa=true;}var ib=document.documentElement;pa=ib.clientHeight<400||ib.clientWidth<ib.scrollWidth;if(pa)s('blueBar').style.paddingTop=fb+'px';ia=g.listen(window,'scroll',va);h.inform('reflow');},pageHasScrubber:function(fb){return !fb||fb.match(/^(og_)?app_/)||(fb in qa);},fixedAds:function(){return ca;},registerCurrentKey:function(fb){z=fb;ja=fb!=='map'&&q.getViewportDimensions().y<x&&eb.pageHasScrubber(fb);ja=ja||s('blueBar').offsetTop;ua(eb.ADS,'setShortMode',[ja]);ua(eb.ADS,'updateCurrentKey',[fb]);ma=fb==p.TIMELINE_KEY?v-w:0;},getCurrentKey:function(){return z;},getSectionKeys:function(){return ra;},getCurrentScrubber:function(){return fa[eb.SCRUBBER];},getCurrentStickyHeaderNav:function(){return fa[eb.STICKY_HEADER_NAV];},scrubberHasLoaded:function(fb){ua(eb.STICKY_HEADER_NAV,'addTimePeriods',[ra]);i.conditionClass(fb.getRoot(),'fixed_elem',!ja);ua(eb.ADS,'registerScrubber',[fb]);},registerSectionKey:function(fb,gb){if(fa[eb.STICKY_HEADER_NAV]){ua(eb.STICKY_HEADER_NAV,'addTimePeriod',[fb]);}else ra[gb]=fb;},scrubberHasChangedState:function(){ua(eb.ADS,'adjustAdsToFit');},scrubberWasClicked:function(fb){ua(eb.LOGGING,'logScrubberClick',[fb]);},sectionHasChanged:function(fb,gb){ua(eb.STICKY_HEADER_NAV,'updateSection',[fb,gb]);ua(eb.SCRUBBER,'updateSection',[fb,gb]);ua(eb.ADS,'loadAdsIfEnoughTimePassed');ua(eb.LOGGING,'logSectionChange',[fb,gb]);},navigateToSection:function(fb){ua(eb.CONTENT,'navigateToSection',[fb]);},shouldShowWideAds:function(){if(da){ka=true;}else if(!sa){ka=false;}else{var fb=y+r.getRight()+r.getLeft();ka=q.getViewportDimensions().x>=fb;}return ka;},sidebarInitialized:function(){return sa;},adjustStickyHeaderWidth:function(){ua(eb.STICKY_HEADER,'adjustWidth');},isOneColumnMinimal:function(){return la;},register:function(fb,gb){fa[fb]=gb;if(ga[fb]){for(var hb in ga[fb])ua(fb,hb,ga[fb][hb]);delete ga[fb];}},adjustScrollingPagerBuffer:function(fb,gb){var hb=j.get(n.DS_COLUMN_HEIGHT_DIFFERENTIAL,gb);if(!hb)return;var ib=m.getInstance(fb);ib&&ib.setBuffer(ib.getBuffer()+Math.abs(hb));},runOnceWhenSectionFullyLoaded:function(fb,gb,hb){var ib=o.get(gb);if(ib){var jb=false;k.scry(ib.node,'.fbTimelineCapsule').forEach(function(lb){if(!jb&&parseInt(j.get(n.DS_LOADED,lb.id),10)>=parseInt(hb,10)){fb();jb=true;}});if(jb)return;}var kb=h.subscribe(n.SECTION_FULLY_LOADED,function(lb,mb){if(mb.scrubberKey===gb&&mb.pageIndex===hb){fb();kb.unsubscribe();}});}};e.exports=eb;});
__d("TimelineNavigation",["Event","Arbiter","DOM","CSS","PageTransitions","Parent","TimelineController","TimelineURI","URI","$","createArrayFrom","ge"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('DOM'),j=b('CSS'),k=b('PageTransitions'),l=b('Parent'),m=b('TimelineController'),n=b('TimelineURI'),o=b('URI'),p=b('$'),q=b('createArrayFrom'),r=b('ge'),s=4,t=110,u=20,v=119,w=328,x=10,y=3,z=false,aa=21,ba,ca,da,ea=[],fa=[],ga,ha=0,ia,ja=0,ka=0,la,ma=s,na=false,oa=false,pa=null,qa,ra=false,sa,ta,ua=false;function va(jb,kb,lb){if(!kb.firstChild){i.remove(kb);return;}fa.push(kb);ya(lb.recent);j.removeClass(l.byTag(kb,'li'),'empty');if(ga&&(ja>s||ka>0))j.removeClass(ga,'notready');xa();if(lb.async){cb();eb();}}function wa(jb,kb,lb){i.remove(l.byTag(kb,'li'));if(!lb.async){la++;}else{ja--;cb();eb();}xa();}function xa(){var jb=ga?0:aa;if(ja<=s){var kb=w+v*Math.max(0,s-ja)+jb;if(ia)ia.style.width=kb+'px';ma=ja;za();}}function ya(jb){if(jb){ka++;}else ja++;za();}function za(){if(!sa)return;var jb=Math.max(0,ja-s)+ka;if(ha&&ga){i.setContent(ha,jb===0?" ":jb);j.conditionClass(ga,'fbTimelineMoreButtonZero',jb===0);if(!na)j.conditionShow(ga,jb>0);}}function ab(){var jb=i.scry(p('fbTimelineNavTopRow'),'li.tile'),kb=0,lb=0,mb=Math.max(0,s-ma),nb=false;for(var ob=0;ob<jb.length;ob++){if(jb[ob]==ia||jb[ob]==ga)continue;nb=((kb+mb)%s===0);j.conditionClass(jb[ob],'leftMost',(kb!==0&&nb));if(!j.hasClass(jb[ob],'empty'))lb=kb;kb++;}nb=((lb+1+mb)%s===0);var pb=jb.length-1-mb;if(nb){if(na&&(lb+1+mb)/s<y){pb=Math.min(pb,lb+s);oa=true;}else pb=lb;}else{var qb=((lb+1+mb)%s);pb=lb+(s-qb);oa=false;}ob=0;for(ob=0;ob<=pb;ob++)if(jb[ob]&&(jb[ob]==ia||jb[ob]==ga)){pb++;}else jb[ob]&&j.hasClass(jb[ob],'empty')&&j.removeClass(jb[ob],'hidden_elem');}function bb(jb,kb,lb){var mb=i.scry(jb,'li.tile');if(!kb)kb=0;var nb=false;for(var ob=kb;ob<mb.length;ob++){nb=((ob-lb)%s===0);var pb=mb[ob];j.conditionClass(pb,'leftMost',nb);if(j.hasClass(pb,'empty'))j.removeClass(pb,'hidden_elem');}}function cb(){ab();var jb=r('fbTimelineNavSecondaryRow');jb&&bb(jb,0,0);}function db(){if(!ga)return;if(j.hasClass(ga,'notready'))return;j.toggleClass(ga,'fbTimelineMoreButtonOpen');var jb=r('fbRecentAppTitle');jb&&j.conditionClass(jb,'hidden_elem',ka===0);if(j.hasClass(ga,'fbTimelineMoreButtonOpen')){cb();}else za();eb();}function eb(){if(ga&&!j.hasClass(ga,'fbTimelineMoreButtonOpen')){ba.style.height='';j.removeClass(ba,'expanded');}else{var jb=ja+(s-ma),kb=((ka>0)?x:0)+t*(Math.ceil(ka/s))+t*(Math.ceil(jb/s))+t*(oa?1:0)+u;j.addClass(ba,'expanded');ba.style.height=kb+'px';}}function fb(jb){var kb=jb==n.TIMELINE_KEY||jb==n.WALL_KEY,lb=l.byClass(ba,'fbTimelineTopSectionBase'),mb=r('timeline_tour_toolbar');if(ga){j.removeClass(ga,'fbTimelineMoreButtonOpen');eb();}mb&&j.conditionShow(mb,kb);if(lb)j.conditionClass(lb,'collapsedHead',!kb);}function gb(event){if(ua)return true;if(!l.byTag(event.getTarget(),'a')){var jb=i.find(ia,'a.title');k.go(jb.href);}}function hb(){if(ga)(function(){ga.removeAttribute('ajaxify');ga.removeAttribute('rel');}).defer();pa&&pa.remove();}var ib={UPDATE_PAGE:'TimelineNavigation/updatePage',init:function(jb,kb,lb,mb){if(z)return;z=true;ba=jb;ga=kb;ca=o.getRequestURI();ia=i.scry(ba,'li.about')[0];fb(m.getCurrentKey());na=mb;h.inform(ib.UPDATE_PAGE);if(ga){ha=i.find(ga,'div.text');pa=g.listen(ga,'click',hb);}qa=p('fbTimelineNavigationLoadContainer');i.appendContent(p('content'),qa);if(ia)ta=g.listen(ia,'click',gb);ea.forEach(function(ob){if(!ob[2].remove){va.apply(this,ob);}else wa.apply(this,ob);});ea=[];var nb=l.byClass(jb,'fbTimelineSection');if(nb)i.scry(nb,'ul.uiButtonGroup').forEach(function(ob){q(ob.childNodes).forEach(function(pb){pb.childNodes.length||i.remove(pb);});if(ob.firstChild){j.addClass(ob.firstChild,'firstItem');}else i.remove(ob);});m.register(m.NAV,ib);},reset:function(){ta&&ta.remove();ta=null;sa&&sa.remove();sa=null;z=false;ba=null;da=null;fa=[];ga=null;ha=null;ia=null;ja=0;ka=0;la=0;ma=s;na=false;oa=false;qa=null;ra=false;ua=false;},initializeMorePager:function(){if(sa)return;if(ga)sa=g.listen(ga,'click',db);},registerNav:function(jb,kb,lb){z?(lb.remove?wa.apply(this,arguments):va.apply(this,arguments)):ea.push(arguments);},redraw:function(){cb();eb();},setEditMode:function(jb){ua=jb;}};e.exports=ib;});
__d("TimelineSideAds",["function-extensions","Arbiter","CSS","DOM","EgoAdsObjectSet","Event","StickyController","TimelineConstants","TimelineController","UIPagelet","URI","Vector","cx","csx","debounce","ge"],function(a,b,c,d,e,f){b('function-extensions');var g=b('Arbiter'),h=b('CSS'),i=b('DOM'),j=b('EgoAdsObjectSet'),k=b('Event'),l=b('StickyController'),m=b('TimelineConstants'),n=b('TimelineController'),o=b('UIPagelet'),p=b('URI'),q=b('Vector'),r=b('cx'),s=b('csx'),t=b('debounce'),u=b('ge'),v=2,w=3,x=75,y='data-height',z=30000,aa=0,ba=false,ca,da,ea,fa,ga,ha=new j(),ia,ja=false,ka,la=Infinity,ma=5,na=false,oa,pa,qa,ra,sa,ta,ua=false,va=[],wa;function xa(ub,vb,wb){var xb=0;if(vb)xb+=vb.getHeight();if(!cb()&&!xb)return;ub-=xb;var yb=0;for(var zb=0;zb<wb;zb++)yb+=lb(zb);if(vb)if(ub<yb){ub+=vb.fold(yb-ub);}else if(ub>yb)ub-=vb.unfold(ub-yb);return ub;}function ya(){var ub=da.cloneNode(true);ub.id='';var vb=new j();vb.init(i.scry(ub,'div.ego_unit'));var wb=true;vb.forEach(function(xb){if(wb){wb=false;}else i.remove(xb);});h.addClass(ub,'fixed_elem');return ub;}function za(){ga=undefined;if(!n.pageHasScrubber(ia)){db(ma);gb();}else if(pa){eb(da,false);var ub=qa;qa&&i.remove(qa);qa=ya();if(ub)rb();db(n.sidebarInitialized()&&ja?w:v);gb();if(!ka){var vb=n.getCurrentScrubber();if(vb)qb(vb.getRoot(),vb.getOffset());}ka&&ka.start();}else tb.adjustAdsToFit();}function ab(){if(qa){i.remove(qa);qa=null;}if(ka){ka.stop();ka=null;}if(cb()){h.conditionClass(da,'fixed_elem',!pa);h.conditionClass(da,"_22s",!n.pageHasScrubber(ia));}else h.conditionClass(da,'fixed_elem',!pa&&n.pageHasScrubber(ia));}function bb(ub){var vb=q.getViewportDimensions().y,wb=n.getCurrentScrubber(),xb=wb?wb.getOffset():m.SCRUBBER_DEFAULT_OFFSET,yb=vb-xb-x;if(wb||cb())return xa(yb,wb,ub);}function cb(){return n.fixedAds();}function db(ub){fa=Math.min(ub,ha.getCount());ha.forEach(function(vb,wb){eb(vb,wb>=fa);});eb(da,fa===0);}function eb(ub,vb){h.conditionClass(ub,"_22r",vb);ub.setAttribute('aria-hidden',vb?'true':'false');}function fb(ub){var vb=i.find(ha.getUnit(ub),"div._4u8"),wb=vb.getAttribute('data-ad');return JSON.parse(wb).adid;}function gb(){ib();hb();}function hb(){var ub;if(ga!==undefined){ub=ha.getHoldoutAdIDsForSpace(ga,mb);}else ub=ha.getHoldoutAdIDsForNumAds(fa);if(ub)ub.forEach(jb);}function ib(){if(!ra)return;for(var ub=fa-1;ub>=0;--ub){if(ka&&ka.isFixed()&&((ub!==0)||(qa&&!h.shown(qa))))continue;var vb=fb(ub);if(!ra[vb])return;jb(vb);}}function jb(ub){if(!ra[ub])return;var vb=i.create('iframe',{src:p('/ai.php').addQueryData({aed:ra[ub]}),width:0,height:0,frameborder:0,scrolling:'no',className:'fbEmuTracking'});vb.setAttribute('aria-hidden','true');i.appendContent(da,vb);delete ra[ub];}function kb(ub){var vb=0;while(ub>0&&vb<ma){ub-=lb(vb);if(ub>=0)vb++;}return vb;}function lb(ub){var vb=ha.getUnit(ub);if(!vb)return 0;return mb(vb);}function mb(ub){if(!ub.getAttribute(y))nb(ub);return parseInt(ub.getAttribute(y),10);}function nb(ub){ub.setAttribute(y,ub.offsetHeight);}function ob(){for(var ub=0;ub<ha.getCount();ub++){var vb=ha.getUnit(ub);if(!vb)continue;nb(vb);}}function pb(){var ub=i.scry(da,'div.ego_unit');ha.init(ub);var vb=ub.length;if(!vb)return;h.addClass(ha.getUnit(0),'ego_unit_no_top_border');na=vb;za();var wb=function(xb){nb(xb);na=--vb;tb.adjustAdsToFit();if(!na)la=Date.now();};ub.forEach(function(xb){function yb(){wb.curry(xb).defer();}var zb=i.scry(xb,'img.img')[0];if(!zb)return;if(zb.complete){yb();}else k.listen(zb,{load:yb,error:yb,abort:yb});});}function qb(ub,vb){ka=new l(ub,vb,function(wb){if(wb){rb();}else{i.remove(qa);gb();}});if(qa)ka.start();}function rb(){i.insertAfter(da,qa);sb();}function sb(){h.conditionShow(qa,lb(0)<=bb(1)&&!h.hasClass(document.documentElement,'tinyViewport'));}var tb={init:function(ub,vb,wb){if(ba)return;ma=wb.max_ads;ca=wb.refresh_delay;z=wb.refresh_threshold;ba=true;ea=vb;da=ub;tb.adjustAdsType(n.shouldShowWideAds());sa=g.subscribe(['UFI/CommentAddedActive','UFI/CommentDeletedActive','UFI/LikeActive','Curation/Action','ProfileBrowser/LoadMoreContent','Ads/NewContentDisplayed'],tb.loadAdsIfEnoughTimePassed);if(wb.refresh_collection_change)ta=g.subscribe('TimelineSideAds/refresh',tb.forceReloadAds);wa=t(tb.loadAdsIfEnoughTimePassed,ca,this,true);if(wb.mouse_move){va.push(k.listen(window,'mousemove',wa));va.push(k.listen(window,'scroll',wa));va.push(k.listen(window,'resize',wa));}n.register(n.ADS,tb);},setShortMode:function(ub){pa=ub;},start:function(ub){ra=ub;oa=null;pb();},updateCurrentKey:function(ub){if(ub==ia)return;ia=ub;ab();},loadAds:function(ub){if(na||oa)return;la=Infinity;oa=o.loadFromEndpoint('WebEgoPane',da.id,{pid:33,data:[ea,false,'timeline_'+ub,pa?w:ma,++aa]},{crossPage:true,bundle:false});},registerScrubber:function(ub){if(pa)qb(ub.getRoot(),ub.getOffset());!oa&&tb.adjustAdsToFit();},loadAdsIfEnoughTimePassed:function(){if(z&&(Date.now()-la>=z)&&!h.hasClass(document.documentElement,'tinyViewport')&&(!ka||ka.isFixed())&&(!ra||!ra[fb(0)]))tb.loadAds(ia);tb.adjustAdsToFit();},forceReloadAds:function(){tb.loadAds(ia);},adjustAdsType:function(ub){if(ub!=ja){h.conditionClass(da,"_22q",!ub);h.conditionClass(da,"_35q",!ub);qa&&h.conditionClass(qa,"_22q",!ub);qa&&h.conditionClass(qa,"_35q",!ub);ja=ub;ob();tb.adjustAdsToFit();var vb=u('rightColContent');if(vb)h.conditionClass(vb,'fbTimelineWideRightCol',ub);}},adjustAdsToFit:function(){if(!da||ua)return;ua=true;var ub=ja?w:v;if(pa){if(ka&&qa){ka.handleScroll();if(ka.isFixed()){h.conditionShow(qa,lb(0)<=bb(1)&&!h.hasClass(document.documentElement,'tinyViewport'));}else db(ub);gb();}}else{var vb=bb(ub);if(typeof vb!=='undefined'){ga=vb;db(kb(vb));if(!na)gb();}}ua=false;},reset:function(){ka&&ka.stop();oa&&oa.cancel();ha=new j();ja=false;da=null;ka=null;oa=null;aa=0;na=null;pa=null;qa=null;ia=null;la=Infinity;ba=false;sa&&g.unsubscribe(sa);sa=null;ta&&g.unsubscribe(ta);ta=null;va.forEach(function(ub){ub.remove();});va=[];wa&&wa.reset();}};e.exports=a.TimelineSideAds||tb;});
__d("TimelineStickyHeader",["Arbiter","Bootloader","CSS","DOM","TimelineController","TimelineURI","Vector","ViewportBounds","$","ge","queryThenMutateDOM"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Bootloader'),i=b('CSS'),j=b('DOM'),k=b('TimelineController'),l=b('TimelineURI'),m=b('Vector'),n=b('ViewportBounds'),o=b('$'),p=b('ge'),q=b('queryThenMutateDOM'),r=false,s=false,t,u,v,w,x={VISIBLE:'TimelineStickyHeader/visible',ADJUST_WIDTH:'TimelineStickyHeader/adjustWidth',init:function(y){if(r)return;r=true;t=y;u=j.find(y,'div.name');v=j.find(y,'div.actions');s=i.hasClass(y,'fbTimelineStickyHeaderVisible');var z=o('blueBar'),aa,ba,ca,da=false;q(function(){aa=y.offsetTop;ba=y.scrollHeight;if(z.offsetTop&&!p('page_admin_panel')&&k.getCurrentKey()!==l.TIMELINE_KEY){ca=m.getElementDimensions(z).y;da=true;}},function(){w=n.addTop(function(){return s?aa+ba:0;});if(da){h.loadModules(['StickyController'],function(ea){new ea(y,ca).start();});}else i.addClass(y,'fixed_elem');k.register(k.STICKY_HEADER,x);},'TimelineStickyHeader/init');},reset:function(){r=false;s=false;t=null;u=null;v=null;w.remove();w=null;},toggle:function(y){i.conditionClass(t,'fbTimelineStickyHeaderHidden',!y);t.setAttribute('aria-hidden',y?'false':'true');if(y!==s){s=y;g.inform(x.VISIBLE,y);}},adjustWidth:function(){g.inform(x.ADJUST_WIDTH,u,g.BEHAVIOR_STATE);},getRoot:function(){return t;},setActions:function(y){if(r&&y){j.setContent(v,y);v=y;}}};e.exports=a.TimelineStickyHeader||x;});
__d("ButtonGroup",["function-extensions","copyProperties","createArrayFrom","CSS","DataStore","Parent"],function(a,b,c,d,e,f){b('function-extensions');var g=b('copyProperties'),h=b('createArrayFrom'),i=b('CSS'),j=b('DataStore'),k=b('Parent'),l='firstItem',m='lastItem';function n(s,t){var u=k.byClass(s,t);if(!u)throw new Error('invalid use case');return u;}function o(s){return i.shown(s)&&h(s.childNodes).some(i.shown);}function p(s){var t,u,v;h(s.childNodes).forEach(function(w){v=o(w);i.removeClass(w,l);i.removeClass(w,m);i.conditionShow(w,v);if(v){t=t||w;u=w;}});t&&i.addClass(t,l);u&&i.addClass(u,m);i.conditionShow(s,t);}function q(s,t){var u=n(t,'uiButtonGroupItem');s(u);p(u.parentNode);}function r(s){this._root=n(s,'uiButtonGroup');j.set(this._root,'ButtonGroup',this);p(this._root);}r.getInstance=function(s){var t=n(s,'uiButtonGroup'),u=j.get(t,'ButtonGroup');return u||new r(t);};g(r.prototype,{hideItem:q.curry(i.hide),showItem:q.curry(i.show),toggleItem:q.curry(i.toggle)});e.exports=r;});
__d("TimelineStickyHeaderNav",["Event","function-extensions","Arbiter","ButtonGroup","CSS","DOM","Parent","Selector","Style","TimelineConstants","TimelineController","TimelineLegacySections","URI","UserAgent","Vector","ge","tx"],function(a,b,c,d,e,f){var g=b('Event');b('function-extensions');var h=b('Arbiter'),i=b('ButtonGroup'),j=b('CSS'),k=b('DOM'),l=b('Parent'),m=b('Selector'),n=b('Style'),o=b('TimelineConstants'),p=b('TimelineController'),q=b('TimelineLegacySections'),r=b('URI'),s=b('UserAgent'),t=b('Vector'),u=b('ge'),v=b('tx'),w=false,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia={},ja={},ka=[],la=false,ma=[],na=[],oa=[],pa=[],qa=[],ra=["January","February","March","April","May","June","July","August","September","October","November","December"];function sa(event){var hb=l.byTag(event.getTarget(),'a');if(hb){p.navigateToSection(hb.getAttribute('data-key'));event.prevent();}}function ta(hb,ib){var jb=m.getValue(ib);if(jb==='allStories')q.get(hb).expandSubSections();if(jb!=='activityLog')ua(ib);}function ua(hb){eb(hb,'highlights');eb(hb,'allStories');var ib=k.find(hb,'li.separator');j.conditionShow(ib,ib.previousSibling);}function va(hb){if(fa[hb]&&!y.custom_subsection_menu){bb(hb);}else ya();p.adjustStickyHeaderWidth();}function wa(hb,ib){var jb=ib.key;if(ga[jb]){cb(jb);va(jb);}}function xa(hb,ib){var jb=ib.scrubberKey;cb(jb);if(z===jb)va(jb);}function ya(){aa.hideItem(da);}function za(hb){var ib=hb.split('_');return ra[ib.pop()-1];}function ab(hb){var ib=ea[hb],jb=fa[hb];if(!ib&&jb){ib=ea[hb]=da.cloneNode(true);var kb=k.scry(ib,'li.activityLog a')[0];if(kb)kb.href=r(kb.href).addQueryData({key:hb});var lb=p.getCurrentScrubber();if(jb.length)j.show(k.find(ib,'li.separator'));for(var mb=0;mb<jb.length;mb++){var nb=jb[mb].scrubberKey,ob=lb?lb.getLabelForSubnav(jb[mb].parentKey,nb):ob=za(nb);if(ob)db(ib,{key:nb,label:ob});}if(fb()){ua(ib);m.setSelected(ib,k.scry(ib,'option')[1].value,true);}qa.push(m.listen(ib,'change',ta.curry(hb,ib)));oa.push(g.listen(ib,'click',sa));}return ib;}function bb(hb){var ib=ab(hb);k.insertAfter(da,ib);j.hide(da);for(var jb in ea){var kb=ea[jb];j.conditionShow(kb,kb===ib);}aa.showItem(da);}function cb(hb){fa[hb]=q.get(hb).subSections;}function db(hb,ib){var jb=k.create('a',{href:'#',rel:'ignore',className:'itemAnchor',tabIndex:0},k.create('span',{className:'itemLabel fsm'},ib.label));jb.setAttribute('data-key',ib.key);jb.setAttribute('aria-checked',false);var kb=k.create('li',{className:'uiMenuItem uiMenuItemRadio uiSelectorOption'},jb);kb.setAttribute('data-label',ib.label);var lb=k.find(hb,'ul.uiMenuInner'),mb=k.create('option',{value:ib.key},ib.label),nb=k.find(hb,'select');if(ib.key==='recent'){k.prependContent(lb,kb);k.insertAfter(nb.options[0],mb);}else{k.appendContent(lb,kb);k.appendContent(nb,mb);}}function eb(hb,ib){var jb=k.scry(hb,'li.uiMenuItem');if(!jb)return;for(var kb=0;kb<jb.length;kb++){var lb=jb[kb];if(j.hasClass(lb,ib)||lb.firstChild.getAttribute('data-key')==ib){k.remove(lb);break;}}var mb=k.find(hb,'select'),nb=k.scry(mb,'option');for(kb=0;kb<nb.length;kb++)if(nb[kb].value===ib){k.remove(nb[kb]);return;}}function fb(){return p.getCurrentKey()==='allactivity'||p.getCurrentKey()==='approve';}var gb={init:function(hb,ib){if(w)return;w=true;x=hb;y=ib||{};ba=k.find(x,'div.pageMenu');ca=k.find(x,'div.sectionMenu');da=k.find(x,'div.subsectionMenu');ha=k.find(ba,'li.uiMenuSeparator');aa=i.getInstance(ba);ea={};fa={};ga={};gb.adjustMenuHeights();p.register(p.STICKY_HEADER_NAV,gb);na.forEach(function(jb){jb();});},reset:function(){w=false;y={};ka=[];ia={};ja={};la=false;ma=[];x=null;ba=null;ca=null;da=null;ha=null;ea={};fa={};ga={};while(oa.length)oa.pop().remove();pa.forEach(h.unsubscribe);qa.forEach(m.unsubscribe.bind(m));},addTimePeriods:function(hb){if(!hb.length)return;if(y.pull_from_scrubber){k.setContent(k.find(ca,'ul.uiMenuInner'),'');k.remove(k.find(ca,'select').children[1]);while(hb.length){var ib=hb.shift();ib&&gb.addTimePeriod(ib);}aa.showItem(ca);}var jb=m.getSelectorMenu(ca);oa.push(g.listen(jb,'click',sa));var kb=fb()?o.SECTION_REGISTERED:o.SECTION_LOADED,lb=fb()?xa:wa;pa.push(h.subscribe(kb,lb));},addTimePeriod:function(hb){var ib=p.getCurrentScrubber();if(!ib)return;var jb=ib.getLabelForNav(hb);if(!jb)return;db(ca,{key:hb,label:jb});var kb=k.find(ca,'ul.uiMenuInner');if(hb==='recent'||kb.children.length<2)m.setSelected(ca,hb,true);},updateSection:function(hb,ib){if(ib){var jb=ab(hb);if(jb){m.setSelected(jb,ib);ua(jb);}else z=hb;}else{ga[hb]=true;cb(hb);}m.setSelected(ca,hb,true);va(hb);},adjustMenuHeights:function(){if(s.ie()<=7)return;[ba,ca].forEach(function(hb){var ib='';if(!j.hasClass(document.documentElement,'tinyViewport')){ib=t.getViewportDimensions().y-t.getElementDimensions(u('blueBar')).y-80;ib+='px';}n.set(k.find(hb,'ul.uiMenuInner'),'maxHeight',ib);});},initPageMenu:function(hb,ib){if(!w){na.push(gb.initPageMenu.curry(hb,ib));return;}function jb(kb,lb){kb.forEach(function(mb){var nb=ja[mb]=k.create('li');j.hide(nb);lb?k.insertBefore(ha,nb):k.appendContent(k.find(ba,'ul.uiMenuInner'),nb);});}jb(hb,true);jb(ib,false);ia.info=k.scry(ba,'li')[0];ka=ib;la=true;if(ma.length)ma.forEach(function(kb){gb.registerPageMenuItem(kb.key,kb.item);});},registerPageMenuItem:function(hb,ib){if(!la){ma.push({key:hb,item:ib});return;}if(ja[hb]){k.replace(ja[hb],ib);ia[hb]=ib;delete ja[hb];if(ka.indexOf(hb)>=0)j.show(ha);}},removeTimePeriod:function(hb){eb(ca,hb);}};e.exports=gb;});
__d("TimelineScrubber",["Event","CSS","DOM","Focus","Keys","Parent","TimelineController","Vector","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('CSS'),i=b('DOM'),j=b('Focus'),k=b('Keys'),l=b('Parent'),m=b('TimelineController'),n=b('Vector'),o=b('copyProperties');function p(q){this._root=q;this._navKeys={};this._subNavKeys={};this._rollups={};this._rolledup={};var r=q.childNodes;this._currentNav=r[0];for(var s=0;s<r.length;s++){var t=r[s].getAttribute('data-key');this._navKeys[t]=r[s];var u=i.scry(r[s],'ul');this._subNavKeys[t]={};if(u.length){var v=u[0].childNodes;for(var w=0;w<v.length;w++)this._subNavKeys[t][v[w].getAttribute('data-key')]=v[w];}var x=r[s].getAttribute('data-rollup');if(x){this._rollups[x]=this._rollups[x]||[];this._rollups[x].push(r[s]);}}this._clickListener=g.listen(this._root,'click',this._handleScrub.bind(this));this._focusHandler=g.listen(this._root,'keydown',this._moveFocus.bind(this));this._tabbableElement=i.scry(this._root,'a')[0];h.show(this._root);var y=n.getViewportDimensions().y-this.SCRUBBER_NO_ADS_VERTICAL_BUFFER,z=this.getHeight();if(z>y)this.fold(z-y);m.register(m.SCRUBBER,this);m.scrubberHasLoaded(this);}o(p.prototype,{KEY_HEIGHT:23,SUBKEY_HEIGHT:16,OFFSET:38,SCRUBBER_NO_ADS_VERTICAL_BUFFER:125,reset:function(){this._root=null;this._navKeys={};this._subNavKeys={};this._rollups={};this._rolledup={};},getRoot:function(){return this._root;},getNav:function(q){return this._navKeys[q];},getSubnav:function(q,r){return this._subNavKeys[q][r];},getHeight:function(){return this._root.offsetHeight;},getLabelForNav:function(q){var r=this.getNav(q);return r&&i.getText(i.scry(r,'a')[0]);},getLabelForSubnav:function(q,r){var s=this.getSubnav(q,r);return s&&i.getText(i.scry(s,'a')[0]);},fold:function(q){return this._adjustFolding(q,true);},unfold:function(q){return this._adjustFolding(q,false);},getOffset:function(){return this.OFFSET+(h.hasClass(document.body,'hasVoiceBar')?26:0)+(h.hasClass('rightColContent','pagesTimelineRightColumn')?48:0);},updateSection:function(q,r){if(!this._navKeys[q])return;var s=this._navKeys[q].getAttribute('data-rollup');if(this._currentRollup&&this._currentRollup!=s){h.removeClass(this._currentRollup,'selected');h.removeClass(i.scry(this._currentRollup,'ul')[0],'loaded');delete this._currentRollup;}if(s&&this._rolledup[s]){var t=this._rolledup[s];if(t.getAttribute('data-rollup')){this._currentRollup=t;h.addClass(this._currentRollup,'selected');h.addClass(i.scry(this._currentRollup,'ul')[0],'loaded');}}this._currentNav&&h.removeClass(this._currentNav,'selected');this._currentSubNav&&h.removeClass(this._currentSubNav,'selected');this._currentNav=null;this._currentSubNav=null;if(this._navKeys[q]){this._currentNav=this._navKeys[q];h.addClass(this._currentNav,'selected');if(this.decadesAreSelectable&&this._navKeys[r]){this._currentSubNav=this._navKeys[r];h.addClass(this._currentSubNav,'selected');}else if(r&&this._subNavKeys[q][r]){this._currentSubNav=this._subNavKeys[q][r];h.addClass(this._currentSubNav,'selected');}}},_getRollupSize:function(q){var r=this._currentNav,s=r&&r.getAttribute('data-rollup'),t=this.KEY_HEIGHT*(this._rollups[q].length-1);if(q==s){t+=this.SUBKEY_HEIGHT*i.scry(r,'li').length;t-=this.SUBKEY_HEIGHT*(this._rollups[q].length-1);}return t;},_adjustFolding:function(q,r){var s=q,t=Object.keys(this._rollups);while(q>0&&t.length){var u=t[r?'pop':'shift']();if(!r==!this._rolledup[u])continue;var v=this._getRollupSize(u);if(v<=0)continue;if(!r&&v>q)break;this[r?'_collapseRollup':'_expandRollup'](u);q-=v;}return s-q;},_collapseRollup:function(q){var r=this._rollups[q];if(!r||r.length<2||this._rolledup[q])return;var s=r[0].previousSibling,t=r[0],u=i.create('a',{href:t.firstChild.href,rel:'ignore',tabindex:'-1'},[q]),v=i.create('ul',{className:'clearfix'});for(var w=0;w<r.length;w++)v.appendChild(r[w]);var x=i.create('li',null,[u,v]);if(this.decadesAreSelectable){var y=r[r.length-1],z=t.getAttribute('data-key')+y.getAttribute('data-key');x.setAttribute('data-start',y.getAttribute('data-start'));x.setAttribute('data-end',t.getAttribute('data-end'));x.setAttribute('data-key',z);this._navKeys[z]=x;}else x.setAttribute('data-key',t.getAttribute('data-key'));x.setAttribute('data-rollup',q);if(s){i.insertAfter(s,x);}else i.prependContent(this._root,x);this._rolledup[q]=x;this._checkSelection();this._ensureFocusableElementIsVisible();},_expandRollup:function(q){if(!this._rolledup[q])return;var r=this._rolledup[q],s=i.scry(r,'ul')[0],t=document.createDocumentFragment();while(s.childNodes.length)t.appendChild(s.firstChild);i.replace(r,t);this._rolledup[q]=false;this._checkSelection();},_checkSelection:function(){if(this._currentNav){var q=this._currentSubNav&&this._currentSubNav.getAttribute('data-key');this.updateSection(this._currentNav.getAttribute('data-key'),q);}},_handleScrub:function(event){var q=event.getModifiers();if(event.isMiddleClick()||q.access||q.meta)return true;var r=l.byTag(event.getTarget(),'a'),s=r&&l.byAttribute(r,'data-key');if(s){m.scrubberWasClicked(s.getAttribute('data-key'));m.navigateToSection(s.getAttribute('data-key'));return event.prevent();}},_ensureFocusableElementIsVisible:function(){while(!(this._tabbableElement.offsetHeight||this._tabbableElement.offsetWidth)){this._tabbableElement.tabIndex=-1;var q=l.byTag(l.byTag(this._tabbableElement,'li'),'li');this._tabbableElement=i.scry(q,'a')[0];this._tabbableElement.tabIndex=0;}},_moveFocus:function(event){if(event.getModifiers().any)return;var q=g.getKeyCode(event);if(q===k.UP||q===k.DOWN){var r=i.scry(this._root,'a').filter(function(u){return u.offsetHeight||u.offsetWidth;}),s=r.indexOf(this._tabbableElement);if(s!=-1){var t=r[s+(q===k.UP?-1:1)];if(t){t.tabindex=0;j.set(t);this._tabbableElement.tabindex=-1;this._tabbableElement=t;event.prevent();}}}}});e.exports=p;});
__d("TimelineMainScrubber",["Arbiter","Class","CSS","DOMQuery","TimelineConstants","TimelineController","TimelineScrubber","copyProperties"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Class'),i=b('CSS'),j=b('DOMQuery'),k=b('TimelineConstants'),l=b('TimelineController'),m=b('TimelineScrubber'),n=b('copyProperties');function o(p){this.parent.construct(this,p);this._subscribe=g.subscribe(k.SECTION_LOADED,function(q,r){var s=this._navKeys[r.key],t=s&&j.scry(s,'ul')[0];if(t){i.addClass(t,'loaded');l.scrubberHasChangedState();if(r.hideSubSections)i.hide(t);}}.bind(this));}h.extend(o,m);n(o.prototype,{reset:function(){this.parent.reset();this._subscribe&&this._subscribe.unsubscribe();}});e.exports=o;});
__d("legacy:TimelineMainScrubber",["TimelineMainScrubber"],function(a,b,c,d){a.TimelineMainScrubber=b('TimelineMainScrubber');},3);
__d("legacy:ui-scrolling-pager-js",["ScrollingPager"],function(a,b,c,d){a.ScrollingPager=b('ScrollingPager');},3);
__d("legacy:LegacyContextualDialog",["LegacyContextualDialog"],function(a,b,c,d){a.LegacyContextualDialog=b('LegacyContextualDialog');},3);
__d("ButtonGroupMonitor",["ContextualDialog","ContextualLayer","CSS","Layer","Parent","Selector"],function(a,b,c,d,e,f){var g=b('ContextualDialog'),h=b('ContextualLayer'),i=b('CSS'),j=b('Layer'),k=b('Parent'),l=b('Selector');function m(n){var o=k.byClass(n,'bg_stat_elem')||k.byClass(n,'uiButtonGroup');o&&i.toggleClass(o,'uiButtonGroupActive');}j.subscribe(['hide','show'],function(n,o){if(o instanceof h||o instanceof g)m(o.getCausalElement());});l.subscribe(['close','open'],function(n,o){m(o.selector);});});